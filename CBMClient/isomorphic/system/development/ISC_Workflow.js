/*

  SmartClient Ajax RIA system
  Version SNAPSHOT_v12.1d_2019-05-29/LGPL Development Only (2019-05-29)

  Copyright 2000 and beyond Isomorphic Software, Inc. All rights reserved.
  "SmartClient" is a trademark of Isomorphic Software, Inc.

  LICENSE NOTICE
     INSTALLATION OR USE OF THIS SOFTWARE INDICATES YOUR ACCEPTANCE OF
     ISOMORPHIC SOFTWARE LICENSE TERMS. If you have received this file
     without an accompanying Isomorphic Software license file, please
     contact licensing@isomorphic.com for details. Unauthorized copying and
     use of this software is a violation of international copyright law.

  DEVELOPMENT ONLY - DO NOT DEPLOY
     This software is provided for evaluation, training, and development
     purposes only. It may include supplementary components that are not
     licensed for deployment. The separate DEPLOY package for this release
     contains SmartClient components that are licensed for deployment.

  PROPRIETARY & PROTECTED MATERIAL
     This software contains proprietary materials that are protected by
     contract and intellectual property law. You are expressly prohibited
     from attempting to reverse engineer this software or modify this
     software for human readability.

  CONTACT ISOMORPHIC
     For more information regarding license rights and restrictions, or to
     report possible license violations, please contact Isomorphic Software
     by email (licensing@isomorphic.com) or web (www.isomorphic.com).

*/

if(window.isc&&window.isc.module_Core&&!window.isc.module_Workflow){isc.module_Workflow=1;isc._moduleStart=isc._Workflow_start=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc._moduleEnd&&(!isc.Log||(isc.Log&&isc.Log.logIsDebugEnabled('loadTime')))){isc._pTM={message:'Workflow load/parse time: '+(isc._moduleStart-isc._moduleEnd)+'ms',category:'loadTime'};if(isc.Log&&isc.Log.logDebug)isc.Log.logDebug(isc._pTM.message,'loadTime');else if(isc._preLog)isc._preLog[isc._preLog.length]=isc._pTM;else isc._preLog=[isc._pTM]}isc.definingFramework=true;isc.defineClass("ProcessElement");isc.A=isc.ProcessElement;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.getTitle=function isc_c_ProcessElement_getTitle(){var _1=this.getInstanceProperty("title");if(!_1){_1=this.getClassName();if(_1.endsWith("Task"))_1=_1.substring(0,_1.length-4);_1=isc.DataSource.getAutoTitle(_1)}
return _1});isc.B._maxIndex=isc.C+1;isc.A=isc.ProcessElement.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.editorType="ProcessElementEditor";isc.B.push(isc.A.getElementDescription=function isc_ProcessElement_getElementDescription(){return this.description||this.ID},isc.A.$195y=function isc_ProcessElement__resolveCriteriaExpressions(_1,_2,_3,_4){_1=isc.clone(_1);if(isc.DS.isAdvancedCriteria(_1)){this.$195z(_1,_2,_3,_4);if(_4.ruleScope){var _5=window[_4.ruleScope];if(!_5||_5.destroyed){this.logWarn("Attempt to resolve ruleScope references in taskInputExpression but ruleScope not found: "+_4.ruleScope)}else{_1=isc.DS.resolveDynamicCriteria(_1,_5.getRuleContext())}}}else{_1=this.$1950(_1,_2,_3,_4)}
return _1},isc.A.$195z=function isc_ProcessElement__resolveAdvancedCriteriaExpressions(_1,_2,_3,_4){var _5=_1.operator;if(_5=="and"||_5=="or"||_5=="not"){var _6=_1.criteria;if(!isc.isAn.Array(_6))_6=[_6];for(var i=0;i<_6.length;i++){this.$195z(_6[i],_2,_3,_4)}}if(_1.value!=null){_1.value=this.$1951(_1.value,_2,_3,_4)}},isc.A.$1950=function isc_ProcessElement__resolveObjectDynamicExpressions(_1,_2,_3,_4){var _5={};for(var _6 in _1){_5[_6]=this.$1951(_1[_6],_2,_3,_4)}
return _5},isc.A.$1951=function isc_ProcessElement__resolveDynamicExpression(_1,_2,_3,_4){if(!isc.isA.String(_1))return _1;if(_3&&_1.startsWith("$inputRecord")){if(_3){var _5=_1.replace("$inputRecord","state");_1=isc.Canvas.$70o(_5,null,{state:_3})}}else if(_2&&_1.startsWith("$input")){if(_2){var _5=_1.replace("$input","state");_1=isc.Canvas.$70o(_5,null,{state:_2})}}else if(_4&&_1.startsWith("$last")){_1=_1.substring(5);var _6;if(_1.startsWith("[")){var _7=_1.substring(1,_1.indexOf("]"));_1=_1.substring(_1.indexOf("]")+1);_6=_4.getLastTaskOutput(_7)}else{_6=_4.getLastTaskOutput()}
if(_1.startsWith(".")){var _5="state"+_1;_1=isc.Canvas.$70o(_5,null,{state:_6});if(_1==null){var _8=_5.substring(0,_5.lastIndexOf("."));if(!isc.Canvas.$1683(_8,null,{state:_6})){this.logWarn(this.getClassName()+" taskInputExpression path "+_5+" not found in previous task output")}}}else{_1=_6}}else if(_1.startsWith("$ruleScope")||_1.startsWith("$scope")){if(!_4.ruleScope){this.logWarn("Attempt to reference ruleScope in taskInputExpression but no ruleScope has been defined");_1=null}else{var _9=window[_4.ruleScope];if(!_9||_9.destroyed){this.logWarn("Attempt to reference ruleScope in taskInputExpression but ruleScope not found: "+_4.ruleScope);_1=null}else{var _5=_1.replace("$ruleScope","").replace("$scope","");if(_5.startsWith("."))_5=_5.substring(1);_1=_9.$1671(_5)}}}
return _1});isc.B._maxIndex=isc.C+5;isc.defineClass("ProcessSequence","ProcessElement");isc.ProcessSequence.addProperties({})
isc.defineClass("Task","ProcessElement");isc.A=isc.Task.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.editorType="TaskEditor";isc.B.push(isc.A.$1968=function isc_Task__resolveInputField(_1,_2){if(_1==null)return null;var _3;if(_1.startsWith("$"))_3=this.$1951(_1,null,null,_2);else _3=_2.getStateVariable(_1);return _3},isc.A.$1952=function isc_Task__writeOutputExpression(_1){var _2=this.outputExpression;if(!_2)return;if(_2.startsWith("$")){_2=_2.substring(1);var _3=_2;var _4;var _5=_3.indexOf(".");if(_5>0){_3=_3.substring(0,_5);_4=_3.substring(_5+1)}
var _6=isc.Canvas.getById(_3);if(_6){if(_4){if(!isc.isAn.Array(_1)){if(isc.isA.DynamicForm(_6)){_6.setFieldValue(_4,_1)}else if(isc.isA.ListGrid(_6)&&_6.canEdit){var _7=_6.getEditRow();if(_7!=null){_6.setEditValue(_7,_4,_1)}else{var _8=_6.getSelectedRecords();if(_8!=null&&_8.length==1){var _9=_6.getRecordIndex(_8[0]);_6.setEditValue(_9,_4,_1)}}}else{this.logWarn("outputExpression target is not a supported DBC or is not editable - ignored: "+_2)}}else{this.logWarn("Task output is not supported by outputExpression target - ignored: "+_2)}}else{if(_6.setValues){var _10=(isc.isAn.Array(_1)?_1[0]:_1);if(isc.isAn.Object(_10)){_6.setValues(_10)}else{this.logWarn("task output is not an object and cannot be written with outputExpression - ignored: "+_2)}}else if(_6.setData){if(isc.isAn.Array(_1)||isc.isAn.Object(_1)){if(!isc.isAn.Array(_1))_1=[_1];_6.setData(_1)}else{this.logWarn("task output is not an object and cannot be written with outputExpression - ignored: "+_2)}}else{this.logWarn("outputExpression target is not a supported DBC - ignored: "+_2)}}}else{this.logWarn("outputExpression DBC not found - ignored: "+_2)}}else{this.logWarn("Invalid outputExpression - ignored: "+_2)}});isc.B._maxIndex=isc.C+2;isc.defineClass("Process","Task");isc.A=isc.Process;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$27q={};isc.A.gatewayPlaceholderSelection="[placeholder]";isc.B.push(isc.A.loadProcess=function isc_c_Process_loadProcess(_1,_2){var _3=isc.DataSource.get("WorkflowLoader");_3.fetchData({id:_1},function(_8,_9,_10){var _4=null;var _5=_9.content;if(_5!=null){if(isc.isAn.Array(_5)){_4=isc.Class.evaluate(_5[0]);_4.ID=_1[0];isc.Process.$27q[_1[0]]=_4;for(var i=1;i<_5.length;i++){var p=isc.Class.evaluate(_5[i]);p.ID=_1[i];isc.Process.$27q[_1[i]]=p}}else{_4=isc.Class.evaluate(_5);_4.ID=_1;isc.Process.$27q[_1]=_4}}else{isc.logWarn("File named \""+_1+"\".proc.xml could not be found in the search path specified by \"project.processes\".")}
_2(_4)})},isc.A.getProcess=function isc_c_Process_getProcess(_1){return isc.Process.$27q[_1]});isc.B._maxIndex=isc.C+2;isc.A=isc.Process.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.autoStart=false;isc.B.push(isc.A.init=function isc_Process_init(){var _1=this.Super("init",arguments);this.instantiateElements();this.$1953=this.startElement;if(this.autoStart)this.start();return _1},isc.A.instantiateElements=function isc_Process_instantiateElements(){if(this.elements)this.elements=this.$1972(this.elements);if(this.sequences)this.sequences=this.$1972(this.sequences)},isc.A.$1972=function isc_Process__instantiateElements(_1){var _2=[];for(var i=0;i<_1.length;i++){var _4=_1[i];_2[i]=_4;if(isc.isAn.Object(_4)){if(_4._constructor){_2[i]=isc.ClassFactory.newInstance(_4)}
if(_4.elements){_2[i].elements=this.$1972(_4.elements)}}}
return _2},isc.A.getElement=function isc_Process_getElement(_1){return this.$87g(this,_1)},isc.A.$87g=function isc_Process__searchElement(_1,_2){if(_1.sequences){for(var i=0;i<_1.sequences.length;i++){var s=_1.sequences[i];if(s.ID==_2){return s}else if(s.sequences||s.elements){var _5=this.$87g(s,_2);if(_5)return _5}}}
if(_1.elements){for(var i=0;i<_1.elements.length;i++){var e=_1.elements[i];if(e.ID==_2){return e}else if(e.sequences||e.elements){var _5=this.$87g(e,_2);if(_5)return _5}}}},isc.A.getAllElements=function isc_Process_getAllElements(_1,_2){if(!_1)_1=this;if(!_2)_2=[];if(_1.sequences){for(var i=0;i<_1.sequences.length;i++){var s=_1.sequences[i];_2.add(s);if(s.sequences||s.elements){this.getAllElements(s,_2)}}}
if(_1.elements){for(var i=0;i<_1.elements.length;i++){var e=_1.elements[i];_2.add(e);if(e.sequences||e.elements){this.getAllElements(e,_2)}}}
return _2},isc.A.removeElement=function isc_Process_removeElement(_1){this.$197u(this,_1)},isc.A.$197u=function isc_Process__removeElement(_1,_2){if(_1.sequences){for(var i=0;i<_1.sequences.length;i++){var s=_1.sequences[i];if(s==_2){_1.sequences.removeAt(i);return true}
if(s.sequences||s.elements){if(this.$197u(s,_2))return true}}}
if(_1.elements){for(var i=0;i<_1.elements.length;i++){var e=_1.elements[i];if(e==_2){_1.elements.removeAt(i);return true}
if(e.sequences||e.elements){if(this.$197u(e,_2))return true}}}},isc.A.addElement=function isc_Process_addElement(_1,_2){if(_2){this.$1959(this,_1,_2)}else{if(!this.elements)this.elements=[];this.elements.add(_1)}},isc.A.$1959=function isc_Process__addElement(_1,_2,_3){if(_1.sequences){for(var i=0;i<_1.sequences.length;i++){var s=_1.sequences[i];if(s==_3){var _6=i+1;_1.sequences.add(_2,_6);return true}
if(s.sequences||s.elements){if(this.$1959(s,_2,_3))return true}}}
if(_1.elements){for(var i=0;i<_1.elements.length;i++){var e=_1.elements[i];if(e==_3){var _6=i+1;_1.elements.add(_2,_6);return true}
if(e.sequences||e.elements){if(this.$1959(e,_2,_3))return true}}}},isc.A.setState=function isc_Process_setState(_1){this.state=_1},isc.A.start=function isc_Process_start(){if(this.executionStack==null){if(this.logIsDebugEnabled("workflow")){this.logDebug("Start process: "+this.echo(this),"workflow")}}
if(this.executionStack==null){this.executionStack=[]}
if(this.state==null)this.state={};while(this.$39n()){var _1=this.$87h();if(_1){this.$104r=true;if(!_1.executeElement(this)){return}}}
if(this.finished){delete this.$1953;this.finished(this.state)}
if(this.logIsDebugEnabled("workflow")){this.logDebug("Process finished: "+this.echo(this),"workflow")}},isc.A.reset=function isc_Process_reset(_1){this.state=_1;this.executionStack=null;this.$1953=this.startElement;this.setLastTaskClass(null);this.$1954=null},isc.A.$39n=function isc_Process__next(_1){var _2=this.executionStack.last();if(_2==null){if(this.$1953){var _3=this.$87i(this,this.$1953);if(_3==null){isc.logWarn("unable to find task '"+this.$1953+"' - process will be finished")}
return _3}else if(this.$104r){return null}else if(this.sequences&&this.sequences.length>0){this.executionStack.add({el:this,sIndex:0});return this.sequences[0]}else if(this.elements&&this.elements.length>0){this.executionStack.add({el:this,eIndex:0});return this.elements[0]}else if(!_1){isc.logWarn("There are neither sequences or elements. Nothing to execute.")}}else{var _4=null;if(_2.sIndex!=null){_4=_2.el.sequences[_2.sIndex]}else if(_2.eIndex!=null){_4=_2.el.elements[_2.eIndex]}
this.setLastTaskClass(_4.getClassName());if(_4.nextElement){this.executionStack=[];var _3=this.$87i(this,_4.nextElement);if(_3==null){isc.logWarn("unable to find task '"+_4.nextElement+"' - process will be finished")}
return _3}else{return this.$87j()}}},isc.A.$87i=function isc_Process__gotoElement(_1,_2){var _3={el:_1};this.executionStack.add(_3);if(_1.sequences){for(var i=0;i<_1.sequences.length;i++){var s=_1.sequences[i];_3.sIndex=i;if(s.ID==_2){return s}else if(s.sequences||s.elements){var _6=this.$87i(s,_2);if(_6)return _6}}}
delete _3.sIndex;if(_1.elements){for(var i=0;i<_1.elements.length;i++){var e=_1.elements[i];_3.eIndex=i;if(e.ID==_2){return e}else if(e.sequences||e.elements){var _6=this.$87i(e,_2);if(_6)return _6}}}
this.executionStack.removeAt(this.executionStack.length-1)},isc.A.$87j=function isc_Process__findNextElement(){var _1=this.executionStack.last();if(_1.eIndex!=null&&_1.el!=this){if(_1.eIndex==_1.el.elements.length-1){this.executionStack.removeAt(this.executionStack.length-1);if(_1.el==this){return}else{return this.$87j()}}else{_1.eIndex++;return _1.el.elements[_1.eIndex]}}},isc.A.$87h=function isc_Process__getFirstTask(_1){var _2=this.executionStack.last();var _3=null;if(_2.sIndex!=null){_3=_2.el.sequences[_2.sIndex]}else if(_2.eIndex!=null){_3=_2.el.elements[_2.eIndex]}
if(_3.sequences==null&&_3.elements==null){if(!_1)this.handleTraceElement(_3);return _3}
var _4={el:_3};this.executionStack.add(_4);if(_3.sequences){for(var i=0;i<_3.sequences.length;i++){_4.sIndex=i
var _6=this.$87h(_3.sequences[i]);if(_6){this.handleTraceElement(_6);return _6}}}
if(_3.elements){for(var i=0;i<_3.elements.length;i++){_4.eIndex=i
var _6=this.$87h(_3.elements[i]);if(_6){if(_4.eIndex==0)this.handleTraceElement(_4.el);this.handleTraceElement(_6);return _6}}}
this.executionStack.removeAt(this.executionStack.length-1)},isc.A.setNextElement=function isc_Process_setNextElement(_1){var _2=this.executionStack.last(),_3=null;if(_2.sIndex!=null){_3=_2.el.sequences[_2.sIndex]}else if(_2.eIndex!=null){_3=_2.el.elements[_2.eIndex]}
this.setLastTaskClass(_3.getClassName());this.executionStack=[];this.$1953=_1},isc.A.setStateVariable=function isc_Process_setStateVariable(_1,_2){if(_1.indexOf(".")<0||this.state[_1]){this.state[_1]=_2}else{var _3=_1.split(".");var _4=this.state;for(var i=0;i<_3.length-1;i++){var _6=_4[_3[i]];if(_6==null){_4[_3[i]]={}
_6=_4[_3[i]]}
_4=_6}
_4[_3[i]]=_2}},isc.A.getStateVariable=function isc_Process_getStateVariable(_1){if(_1.indexOf(".")<0||this.state[_1]){return this.state[_1]}else{var _2=_1.split(".");var _3=this.state;for(var i=0;i<_2.length-1;i++){_3=_3[_2[i]];if(_3==null){isc.logWarn("Unable to get state variable: "+_1+" no such path")
return}}
return _3[_2[i]]}},isc.A.setLastTaskClass=function isc_Process_setLastTaskClass(_1){this.$1955=(_1?_1.toLowerCase():null)},isc.A.getLastTaskClass=function isc_Process_getLastTaskClass(){return this.$1955},isc.A.setTaskOutput=function isc_Process_setTaskOutput(_1,_2,_3){if(!this.$1954)this.$1954={};this.$1954[_1.toLowerCase()]=_3;if(_2!=null)this.$1954[_2]=_3},isc.A.getLastTaskOutput=function isc_Process_getLastTaskOutput(_1){if(!this.$1954)return null;var _2=_1;if(!_1)_1=this.getLastTaskClass();if(!_1)return null;_1=_1.toLowerCase();if(_2)_2=_2.toLowerCase();var _3=this.$1954[_1];if(_2!=null&&_3==null&&!_2.endsWith("task")&&!_2.endsWith("gateway")){_1=_2+"task";_3=this.$1954[_1];if(_3==null){_1=_2+"gateway";_3=this.$1954[_1]}}
return _3},isc.A.handleTraceElement=function isc_Process_handleTraceElement(_1){if(isc.isA.Class(_1)&&this.logIsDebugEnabled("workflow")){this.logDebug((this.traceElement?"Trace element: ":"Execute element: ")+this.echo(_1),"workflow")}
if(this.traceElement)this.traceElement(_1,this.traceContext)});isc.B._maxIndex=isc.C+25;isc.Process.registerStringMethods({finished:"state",traceElement:"element,context"});isc.defineClass("ServiceTask","Task");isc.A=isc.ServiceTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.operationType="fetch";isc.A.title="DataSource Fetch Data";isc.A.editorType="ServiceTaskEditor";isc.B.push(isc.A.executeElement=function isc_ServiceTask_executeElement(_1){var _2=this.dataSource;if(_2.getClassName==null||_2.getClassName()!="DataSource"){_2=isc.DataSource.get(_2)}
var _3=this.$1956(_1);if(this.operationType=="export"){var _4={exportAs:this.exportFormat,operationId:this.operationId};_2.exportData(_3,_4);return true}
var _5=isc.addProperties({},this.requestProperties,{operationId:this.operationId});_5.willHandleError=true;var _6=this;_2.performDSOperation(this.operationType,_3,function(_18,_19,_20){var _7=_18.results,_8=_20.operation;if(_18.isStructured&&(!_7||_7.status<0||(_7.status==null&&_18.status<0)))
{if(!isc.RPC.runDefaultErrorHandling(_18,_20,_6.errorFormatter)){_6.fail(_1);return}}
var _9=_19;if(isc.isAn.Array(_19)&&_19.length>0){if(this.operationType=="fetch"){var _10=_2.getPrimaryKeyFieldName();if(_2.isAdvancedCriteria(_3)){var _11=_2.getFieldCriterion(_3,_10);if(_11&&_11.operator=="equals"){_9=_19[0]}}else if(_2.defaultTextMatchStyle=="equals"&&_3[_10]!=null){_9=_19[0]}}else if(this.operationType!="custom"){_9=_19[0]}}
_1.setTaskOutput(_6.getClassName(),_6.ID,_9);if(!isc.isAn.Array(_19))_19=[_19];if(_19.length>0){var _12=[];if(_6.outputFieldList){_12.addList(_6.outputFieldList)}
if(_6.outputField)_12.add(_6.outputField);for(var i=0;i<_12.length;i++){var _14=_12[i];if(_14.startsWith("$")){var _15=_19.length==1?_19[0]:_19;_14=_14.substring(1);_1.setStateVariable(_14,_15)}else{var _16=_14;var _17=_16.lastIndexOf(".");if(_17>0){_16=_16.substring(_17+1)}
var _15=_19[0][_16];if(typeof _15!='undefined'){if(_19.length>1){_15=[_15];for(var i=1;i<_19.length;i++){_15.add(_19[i][_16])}}
_1.setStateVariable(_14,_15)}}};_6.$1952(_19)}
_1.start()},_5);return false},isc.A.$1956=function isc_ServiceTask__createRequestData(_1,_2){var _3;var _4={};if(this.inputFieldList){for(var i=0;i<this.inputFieldList.length;i++){var _6=this.inputFieldList[i];var _7=_6.lastIndexOf(".");if(_7>0){_6=_6.substring(_7+1)}
_4[_6]=_1.getStateVariable(this.inputFieldList[i])}}
if(this.inputField){var _6=this.inputField;if(!_2&&_6.startsWith("$")){_3=this.$1968(_6,_1)}
var _7=_6.lastIndexOf(".");if(_7>0){_6=_6.substring(_7+1)}
if(_3==null)_3=_1.getStateVariable(this.inputField);_4[_6]=_3}
var _8=null;if(this.operationType=="fetch"||this.operationType=="export"){if(this.criteria&&!_2){_8=this.$195y(this.criteria,_3,_4,_1)}else if(this.criteria){_8=this.criteria}
if(this.fixedCriteria){if(_8==null&&_4==null){_8=this.fixedCriteria}else{var _9=isc.clone(this.fixedCriteria);if(_4){_9=isc.DataSource.combineCriteria(_4,_9)}
if(_8){_9=isc.DataSource.combineCriteria(_8,_9)}
_8=_9}}}
if(_8==null){_8=(this.inputFieldList==null&&isc.isAn.Object(_3)?_3:_4)}
if(this.operationType!="fetch"&&this.operationType!="export"){if(this.values){_8=this.values;if(!_2){_8=this.$1950(this.values,_3,_4,_1)}}
if(this.fixedValues){for(var _6 in this.fixedValues){_8[_6]=this.fixedValues[_6]}}}
return _8},isc.A.fail=function isc_ServiceTask_fail(_1){if(!this.failureElement){this.logWarn("ServiceTask does not have a failureElement. Process is aborting.")}
_1.setNextElement(this.failureElement)},isc.A.errorFormatter=function isc_ServiceTask_errorFormatter(_1,_2,_3){if(_1=="VALIDATION_ERROR"){var _4=_2.errors,_5=["Server returned validation errors:<BR><UL>"];if(!isc.isAn.Array(_4))_4=[_4];for(var i=0;i<_4.length;i++){var _7=_4[i];for(var _8 in _7){var _9=_7[_8];_5.add("<LI><B>"+_8+":</B> ");if(!isc.isAn.Array(_9))_9=[_9];for(var j=0;j<_9.length;j++){var _11=_9[j];_5.add((j>0?"<BR>":"")+(isc.isAn.Object(_11)?_11.errorMessage:_11))}
_5.add("</LI>")}}
_5.add("</UL>");return _5.join("")}
return null},isc.A.getElementDescription=function isc_ServiceTask_getElementDescription(){if(!this.dataSource)return"";var _1=this.dataSource+" "+this.operationType+(this.operationId?" ("+this.operationId+")":""),_2=this.$1956({getStateVariable:function(_5){return _5}},true);if(this.operationType=="fetch"||this.operationType=="remove"||this.operationType=="export"){if(!isc.DS.isAdvancedCriteria(_2)){_2=isc.DS.convertCriteria(_2,(this.operationType=="remove"?"exact":null))}
var _3=isc.XORGateway.$87n(_2);var _4=isc.DataSource.create({addGlobalId:false,fields:_3});_1+=" where "+isc.DataSource.getAdvancedCriteriaDescription(_2,_4);_4.destroy()}
return _1},isc.A.getOutputSchema=function isc_ServiceTask_getOutputSchema(){var _1=this.dataSource;if(_1&&(_1.getClassName==null||_1.getClassName()!="DataSource")){_1=isc.DataSource.get(_1)}
return _1});isc.B._maxIndex=isc.C+6;isc.defineClass("DSFetchTask","ServiceTask");isc.A=isc.DSFetchTask.getPrototype();isc.A.title="DataSource Fetch";isc.A.classDescription="Retrieve data from a DataSource which match specified criteria";isc.A.editorType="ServiceTaskEditor";isc.A.editorProperties={showOperationTypePicker:false};isc.A.operationType="fetch";isc.defineClass("DSAddTask","ServiceTask");isc.A=isc.DSAddTask.getPrototype();isc.A.title="DataSource Add";isc.A.classDescription="Add a new record";isc.A.editorType="ServiceTaskEditor";isc.A.editorProperties={showOperationTypePicker:false};isc.A.operationType="add";isc.defineClass("DSUpdateTask","ServiceTask");isc.A=isc.DSUpdateTask.getPrototype();isc.A.title="DataSource Update";isc.A.classDescription="Update an existing record";isc.A.editorType="ServiceTaskEditor";isc.A.editorProperties={showOperationTypePicker:false};isc.A.operationType="update";isc.defineClass("DSRemoveTask","ServiceTask");isc.A=isc.DSRemoveTask.getPrototype();isc.A.title="DataSource Remove";isc.A.classDescription="Remove an existing record";isc.A.editorType="ServiceTaskEditor";isc.A.editorProperties={showOperationTypePicker:false};isc.A.operationType="remove";isc.defineClass("ScriptTask","Task");isc.A=isc.ScriptTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.isAsync=false;isc.B.push(isc.A.getProcess=function isc_ScriptTask_getProcess(){return this.$197f},isc.A.getInputData=function isc_ScriptTask_getInputData(){return this.inputData},isc.A.setOutputData=function isc_ScriptTask_setOutputData(_1){this.$87l(this.$197f,null,_1)},isc.A.getInputRecord=function isc_ScriptTask_getInputRecord(){return this.inputRecord},isc.A.setOutputRecord=function isc_ScriptTask_setOutputRecord(_1){this.$87l(this.$197f,_1)},isc.A.executeElement=function isc_ScriptTask_executeElement(_1){var _2;var _3={};if(this.inputFieldList){for(var i=0;i<this.inputFieldList.length;i++){var _5=this.inputFieldList[i];var _6=_5.lastIndexOf(".");if(_6>0){_5=_5.substring(_6+1)}
_3[_5]=isc.clone(_1.getStateVariable(this.inputFieldList[i]))}}
if(this.inputField){var _5=this.inputField;if(_5.startsWith("$")){_2=isc.clone(this.$1968(_5,_1))}
var _6=_5.lastIndexOf(".");if(_6>0){_5=_5.substring(_6+1)}
if(_2==null)_2=isc.clone(_1.getStateVariable(this.inputField));_3[_5]=_2}
this.inputData=_2;this.inputRecord=_3;this.$197f=_1;try{var _7=this.execute(_2,_3)}catch(e){isc.logWarn("Error while executing ScriptTask: "+e.toString())}
if(this.isAsync){return false}
if(typeof _7=='undefined'){return true}
this.$87m(_1,_7);return true},isc.A.$87m=function isc_ScriptTask__processTaskOutput(_1,_2){_1.setTaskOutput(this.getClassName(),this.ID,_2);if(this.outputFieldList){for(var i=0;i<this.outputFieldList.length;i++){var _4=this.outputFieldList[i];var _5=_4.lastIndexOf(".");if(_5>0){_4=_4.substring(_5+1)}
var _6=_2[_4];if(typeof _6!='undefined'){_1.setStateVariable(this.outputFieldList[i],_6)}}}
if(this.outputField){if(this.outputFieldList==null){if(typeof _2!='undefined'){_1.setStateVariable(this.outputField,_2)}}else{var _4=this.outputField;var _5=_4.lastIndexOf(".");if(_5>0){_4=_4.substring(_5+1)}
var _6=_2[_4];if(typeof _6!='undefined'){_1.setStateVariable(this.outputField,_6)}}}
this.$1952(_2)},isc.A.$87l=function isc_ScriptTask__finishTask(_1,_2,_3){if(_2==null){this.$87m(_1,_3)}else{if(_3){var _4=this.outputField;var _5=_4.lastIndexOf(".");if(_5>0){_4=_4.substring(_5+1)}
_2[_4]=_3}
this.$87m(_1,_2)}
if(this.isAsync){_1.start()}},isc.A.getCustomDefaults=function isc_ScriptTask_getCustomDefaults(){return{execute:isc.Func.getBody(this.execute)}});isc.B._maxIndex=isc.C+9;isc.ScriptTask.registerStringMethods({execute:"input,inputRecord"});isc.defineClass("XORGateway","ProcessElement");isc.A=isc.XORGateway;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.$90p=function isc_c_XORGateway__processFieldsRecursivelyValuesOnly(_1){var _2=[];if(_1.fieldName){if(!_2.contains(_1.fieldName)){_2.add(_1.fieldName)}}else if(_1.criteria){for(var i=0;i<_1.criteria.length;i++){var _4=this.$90p(_1.criteria[i]);for(var j=0;j<_4.length;j++){if(!_2.contains(_4[j])){_2.add(_4[j])}}}}else{for(var _6 in _1){if(!_2.contains(_6)){_2.add(_6)}}}
return _2},isc.A.$87n=function isc_c_XORGateway__processFieldsRecursively(_1){var _2=[];var _3=isc.XORGateway.$90p(_1);for(var i=0;i<_3.length;i++){var _5=_3[i],_6=_5.split("."),_7=isc.DS.getAutoTitle(_6[_6.length-1]);_2.add({name:_5,title:_7})}
return _2});isc.B._maxIndex=isc.C+2;isc.A=isc.XORGateway.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.title="Single Decision";isc.A.classDescription="Choose the next task based on criteria";isc.A.editorType="XORGatewayEditor";isc.B.push(isc.A.executeElement=function isc_XORGateway_executeElement(_1){_1.setTaskOutput(this.getClassName(),this.ID,_1.getLastTaskOutput());var _2=this.criteria;if(_2){_2=this.$195y(_2,_1.state,_1.state,_1)}
var _3=[_1.state];if(_1.ruleScope){var _4=window[_1.ruleScope];if(_4&&!_4.destroyed){_3.add(_4.getRuleContext())}}
if(_2&&isc.DS.applyFilter(_3,_2).length==1){if(this.nextElement)_1.setNextElement(this.nextElement)}else{if(!this.failureElement){this.logWarn("XOR Gateway does not have a failureElement. Process is aborting.")}
_1.setNextElement(this.failureElement)}
return true},isc.A.getElementDescription=function isc_XORGateway_getElementDescription(){var _1="No criteria - always fail";if(this.criteria){var _2=isc.XORGateway.$87n(this.criteria);var _3=isc.DataSource.create({addGlobalId:false,fields:_2});_1=isc.DataSource.getAdvancedCriteriaDescription(this.criteria,_3);_3.destroy()}
return _1},isc.A.getPlaceholders=function isc_XORGateway_getPlaceholders(){return(this.failureElement==isc.Process.gatewayPlaceholderSelection?["failureElement"]:null)},isc.A.setPlaceholderId=function isc_XORGateway_setPlaceholderId(_1,_2){if(_1=="failureElement")this.failureElement=_2});isc.B._maxIndex=isc.C+4;isc.defineClass("UserConfirmationGateway","ProcessElement");isc.A=isc.UserConfirmationGateway.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.title="Confirm with user";isc.A.classDescription="Choose the next task based on user confirmation";isc.A.editorType="UserConfirmationGatewayEditor";isc.B.push(isc.A.executeElement=function isc_UserConfirmationGateway_executeElement(_1){_1.setTaskOutput(this.getClassName(),this.ID,_1.getLastTaskOutput());var _2=this;isc.confirm(this.message,function(_3){if(_3){if(_2.nextElement)_1.setNextElement(_2.nextElement)}else{if(!_2.failureElement){_2.logWarn("User Confirmation Gateway does not have a failureElement. Process is aborting.")}
_1.setNextElement(_2.failureElement)}
_1.start()});return false},isc.A.getElementDescription=function isc_UserConfirmationGateway_getElementDescription(){var _1="Confirm with user";return _1},isc.A.getPlaceholders=function isc_UserConfirmationGateway_getPlaceholders(){return(this.failureElement==isc.Process.gatewayPlaceholderSelection?["failureElement"]:null)},isc.A.setPlaceholderId=function isc_UserConfirmationGateway_setPlaceholderId(_1,_2){if(_1=="failureElement")this.failureElement=_2});isc.B._maxIndex=isc.C+4;isc.defineClass("DecisionGateway","ProcessElement");isc.A=isc.DecisionGateway.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$1957=false;isc.A.title="Multi Decision";isc.A.classDescription="Choose multiple possible next tasks based on criteria";isc.A.editorType="DecisionGatewayEditor";isc.B.push(isc.A.executeElement=function isc_DecisionGateway_executeElement(_1){this.$197v();if(!this.decisionList)this.decisionList=[];_1.setTaskOutput(this.getClassName(),this.ID,_1.getLastTaskOutput());for(var i=0;i<this.decisionList.length;i++){var _3=this.decisionList[i],_4=_3.criteria;if(_4){_4=this.$195y(_4,_1.state,_1.state,_1)}
var _5=isc.XORGateway.$87n(_4);var _6=isc.DataSource.create({fields:_5});var _7=[_1.state];if(_1.ruleScope){var _8=window[_1.ruleScope];if(_8&&!_8.destroyed){_7.add(_8.getRuleContext())}}
if(_6.applyFilter(_7,_4).length==1){_1.setNextElement(_3.targetTask);return true}}
if(this.defaultElement)_1.setNextElement(this.defaultElement);return true},isc.A.$197v=function isc_DecisionGateway__convertCriteriaMap(){if(!this.decisionList&&this.criteriaMap){var _1=[];for(var _2 in this.criteriaMap){_1.add({criteria:this.criteriaMap[_2],targetTask:_2})}
this.decisionList=_1}},isc.A.getElementDescription=function isc_DecisionGateway_getElementDescription(){this.$197v();var _1="Multi-branch";if((!this.decisionList||this.decisionList.length==0)&&this.defaultElement){_1="Go to "+this.defaultElement}
return _1},isc.A.dropElementReferences=function isc_DecisionGateway_dropElementReferences(_1){this.$197v();if(this.decisionList){var _2=[];for(var i=0;i<this.decisionList.length;i++){var _4=this.decisionList[i];if(_4.targetTask==_1)_2.add(_4)}
if(_2.length>0)this.decisionList.removeList(_2)}
if(this.defaultElement==_1)this.defaultElement=null},isc.A.getPlaceholders=function isc_DecisionGateway_getPlaceholders(){this.$197v();var _1=[];if(this.decisionList){for(var i=0;i<this.decisionList.length;i++){var _3=this.decisionList[i];if(_3.targetTask==isc.Process.gatewayPlaceholderSelection){_1.add(""+i)}}}
if(this.defaultElement==isc.Process.gatewayPlaceholderSelection){_1.add("defaultElement")}
return _1},isc.A.setPlaceholderId=function isc_DecisionGateway_setPlaceholderId(_1,_2){if(_1=="defaultElement"){this.defaultElement=_2}else{var _3=parseInt(_1);this.decisionList[_3].targetTask=_2}});isc.B._maxIndex=isc.C+6;isc.defineClass("UserTask","Task");isc.A=isc.UserTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.editorType="UserTaskEditor";isc.B.push(isc.A.goToPrevious=function isc_UserTask_goToPrevious(){if(this.previousElement==null){isc.logWarn("PreviousElement is not set - unable to accomplish goToPrevious method.");return}
this.$197f.setNextElement(this.previousElement);this.completeEditing()},isc.A.cancelEditing=function isc_UserTask_cancelEditing(){if(this.$197f){if(this.wizard||this.$197f.wizard){if(this.targetFormValue){this.targetFormValue.hide()}}
var _1=this.$197f
delete this.$197f;_1.setNextElement(this.cancelElement);_1.start()}},isc.A.completeEditing=function isc_UserTask_completeEditing(){if(this.$197f){var _1=this.$197f;delete this.$197f;if(this.wizard||_1.wizard){if(this.targetFormValue){this.targetFormValue.hide()}}
var _2;if(this.targetVMValue){_2=this.targetVMValue.getValues()}else if(this.targetFormValue){_2=this.targetFormValue.getValues()}
_1.setTaskOutput(this.getClassName(),this.ID,_2);if(this.outputField){_1.setStateVariable(this.outputField,_2)}else if(this.outputFieldList){for(var i=0;i<this.outputFieldList.length;i++){var _4=this.outputFieldList[i];var _5=_4.lastIndexOf(".");if(_5>0){_4=_4.substring(_5+1)}
var _6=_2[_4];if(typeof _6!='undefined'){_1.setStateVariable(this.outputFieldList[i],_6)}}}else{_1.setStateVariable(this.inputField,_2)}
this.$1952(_2);_1.start()}},isc.A.executeElement=function isc_UserTask_executeElement(_1){this.$197f=_1;if(this.targetView&&isc.isA.String(this.targetView)){if(_1.getStateVariable(this.targetView)){this.targetViewValue=_1.getStateVariable(this.targetView)}else{this.targetViewValue=window[this.targetView];if(this.targetViewValue==null&&_1.views){for(var i=0;i<_1.views.length;i++){if(_1.views[i].ID==this.targetView){this.targetViewValue=isc[_1.views[i]._constructor].create(_1.views[i]);if(this.$197f.containerId){window[this.$197f.containerId].addMember(this.targetViewValue)}
break}}}
if(this.targetViewValue==null){this.targetViewValue=this.addAutoChild(this.targetView)}
if(this.targetViewValue==null){isc.logWarn("TargetView "+this.targetView+" was not found.")}}}else{if(this.targetView){this.targetViewValue=this.targetView}else if(this.inlineView){this.targetViewValue=isc[this.inlineView._constructor].create(this.inlineView);if(this.$197f.containerId){window[this.$197f.containerId].addMember(this.targetViewValue)}}}
if(this.targetVM&&isc.isA.String(this.targetVM)){if(_1.state[this.targetVM]){this.targetVMValue=_1.getStateVariable(this.targetVM)}else{this.targetVMValue=window[this.targetVM];if(this.targetVMValue==null){isc.logWarn("TargetVM "+this.targetVM+" was not found.")}}}else{this.targetVMValue=this.targetVM}
if(this.targetForm&&isc.isA.String(this.targetForm)){if(_1.state[this.targetForm]){this.targetFormValue=_1.getStateVariable(this.targetForm)}else{this.targetFormValue=window[this.targetForm];if(this.targetFormValue==null){isc.logWarn("TargetForm "+this.targetForm+" was not found.")}}}else{this.targetFormValue=this.targetForm}
if(this.targetViewValue==null){isc.logWarn("TargetView or inlineView should be set for UserTask");return true}
if(this.targetFormValue==null&&isc.isA.DynamicForm(this.targetViewValue)){this.targetFormValue=this.targetViewValue}
if(this.targetFormValue==null&&this.targetVMValue==null){isc.logWarn("Either targetForm or targetVM should be set for UserTask or targetView should be a DynamicForm");return true}
this.targetViewValue.showRecursively();var _3=null;if(this.inputField){if(this.inputField.startsWith("$")){_3=isc.clone(this.$1968(this.inputField,_1))}else{_3=isc.clone(_1.getStateVariable(this.inputField))}}else if(this.inputFieldList){_3={};for(var i=0;i<this.inputFieldList.length;i++){var _4=this.inputFieldList[i];var _5=_4.lastIndexOf(".");if(_5>0){_4=_4.substring(_5+1)}
_3[_4]=isc.clone(_1.getStateVariable(this.inputFieldList[i]))}}
if(this.targetVMValue){if(_3)this.targetVMValue.setValues(_3);this.targetVMValue.userTask=this}
if(this.targetFormValue){if(_3)this.targetFormValue.setValues(_3);this.targetFormValue.saveToServer=(this.saveToServer==true);this.targetFormValue.userTask=this}
return false},isc.A.getElementDescription=function isc_UserTask_getElementDescription(){var _1={type:"[nothing]"};if(this.targetView){_1={type:"targetView",ID:(isc.isA.String(this.targetView)?this.targetView:null)}}else if(this.inlineView){_1={type:"inlineView"}}
return"Show "+(_1.ID?"'"+_1.ID+"' ":"")+_1.type+" and wait for input"});isc.B._maxIndex=isc.C+5;isc.defineClass("StateTask","Task");isc.A=isc.StateTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.editorType="StateTaskEditor";isc.B.push(isc.A.executeElement=function isc_StateTask_executeElement(_1){if(this.value==null&&this.inputField==null&&this.inputFieldList==null){isc.logWarn("StateTask: value, inputField or inputFieldList should be set.");return true}
if(this.value==null&&this.inputField==null){if(this.outputFieldList==null||this.outputFieldList.length!=this.inputFieldList.length){isc.logWarn("StateTask: outputFieldList should have same number of parameters as inputFieldList.");return}
if(this.type){isc.logWarn("StateTask: type cannot be used with multiple outputFields")}
for(var i=0;i<this.inputFieldList.lenght;i++){var _3=_1.getStateVariable(this.inputFieldList[i]);_1.setStateVariable(this.outputFieldList[i],_3)}
return true}
var _3=this.value||this.$1968(this.inputField,_1);_3=this.$104s(_3,this.type,_1);_1.setStateVariable(this.outputField,_3);_1.setTaskOutput(this.getClassName(),this.ID,_3);return true},isc.A.$104s=function isc_StateTask__executePair(_1,_2,_3){if(_1==null){isc.logWarn("StateTask: value is null. Unable to convert to "+_2);this.fail(_3);return null}
if("string"==_2){return _1.toString()}else if("boolean"==_2){if("true"==_1)return true;if("false"==_1)return false;if(isc.isA.String(_1))return _1.length!=0;if(isc.isA.Number(_1))return _1!=0;return _1!=null}else if("decimal"==_2){var v=parseFloat(_1.toString());if(isNaN(v)){this.fail(_3);return null}
return v}else if("integer"==_2){var v=parseInt(_1.toString());if(isNaN(v)){this.fail(_3);return null}
return v}else if("record"==_2){if(isc.isAn.Object(_1)&&!isc.isAn.Array(_1)&&!isc.isAn.RegularExpression(_1)&&!isc.isAn.Date(_1))
{return _1}
return null}else if("array"==_2){if(isc.isAn.Array(_1))return _1;return[_1]}else{return _1}},isc.A.fail=function isc_StateTask_fail(_1){if(this.failureElement==null){isc.logWarn("There is no failureElement in stateTask")}else{_1.setNextElement(this.failureElement)}},isc.A.getElementDescription=function isc_StateTask_getElementDescription(){var _1="no-op";if(this.value!=null){_1="Set "+this.outputField+"="+this.value}else if(this.type!=null){_1="Set "+this.outputField+"="+this.inputField+" as "+this.type}else if(this.inputField||this.inputFieldList){_1="Copy "+(this.inputField?this.inputField:this.inputFieldList.join(","))+" to "+(this.outputField?this.outputField:this.outputFieldList.join(","))}
return _1});isc.B._maxIndex=isc.C+4;isc.defineClass("StartProcessTask","ScriptTask");isc.A=isc.StartProcessTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.isAsync=true;isc.B.push(isc.A.execute=function isc_StartProcessTask_execute(_1,_2){if(!this.process){this.logWarn("StartProcessTask with no process. Skipped");return}
var _3=this.process,_4=_3.finished,_5=this;_3.finished=function(_6){if(_4)_4(_6);_5.setOutputRecord(_6)}
this.isAsync=true;_3.setState(_2);_3.start()});isc.B._maxIndex=isc.C+1;isc.defineClass("EndProcessTask","ProcessElement");isc.A=isc.EndProcessTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.editorPlaceholder=true;isc.B.push(isc.A.executeElement=function isc_EndProcessTask_executeElement(_1){});isc.B._maxIndex=isc.C+1;isc.defineClass("ShowMessageTask","ProcessElement");isc.A=isc.ShowMessageTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.classDescription="Show a message in a modal dialog";isc.A.editorType="ShowMessageTaskEditor";isc.A.type="normal";isc.A.$207j={"normal":"","warning":"warning","error":"error"};isc.B.push(isc.A.executeElement=function isc_ShowMessageTask_executeElement(_1){var _2=this.type,_3=function(){_1.start()};if(_2=="normal"){isc.say(this.message,_3)}else if(_2=="warning"){isc.warn(this.message,_3)}else if(_2=="error"){isc.Dialog.create({message:this.message,icon:isc.Dialog.getInstanceProperty("errorIcon"),buttons:[isc.Button.create({title:"OK"})],buttonClick:function(_4,_5){_3()}})}else{return true}
return false},isc.A.getElementDescription=function isc_ShowMessageTask_getElementDescription(){var _1=this.message||"",_2=_1.split(" "),_3=_2.getRange(0,3).join(" "),_4=this.type||"message";if(_3.length>25)_3=_3.substring(0,25);if(_3!=_1)_3+=" ...";return"Show "+this.$207j[_4]+" message:<br>"+_3});isc.B._maxIndex=isc.C+2;isc.defineClass("AskForValueTask","UserConfirmationGateway");isc.A=isc.AskForValueTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.title="Ask for Value";isc.A.classDescription="Ask the user to input a value";isc.A.editorType="AskForValueTaskEditor";isc.B.push(isc.A.executeElement=function isc_AskForValueTask_executeElement(_1){var _2=(this.defaultValue?{defaultValue:this.defaultValue}:null);var _3=this;isc.askForValue(this.message,function(_4){if(_4){_1.setTaskOutput(_3.getClassName(),_3.ID,_4);if(_3.nextElement)_1.setNextElement(_3.nextElement)}else{if(!_3.failureElement){_3.logWarn("Ask For Value Task does not have a failureElement. Process is aborting.")}
_1.setNextElement(_3.failureElement)}
_1.start()},_2);return false},isc.A.getElementDescription=function isc_AskForValueTask_getElementDescription(){var _1="Ask user for a value";return _1});isc.B._maxIndex=isc.C+2;isc.defineClass("ShowNotificationTask","ProcessElement");isc.A=isc.ShowNotificationTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.classDescription="Show a message which fades out automatically";isc.A.editorType="ShowNotificationTaskEditor";isc.A.autoDismiss=true;isc.A.position="T";isc.A.notifyType="message";isc.A.$207k={"message":"","warn":"warning","error":"error"};isc.B.push(isc.A.executeElement=function isc_ShowNotificationTask_executeElement(_1){var _2=this.notifyType,_3={position:this.position};if(!this.autoDismiss){_3.duration=0;_3.canDismiss=true}
isc.Notify.addMessage(this.message,null,_2,_3);return true},isc.A.getElementDescription=function isc_ShowNotificationTask_getElementDescription(){var _1=this.message||"",_2=_1.split(" "),_3=_2.getRange(0,3).join(" "),_4=this.notifyType||"message";if(_3.length>25)_3=_3.substring(0,25);if(_3!=_1)_3+=" ...";return"Show "+this.$207k[_4]+" notification:<br>"+_3});isc.B._maxIndex=isc.C+2;isc.defineClass("StartTransactionTask","ProcessElement");isc.A=isc.StartTransactionTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.classDescription="Starts queuing all DataSource operations so they can be sent to the server all together as a transaction";isc.A.editorType=null;isc.B.push(isc.A.executeElement=function isc_StartTransactionTask_executeElement(_1){_1.setTaskOutput(this.getClassName(),this.ID,_1.getLastTaskOutput());isc.RPC.startQueue();return true},isc.A.getElementDescription=function isc_StartTransactionTask_getElementDescription(){return"Start queuing"});isc.B._maxIndex=isc.C+2;isc.defineClass("SendTransactionTask","ProcessElement");isc.A=isc.SendTransactionTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.classDescription="Sends any currently queued DataSource operations as a single transactional request to the server";isc.A.editorType=null;isc.B.push(isc.A.executeElement=function isc_SendTransactionTask_executeElement(_1){_1.setTaskOutput(this.getClassName(),this.ID,_1.getLastTaskOutput());isc.RPC.sendQueue();return true},isc.A.getElementDescription=function isc_SendTransactionTask_getElementDescription(){return"Send queue"});isc.B._maxIndex=isc.C+2;isc.defineClass("ComponentTask","ProcessElement");isc.A=isc.ComponentTask;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.isApplicableComponent=function isc_c_ComponentTask_isApplicableComponent(_1){var _2=(_1.getClass?_1.getClass():null);if(!_2)return false;var _3=this.getInstanceProperty("componentBaseClass"),_4=this.getInstanceProperty("componentRequiresDataSource")||false;_3=(isc.isAn.Array(_3)?_3:[_3]);for(var i=0;i<_3.length;i++){if(_2.isA(_3[i])&&(!_4||_1.dataSource)){return true}}
return false});isc.B._maxIndex=isc.C+1;isc.A=isc.ComponentTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.getComponentBaseClasses=function isc_ComponentTask_getComponentBaseClasses(){return(isc.isAn.Array(this.componentBaseClass)?this.componentBaseClass:[this.componentBaseClass])},isc.A.getTargetComponent=function isc_ComponentTask_getTargetComponent(_1){if(!this.componentId){this.logWarn("ComponentTask with no componentId. Task skipped");return null}
var _2=window[this.componentId];if(!_2){if(_1&&_1.screenComponent){_2=_1.screenComponent.getByLocalId(this.componentId)}
if(!_2){this.logWarn("Component not found for ID "+this.componentId+" not found. Task skipped");return null}}
var _3=this.getComponentBaseClasses();for(var i=0;i<_3.length;i++){if(_2.isA(_3[i]))return _2}
this.logWarn("Component type '"+_2.getClassName()+"' is not supported for "+this.getClassName()+". Task skipped");return null},isc.A.getLocalComponent=function isc_ComponentTask_getLocalComponent(_1,_2){if(!_2)return null;var _3=window[_2];if(!_3){if(_1&&_1.screenComponent){_3=_1.screenComponent.getByLocalId(_2)}
if(!_3)return null}
return _3});isc.B._maxIndex=isc.C+3;isc.defineClass("SetLabelTextTask","ComponentTask");isc.A=isc.SetLabelTextTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass="Label";isc.A.classDescription="Sets the text of a label";isc.A.editorType="SetLabelTextTaskEditor";isc.B.push(isc.A.executeElement=function isc_SetLabelTextTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=this.value;if(_3){var _4=this.$1950({value:_3},null,null,_1);_3=_4.value}
_2.setContents(_3);return true},isc.A.getElementDescription=function isc_SetLabelTextTask_getElementDescription(){var _1="Set '"+this.componentId+"' text";return _1});isc.B._maxIndex=isc.C+2;isc.defineClass("SetButtonTitleTask","ComponentTask");isc.A=isc.SetButtonTitleTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["Button","Window"];isc.A.classDescription="Sets the title of a button or window";isc.A.editorType="SetButtonTitleTaskEditor";isc.B.push(isc.A.executeElement=function isc_SetButtonTitleTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=this.title;if(_3){var _4=this.$1950({value:_3},null,null,_1);_3=_4.value}
_2.setTitle(_3);return true},isc.A.getElementDescription=function isc_SetButtonTitleTask_getElementDescription(){var _1="Set '"+this.componentId+"' title";return _1});isc.B._maxIndex=isc.C+2;isc.defineClass("ShowComponentTask","ComponentTask");isc.A=isc.ShowComponentTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass="Canvas";isc.A.title="Show";isc.A.classDescription="Show a currently hidden component";isc.A.editorType="ShowComponentTaskEditor";isc.B.push(isc.A.executeElement=function isc_ShowComponentTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;_2.show();return true},isc.A.getElementDescription=function isc_ShowComponentTask_getElementDescription(){return"Show "+this.componentId});isc.B._maxIndex=isc.C+2;isc.defineClass("HideComponentTask","ComponentTask");isc.A=isc.HideComponentTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass="Canvas";isc.A.title="Hide";isc.A.classDescription="Hide a component";isc.A.editorType="HideComponentTaskEditor";isc.B.push(isc.A.executeElement=function isc_HideComponentTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;_2.hide();return true},isc.A.getElementDescription=function isc_HideComponentTask_getElementDescription(){return"Hide "+this.componentId});isc.B._maxIndex=isc.C+2;isc.defineClass("FormSetValuesTask","ComponentTask");isc.A=isc.FormSetValuesTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["DynamicForm","ValuesManager"];isc.A.componentRequiresDataSource=true;isc.A.classDescription="Set form values";isc.A.editorType="FormSetValuesTaskEditor";isc.B.push(isc.A.executeElement=function isc_FormSetValuesTask_executeElement(_1){this.process=_1;var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=null;if(this.values){_3=this.$1950(this.values,null,null,_1)}
if(this.fixedValues){for(var _4 in this.fixedValues){_3[_4]=this.fixedValues[_4]}}
_2.setValues(_3);return true},isc.A.getElementDescription=function isc_FormSetValuesTask_getElementDescription(){return"Set '"+this.componentId+"' values"},isc.A.getOutputSchema=function isc_FormSetValuesTask_getOutputSchema(){var _1=this.getTargetComponent(this.process);if(!_1)return null;return _1.getDataSource()});isc.B._maxIndex=isc.C+3;isc.defineClass("FormSetFieldValueTask","ComponentTask");isc.A=isc.FormSetFieldValueTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["DynamicForm","ValuesManager"];isc.A.componentRequiresDataSource=true;isc.A.classDescription="Put a value into just one field of a form";isc.A.editorType="FormSetFieldValueTaskEditor";isc.B.push(isc.A.executeElement=function isc_FormSetFieldValueTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=this.value;if(_3){var _4=this.$1950({value:_3},null,null,_1);_3=_4.value}
_2.setValue(this.targetField,_3);return true},isc.A.getElementDescription=function isc_FormSetFieldValueTask_getElementDescription(){return"Set '"+this.componentId+"."+this.targetField+"' value"});isc.B._maxIndex=isc.C+2;isc.defineClass("FormClearValuesTask","ComponentTask");isc.A=isc.FormClearValuesTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["DynamicForm","ValuesManager"];isc.A.classDescription="Clear form values and errors";isc.A.editorType="FormClearValuesTaskEditor";isc.B.push(isc.A.executeElement=function isc_FormClearValuesTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;_2.clearValues();return true},isc.A.getElementDescription=function isc_FormClearValuesTask_getElementDescription(){return"Clear '"+this.componentId+"' values"});isc.B._maxIndex=isc.C+2;isc.defineClass("FormResetValuesTask","ComponentTask");isc.A=isc.FormResetValuesTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["DynamicForm","ValuesManager"];isc.A.classDescription="Reset values in a form to defaults";isc.A.editorType="FormResetValuesTaskEditor";isc.B.push(isc.A.executeElement=function isc_FormResetValuesTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;_2.resetValues();return true},isc.A.getElementDescription=function isc_FormResetValuesTask_getElementDescription(){return"Reset '"+this.componentId+"' values"});isc.B._maxIndex=isc.C+2;isc.defineClass("FormValidateValuesTask","ComponentTask");isc.A=isc.FormValidateValuesTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["DynamicForm","ValuesManager"];isc.A.classDescription="Validate a form and show errors to user";isc.A.editorType="FormValidateValuesTaskEditor";isc.B.push(isc.A.executeElement=function isc_FormValidateValuesTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;_2.validate();return true},isc.A.getElementDescription=function isc_FormValidateValuesTask_getElementDescription(){return"Validate '"+this.componentId+"' values"});isc.B._maxIndex=isc.C+2;isc.defineClass("FormSaveDataTask","ComponentTask");isc.A=isc.FormSaveDataTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["DynamicForm","ValuesManager"];isc.A.classDescription="Save changes made in a form (validates first)";isc.A.editorType="FormSaveDataTaskEditor";isc.B.push(isc.A.executeElement=function isc_FormSaveDataTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=isc.addProperties({},this.requestProperties,{willHandleError:true});var _4=this;_2.saveData(function(_6,_7,_8){var _5=_6.results;if(_6.isStructured&&(!_5||_5.status<0||(_5.status==null&&_6.status<0)))
{if(!isc.RPC.runDefaultErrorHandling(_6,_8,_4.errorFormatter)){_4.fail(_1);return}}
_1.start()},_3);return false},isc.A.fail=function isc_FormSaveDataTask_fail(_1){if(!this.failureElement){this.logWarn("FormSaveDataTask does not have a failureElement. Process is aborting.")}
_1.setNextElement(this.failureElement)},isc.A.errorFormatter=function isc_FormSaveDataTask_errorFormatter(_1,_2,_3){if(_1=="VALIDATION_ERROR"){var _4=_2.errors,_5=["Server returned validation errors:<BR><UL>"];if(!isc.isAn.Array(_4))_4=[_4];for(var i=0;i<_4.length;i++){var _7=_4[i];for(var _8 in _7){var _9=_7[_8];_5.add("<LI><B>"+_8+":</B> ");if(!isc.isAn.Array(_9))_9=[_9];for(var j=0;j<_9.length;j++){var _11=_9[j];_5.add((j>0?"<BR>":"")+(isc.isAn.Object(_11)?_11.errorMessage:_11))}
_5.add("</LI>")}}
_5.add("</UL>");return _5.join("")}
return null},isc.A.getElementDescription=function isc_FormSaveDataTask_getElementDescription(){return"Save '"+this.componentId+"' data"});isc.B._maxIndex=isc.C+4;isc.defineClass("FormEditNewRecordTask","ComponentTask");isc.A=isc.FormEditNewRecordTask;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$1973=["record"];isc.B.push(isc.A.createInitPropertiesFromAction=function isc_c_FormEditNewRecordTask_createInitPropertiesFromAction(_1,_2){var _3={},_4=_1.mapping||[];for(var i=0;i<_4.length;i++){var _6=_4[i];if(_6=="null")_6=null;_3[this.$1973[i]]=_6}
return _3});isc.B._maxIndex=isc.C+1;isc.A=isc.FormEditNewRecordTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["DynamicForm","ValuesManager"];isc.A.classDescription="Start editing a new record";isc.A.editorType="FormEditNewRecordTaskEditor";isc.B.push(isc.A.executeElement=function isc_FormEditNewRecordTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3;if(this.initialValues){_3=this.$1950(this.initialValues,null,null,_1)}
_2.editNewRecord(_3);return true},isc.A.getElementDescription=function isc_FormEditNewRecordTask_getElementDescription(){return"Edit '"+this.componentId+"' new record"});isc.B._maxIndex=isc.C+2;isc.defineClass("FormEditRecordTask","FormEditNewRecordTask");isc.A=isc.FormEditRecordTask;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$1973=["record"];isc.B.push(isc.A.createInitPropertiesFromAction=function isc_c_FormEditRecordTask_createInitPropertiesFromAction(_1,_2){var _3={},_4=_1.mapping||[];for(var i=0;i<_4.length;i++){var _6=_4[i];if(_6=="null")_6=null;_3[this.$1973[i]]=_6}
return _3});isc.B._maxIndex=isc.C+1;isc.A=isc.FormEditRecordTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["DynamicForm","ValuesManager"];isc.A.componentRequiresDataSource=true;isc.A.editorType="FormEditRecordTaskEditor";isc.B.push(isc.A.executeElement=function isc_FormEditRecordTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=this.recordSourceComponent;if(!_3){this.logWarn("recordSourceComponent not specified on task. Task skipped.");return true}
var _4=this.getLocalComponent(_1,_3);if(!_4){this.logWarn("recordSourceComponent '"+_3+"' not found. Task skipped.");return true}
var _5=this.initialValues;if(isc.isA.ListGrid(_4)&&_4.anySelected()){_5=_4.getSelectedRecord()}else if(isc.isA.DynamicForm(_4)){_5=_4.getValues()}else if(isc.isA.ListGrid(_4)){_5=_4.getRecord(0)}else if(isc.isA.DetailViewer(_4)){_5=_4.data[0]}
_2.editRecord(_5);return true},isc.A.getElementDescription=function isc_FormEditRecordTask_getElementDescription(){return"Edit '"+this.componentId+"' from other record"});isc.B._maxIndex=isc.C+2;isc.defineClass("FormEditSelectedTask","ComponentTask");isc.A=isc.FormEditSelectedTask;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$1973=["selectionComponent"];isc.B.push(isc.A.createInitPropertiesFromAction=function isc_c_FormEditSelectedTask_createInitPropertiesFromAction(_1,_2){var _3={},_4=_1.mapping||[];for(var i=0;i<_4.length;i++){var _6=_4[i];if(_6=="null")_6=null;_3[this.$1973[i]]=_6}
return _3});isc.B._maxIndex=isc.C+1;isc.A=isc.FormEditSelectedTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["DynamicForm","ValuesManager"];isc.A.componentRequiresDataSource=true;isc.A.title="Edit Selected Record";isc.A.classDescription="Edit a record currently showing in some other component";isc.A.editorType="FormEditSelectedTaskEditor";isc.B.push(isc.A.executeElement=function isc_FormEditSelectedTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=this.selectionComponentId;if(!_3){this.logWarn("selectionComponentId not specified on task. Task skipped.");return true}
var _4=this.getLocalComponent(_1,_3);if(!_4){this.logWarn("selectionComponent '"+_3+"' not found. Task skipped.");return true}
var _5=null;if(_4.getSelectedRecord){_5=_4.getSelectedRecord()}
_2.editRecord(_5);return true},isc.A.getElementDescription=function isc_FormEditSelectedTask_getElementDescription(){return"Edit '"+this.componentId+"' from selected record"});isc.B._maxIndex=isc.C+2;isc.defineClass("FormHideFieldTask","ComponentTask");isc.A=isc.FormHideFieldTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass="DynamicForm";isc.A.title="Show / Hide Field";isc.A.classDescription="Show or hide a field of a form";isc.A.editorType="FormHideFieldTaskEditor";isc.B.push(isc.A.executeElement=function isc_FormHideFieldTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=this.targetField;if(!_3){this.logWarn("targetField not specified on task. Task skipped.");return true}
var _4=this.hide;if(isc.isA.String(_4))_4=(_4=="true");if(_4)_2.hideItem(_3);else _2.showItem(_3);return true},isc.A.getElementDescription=function isc_FormHideFieldTask_getElementDescription(){var _1=this.hide;if(isc.isA.String(_1))_1=(_1=="true");var _2=(_1?"Hide":"Show");return _2+" '"+this.componentId+"."+this.targetField+"'"});isc.B._maxIndex=isc.C+2;isc.defineClass("FormDisableFieldTask","ComponentTask");isc.A=isc.FormDisableFieldTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass="DynamicForm";isc.A.title="Enable / Disable Field";isc.A.classDescription="Enable or disable a field of a form";isc.A.editorType="FormDisableFieldTaskEditor";isc.B.push(isc.A.executeElement=function isc_FormDisableFieldTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=this.targetField;if(!_3){this.logWarn("targetField not specified on task. Task skipped.");return true}
var _4=this.disable;if(isc.isA.String(_4))_4=(_4=="true");var _5=_2.getField(_3);if(_5){_5.setDisabled(_4)}
return true},isc.A.getElementDescription=function isc_FormDisableFieldTask_getElementDescription(){var _1=this.disable;if(isc.isA.String(_1))_1=(_1=="true");var _2=(_1?"Disable":"Enable");return _2+" '"+this.componentId+"."+this.targetField+"'"});isc.B._maxIndex=isc.C+2;isc.defineClass("GridFetchDataTask","ComponentTask");isc.A=isc.GridFetchDataTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["ListGrid","TileGrid","DetailViewer"];isc.A.componentRequiresDataSource=true;isc.A.classDescription="Cause a grid to fetch data matching specified criteria";isc.A.editorType="GridFetchDataTaskEditor";isc.B.push(isc.A.executeElement=function isc_GridFetchDataTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=this.$195y(this.criteria,_1.state,_1.state,_1);_2.fetchData(_3,function(){_1.start()},this.requestProperties);return false},isc.A.getElementDescription=function isc_GridFetchDataTask_getElementDescription(){var _1="Fetch data on '"+this.componentId+"'",_2=this.criteria;if(!isc.DS.isAdvancedCriteria(_2)){_2=isc.DS.convertCriteria(_2)}
var _3=isc.XORGateway.$87n(_2);var _4=isc.DataSource.create({addGlobalId:false,fields:_3});_1+=" where "+isc.DataSource.getAdvancedCriteriaDescription(_2,_4);_4.destroy();return _1});isc.B._maxIndex=isc.C+2;isc.defineClass("GridFetchRelatedDataTask","ComponentTask");isc.A=isc.GridFetchRelatedDataTask;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$1973=["record","schema","callback","requestParameters"];isc.B.push(isc.A.createInitPropertiesFromAction=function isc_c_GridFetchRelatedDataTask_createInitPropertiesFromAction(_1,_2){var _3={},_4=_1.mapping||[];for(var i=0;i<_4.length;i++){var _6=_4[i];if(_6=="null")_6=null;_3[this.$1973[i]]=_6}
return _3});isc.B._maxIndex=isc.C+1;isc.A=isc.GridFetchRelatedDataTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["ListGrid","TileGrid","DetailViewer"];isc.A.componentRequiresDataSource=true;isc.A.classDescription="Cause a grid to fetch data related to a record in another grid";isc.A.editorType="GridFetchRelatedDataTaskEditor";isc.B.push(isc.A.executeElement=function isc_GridFetchRelatedDataTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=this.recordSourceComponent;if(!_3){this.logWarn("recordSourceComponent not specified on task. Task skipped.");return true}
var _4=this.getLocalComponent(_1,_3);if(!_4){this.logWarn("recordSourceComponent '"+_3+"' not found. Task skipped.");return true}
var _5=this.dataSource||_4;var _6=null;if(isc.isA.ListGrid(_4)&&_4.anySelected()){_6=_4.getSelectedRecord()}else if(isc.isA.DynamicForm(_4)){_6=_4.getValues()}else if(isc.isA.ListGrid(_4)){_6=_4.getRecord(0)}else if(isc.isA.DetailViewer(_4)){_6=_4.data[0]}
_2.fetchRelatedData(_6,_5,function(){_1.start()});return false},isc.A.getElementDescription=function isc_GridFetchRelatedDataTask_getElementDescription(){return"Fetch '"+this.componentId+"' data from related record"});isc.B._maxIndex=isc.C+2;isc.defineClass("GridRemoveSelectedDataTask","ComponentTask");isc.A=isc.GridRemoveSelectedDataTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["ListGrid","TileGrid"];isc.A.classDescription="Remove data that is selected in a grid";isc.A.editorType="GridRemoveSelectedDataTaskEditor";isc.B.push(isc.A.executeElement=function isc_GridRemoveSelectedDataTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;_2.removeSelectedData(function(){_1.start()});return false},isc.A.getElementDescription=function isc_GridRemoveSelectedDataTask_getElementDescription(){return"Remove '"+this.componentId+"' selected records"});isc.B._maxIndex=isc.C+2;isc.defineClass("GridStartEditingTask","ComponentTask");isc.A=isc.GridStartEditingTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass="ListGrid";isc.A.classDescription="Start editing a new record";isc.A.editorType="GridStartEditingTaskEditor";isc.B.push(isc.A.executeElement=function isc_GridStartEditingTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3;if(this.initialValues){_3=this.$1950(this.initialValues,null,null,_1)}
_2.startEditingNew(_3);return true},isc.A.getElementDescription=function isc_GridStartEditingTask_getElementDescription(){return"Edit '"+this.componentId+"' new record"});isc.B._maxIndex=isc.C+2;isc.defineClass("GridSetEditValueTask","ComponentTask");isc.A=isc.GridSetEditValueTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass="ListGrid";isc.A.componentRequiresDataSource=true;isc.A.classDescription="Set a value in an editable grid as if the user had made the edit";isc.A.editorType="GridSetEditValueTaskEditor";isc.B.push(isc.A.executeElement=function isc_GridSetEditValueTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=this.targetField;if(_3==null){this.logWarn("targetField not specified on task. Task skipped.");return true}
var _4=_2.getEditRow(),_5=_4;if(_5<0){var _6=_2.getSelectedRecord();if(_6){_5=_2.getRecordIndex(_6)}}
if(_5<0){if(_2.getRecord(0)!=null){_5=0}}
var _7=this.value;if(_7){var _8=this.$1950({value:_7},null,null,_1);_7=_8.value}
if(_5>=0){if(_5!=_4){_2.startEditing(_5,_3);_5=_2.getEditRow()}
if(_5>=0){_2.setEditValue(_5,_3,_7)}}else{var _9={};_9[this.targetField]=_7;_2.startEditingNew(_9)}
return true},isc.A.getElementDescription=function isc_GridSetEditValueTask_getElementDescription(){return"Set '"+this.componentId+"."+this.targetField+"' edit value"});isc.B._maxIndex=isc.C+2;isc.defineClass("GridSaveAllEditsTask","ComponentTask");isc.A=isc.GridSaveAllEditsTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass="ListGrid";isc.A.classDescription="Save all changes in a grid with auto-saving disabled";isc.A.editorType="GridSaveAllEditsTaskEditor";isc.B.push(isc.A.executeElement=function isc_GridSaveAllEditsTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;_2.saveAllEdits(null,function(){_1.start()});return false},isc.A.getElementDescription=function isc_GridSaveAllEditsTask_getElementDescription(){return"Save all '"+this.componentId+"' edits"});isc.B._maxIndex=isc.C+2;isc.defineClass("GridExportDataTask","ComponentTask");isc.A=isc.GridExportDataTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["ListGrid","TileGrid","DetailViewer"];isc.A.componentRequiresDataSource=true;isc.A.title="Export Data (Server)";isc.A.classDescription="Export data currently shown in a grid";isc.A.editorType="GridExportDataTaskEditor";isc.B.push(isc.A.executeElement=function isc_GridExportDataTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;_2.exportData(this.requestProperties,function(){_1.start()});return false},isc.A.getElementDescription=function isc_GridExportDataTask_getElementDescription(){return"Export '"+this.componentId+"' data"});isc.B._maxIndex=isc.C+2;isc.defineClass("GridExportClientDataTask","ComponentTask");isc.A=isc.GridExportClientDataTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["ListGrid","TileGrid","DetailViewer"];isc.A.title="Export Data (Client)";isc.A.classDescription="Export data currently shown in a grid keeping all grid-specific formatting";isc.A.editorType="GridExportClientDataTaskEditor";isc.B.push(isc.A.executeElement=function isc_GridExportClientDataTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;_2.exportClientData(this.requestProperties,function(){_1.start()});return false},isc.A.getElementDescription=function isc_GridExportClientDataTask_getElementDescription(){return"Export '"+this.componentId+"' formatted data"});isc.B._maxIndex=isc.C+2;isc.defineClass("ShowNextToComponentTask","ComponentTask");isc.A=isc.ShowNextToComponentTask;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$1973=["nextToComponentId","side","canOcclude","skipAnimation"];isc.B.push(isc.A.createInitPropertiesFromAction=function isc_c_ShowNextToComponentTask_createInitPropertiesFromAction(_1,_2){var _3={},_4=_1.mapping||[];for(var i=0;i<_4.length;i++){var _6=_4[i];if(_6=="null")_6=null;_3[this.$1973[i]]=_6}
return _3});isc.B._maxIndex=isc.C+1;isc.A=isc.ShowNextToComponentTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass="Canvas";isc.A.title="Show Next To";isc.A.classDescription="Show a component next to some other component";isc.A.editorType="ShowNextToComponentTaskEditor";isc.B.push(isc.A.executeElement=function isc_ShowNextToComponentTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=this.nextToComponentId;if(!_3){this.logWarn("nextToComponentId not specified on task. Task skipped.");return true}
var _4=this.getLocalComponent(_1,_3);if(!_4){this.logWarn("nextToComponentId '"+_3+"' not found. Task skipped.");return true}
_2.showNextTo(_4,this.side,this.canOcclue,this.skipAnimation);return true},isc.A.getElementDescription=function isc_ShowNextToComponentTask_getElementDescription(){return"Show '"+this.componentId+"' next to '"+this.nextToComponentId+"'"});isc.B._maxIndex=isc.C+2;isc.defineClass("SetSectionTitleTask","ComponentTask");isc.A=isc.SetSectionTitleTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass="SectionStack";isc.A.classDescription="Sets the title of a section in a SectionStack";isc.A.editorType="SetSectionTitleTaskEditor";isc.B.push(isc.A.executeElement=function isc_SetSectionTitleTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=this.targetSectionName;if(!_3&&this.targetSectionTitle){var _4=_2.getSectionNames();for(var i=0;i<_4.length;i++){var _6=_2.getSectionHeader(_4[i]);if(_6&&_6.title==this.targetSectionTitle){_3=_4[i];break}}}
if(!_3){isc.logWarn("Target section not identified by targetSectionName or targetSectionTitle. Task skipped");return true}
var _7=this.title;if(_7){var _8=this.$1950({value:_7},null,null,_1);_7=_8.value}
_2.setSectionTitle(_3,_7);return true},isc.A.getElementDescription=function isc_SetSectionTitleTask_getElementDescription(){return"Set '"+this.componentId+"' section title"});isc.B._maxIndex=isc.C+2;isc.defineClass("NavigateListPaneTask","ComponentTask");isc.A=isc.NavigateListPaneTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass="TriplePane";isc.A.classDescription="Navigate to the List pane in a TriplePane, using the selection in the Navigation pane to refresh the list, if applicable";isc.A.editorType="NavigateListPaneTaskEditor";isc.B.push(isc.A.executeElement=function isc_NavigateListPaneTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=this.title;if(_3){var _4=this.$1950({value:_3},null,null,_1);_3=_4.value}
_2.navigateListPane(_3);return true},isc.A.getElementDescription=function isc_NavigateListPaneTask_getElementDescription(){return"Navigate '"+this.componentId+"' list pane"});isc.B._maxIndex=isc.C+2;isc.defineClass("NavigateDetailPaneTask","ComponentTask");isc.A=isc.NavigateDetailPaneTask.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.componentBaseClass=["SplitPane","TriplePane"];isc.A.classDescription="Navigate to the Detail pane in a SplitPane or TriplePane, using the selection in the Navigation pane (for SplitPane) or List Pane (for TriplePane)";isc.A.editorType="NavigateDetailPaneTaskEditor";isc.B.push(isc.A.executeElement=function isc_NavigateDetailPaneTask_executeElement(_1){var _2=this.getTargetComponent(_1);if(!_2)return true;var _3=this.title;if(_3){var _4=this.$1950({value:_3},null,null,_1);_3=_4.value}
_2.navigateDetailPane(_3);return true},isc.A.getElementDescription=function isc_NavigateDetailPaneTask_getElementDescription(){return"Navigate '"+this.componentId+"' detail pane"});isc.B._maxIndex=isc.C+2;isc.defineClass("WorkflowEditor","VStack");isc.A=isc.WorkflowEditor.getPrototype();isc.A.elementWidth=180;isc.A.elementHeight=100;isc.A.elementSpacing=45;isc.A.lineSpacing=40;isc.A.autoWrapSequences=false;isc.A.autoWrapSequenceCount=6;isc.A.markUnreferencedTasks=true;isc.A.unnamedSequencePrefix="_notNamed_";isc.A.linkColor="#7B8284";isc.A.linkWidth=2;isc.A.connectorLineColors=["#2ecc71","#4d89f9","#2de0e0","#99FF33","#639966","#63CCCC","#6366FF","#999999","#00FF00","#00CCFF","#996366","#C0C0C0","#000000","#996100","#3498db","#006300","#1abc9c","#000080","#636399","#636363"];isc.A.failureConnectorLineColors=["#df5545","#e0e02d","#e02de0","#FF9933","#9933FF","#800080","#FF00FF","#FFCC00","#c0392b","#FFC312","#FDA7D0","#EE5A24","#9980FA","#B53471","#D980FA","#F79F1F","#b71540","#8e44ad","#EA2027","#E58E26"];isc.A.unreferencedLineColor="black";isc.A.unreferencedLinkPointBackgroundColor="red";isc.A.unreferencedLinkPointForegroundColor="white";isc.A.startLineColor="#7B8284";isc.A.startLinkPointBorderColor="#6bd77d";isc.A.startLinkPointBackgroundColor="#b4f1c3";isc.A.gatewayPlaceholderTaskType="EndProcessTask";isc.A.addElementTitle="Add a step";isc.A.addElementHint="Pick a task...";isc.A.canceledLinkPrompt="canceled";isc.A.failedLinkPrompt="failed";isc.A.continuationLinkPrompt="continuation";isc.A.startTaskLinkPrompt="Initial task to be executed";isc.A.unreferencedTaskLinkPrompt="No other tasks currently lead to this task so it will never be executed";isc.A.newElementTypes=[{title:"DataSource Tasks",prefix:"DataSource",icon:"workflow/dataSourceTasks.png",canSelect:false,children:[{icon:"workflow/fetch.png",elementType:"DSFetchTask"},{icon:"workflow/update.png",elementType:"DSUpdateTask"},{icon:"workflow/add.png",elementType:"DSAddTask"},{icon:"workflow/remove.png",elementType:"DSRemoveTask"}]},{title:"Grid Tasks",prefix:"Grid",icon:"workflow/gridTasks.png",canSelect:false,children:[{icon:"workflow/fetch.png",elementType:"GridFetchDataTask"},{icon:"workflow/fetch.png",elementType:"GridFetchRelatedDataTask"},{icon:"workflow/remove.png",elementType:"GridRemoveSelectedDataTask"},{icon:"workflow/edit.png",elementType:"GridStartEditingTask"},{icon:"workflow/save.png",elementType:"GridSaveAllEditsTask"},{icon:"workflow/export.png",elementType:"GridExportDataTask"},{icon:"workflow/export.png",elementType:"GridExportClientDataTask"},{icon:"workflow/setValue.png",elementType:"GridSetEditValueTask"}]},{title:"Form Tasks",prefix:"Form",icon:"workflow/formTasks.png",canSelect:false,children:[{icon:"workflow/setValue.png",elementType:"FormSetValuesTask"},{icon:"workflow/showOrHide.png",elementType:"FormHideFieldTask"},{icon:"workflow/enableOrDisable.png",elementType:"FormDisableFieldTask"},{icon:"workflow/save.png",elementType:"FormSaveDataTask"},{icon:"workflow/update.png",elementType:"FormEditSelectedTask"},{icon:"workflow/edit.png",elementType:"FormEditNewRecordTask"},{icon:"workflow/setValue.png",elementType:"FormSetFieldValueTask"},{icon:"workflow/remove.png",elementType:"FormClearValuesTask"},{icon:"workflow/validate.png",elementType:"FormValidateValuesTask"}]},{title:"Widget Tasks",icon:"workflow/widgetTasks.png",canSelect:false,children:[{icon:"workflow/setLabelText.png",elementType:"SetLabelTextTask"},{icon:"workflow/setButtonText.png",elementType:"SetButtonTitleTask"},{icon:"workflow/setSectionTitle.png",elementType:"SetSectionTitleTask"},{icon:"workflow/show.png",elementType:"ShowComponentTask"},{icon:"workflow/hide.png",elementType:"HideComponentTask"},{icon:"workflow/showNextTo.png",elementType:"ShowNextToComponentTask"},{icon:"workflow/showMessage.png",elementType:"ShowMessageTask"},{icon:"workflow/askForValue.png",elementType:"AskForValueTask"},{icon:"workflow/showNotification.png",elementType:"ShowNotificationTask"},{icon:"workflow/navigate.png",elementType:"NavigateListPaneTask"},{icon:"workflow/navigate.png",elementType:"NavigateDetailPaneTask"}]},{title:"Decisions",icon:"workflow/decisions.png",canSelect:false,children:[{icon:"workflow/singleDecision.png",elementType:"XORGateway"},{icon:"workflow/multiDecision.png",elementType:"DecisionGateway"},{icon:"workflow/confirm.png",elementType:"UserConfirmationGateway"}]},{title:"Advanced Tasks",icon:null,canSelect:false,children:[{icon:null,elementType:"StartTransactionTask"},{icon:null,elementType:"SendTransactionTask"}]}];isc.A.arrowOffsetX=10;isc.A.arrowOffsetY=5;isc.A.showSolidArrows=true;isc.A.unreferencedLinkPointSize=24;isc.A.divergingLinkPointSize=6;isc.A.divergingLinkStartPointSpread=10;isc.A=isc.WorkflowEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.containerDefaults={_constructor:isc.VStack,height:"100%",overflow:"auto",destroyWorkflowComponents:function(){this.destroyPromptPanes();this.destroyMembers()},destroyMembers:function(){var _1=this.getMembers().duplicate();this.removeMembers(_1);for(var i=0;i<_1.length;i++){_1[i].destroy()}},addPromptPanes:function(_1){this.$1969=_1;for(var i=0;i<_1.length;i++){this.addChild(_1[i])}},destroyPromptPanes:function(){var _1=this.$1969;if(!_1)return;for(var i=0;i<_1.length;i++){this.removeChild(_1[i]);_1[i].destroy()}
this.$1969=null}};isc.A.elementDefaults={_constructor:"WorkflowEditorElement",updateElementFromNode:function(_1){this.prompt=_1.prompt;if(this.title!=_1.title)
this.setContents(_1.title)},doubleClick:function(){if(this.creator.canEditElements&&this.canEdit){var _1=this.$1958,_2=this.creator;_2.editElementClick(_1.element);return false}}};isc.A.elementAddDefaults={_constructor:"WorkflowEditorElement",$1959:true,contributeToRuleContext:false,styleName:"processElementNew",createCanvas:function(){var _1=this,_2=this.creator.newElementTypeTree,_3=this.creator.addElementHint;var _4=isc.DynamicForm.create({numCols:1,layoutAlign:"center",width:140,fields:[{name:"type",type:"SelectItem",showTitle:false,width:"*",hint:_3,showHintInField:true,getClientPickListData:function(){return _2},valueField:"elementType",displayField:"title",dataSetType:"tree",pickListHeight:null,pickListMaxWidth:null,pickListFields:[{name:"title",autoFitWidth:true},{name:"description",width:"*"}],pickListProperties:{showHeader:false,autoFitData:"both",showClippedValuesOnHover:true,getCellStyle:function(_15,_16,_17){var _5=_1.creator,_6=this.Super("getCellStyle",arguments);if(!_5.isAvailableElement(_15)){var _7=this.getBaseStyle(_15,_16,_17);if(_7==_6)_6+="Disabled"}
return _6}},changed:function(_4,_15,_16){var _5=_1.creator,_8=_15.getSelectedRecord(),_9=(_1.$1958?_1.$1958.element:null);_5.addElementClick(_9,_16,_8.elementDefaults,_1.previousNode,function(_17,_18){if(_18){_5.rebuildWorkflow();_5.drawWorkflow()}else{if(_17)_1.previousNode=_17;_15.clearValue()}})}}],draw:function(){this.Super("draw",arguments);if(!this.$198i){this.$198i=true;if(_1.autoOpenTaskList){this.delayCall("initialFocusTaskList",[],10)}}},initialFocusTaskList:function(){this.focus();var _10=this.getField("type"),_11=this.getParentElements(),_12;for(var i=0;i<_11.length;i++){if(isc.isA.Window(_11[i])){_12=_11[i];break}}
if(_12&&_12.isAnimating()){var _14=function(){_10.showPicker()}
isc.Page.waitFor(_12,"animateShowComplete",_14)}else{_10.showPicker()}}});return _4}};isc.A.elementRowDefaults={_constructor:isc.HLayout,height:1,width:1};isc.A.elementSegmentDefaults={_constructor:isc.VLayout,height:1,width:1};isc.A.drawPaneDefaults={_constructor:isc.DrawPane,visibility:"hidden",resizeToMatch:function(_1){this.resizeTo(_1.getScrollWidth(),_1.getScrollHeight())}};isc.A.promptDrawPaneDefaults={_constructor:isc.DrawPane,canHover:true,hoverDelay:0,hoverWrap:false,hoverAutoFitMaxWidth:250};isc.A.$1974={"ListGrid":"Grid","DynamicForm":"Form"};isc.A.$1975={"ShowTask":"ShowComponentTask","HideTask":"HideComponentTask","ShowNextToTask":"ShowNextToComponentTask"};isc.A.canRemoveElements=true;isc.A.removeIcon="[SKIN]/actions/remove.png";isc.A.removeIconSize=16;isc.A.removeIconPrompt="Delete Task";isc.A.warnOnRemoval=false;isc.A.warnOnRemovalMessage="Are you sure you want to delete this element?";isc.A.canEditElements=true;isc.A.editIcon="[SKIN]/actions/edit.png";isc.A.editIconSize=16;isc.A.editIconPrompt="Edit Task";isc.A.editorWindowDefaults={_constructor:"Window",autoSize:true,canDragResize:true,autoCenter:true,isModal:true,showModalMask:true,showMinimizeButton:false,contributeToRuleContext:false,draw:function(){this.Super("draw",arguments);if(!this.$198j){var _1=this.items;if(!isc.isAn.Array(_1))_1=[_1];for(var i=0;i<_1.length;i++){_1[i].setWidth("100%");_1[i].setHeight("100%");this.setMinWidth(this.getWidth());this.setMinHeight(this.getHeight())}
this.$198j=true}}};isc.A.canAddElements=true;isc.B.push(isc.A.initWidget=function isc_WorkflowEditor_initWidget(){this.Super("initWidget",arguments);var _1=this.lineSpacing*2;this.drawPane=this.createAutoChild("drawPane");this.addAutoChild("container",{layoutMargin:_1,membersMargin:this.lineSpacing});this.container.addChild(this.drawPane);this.drawPane.observe(this.container,"resized","observer.resizeToMatch(observed)");this.drawPane.observe(this.container,"adjustOverflow","observer.resizeToMatch(observed)");this.newElementTypeTree=this.createNewElementTypeTree();if(this.process){this.setProcess(this.process)}else{this.clearProcess()}
this.unreferencedLinkPointOffset=Math.round(this.unreferencedLinkPointSize/2);this.divergingLinkPointOffset=Math.round(this.divergingLinkPointSize/2)},isc.A.draw=function isc_WorkflowEditor_draw(){this.Super("draw",arguments);this.drawPane.show();this.drawPane.moveAbove(this)},isc.A.createNewElementTypeTree=function isc_WorkflowEditor_createNewElementTypeTree(_1,_2){if(!_1)_1=isc.Tree.create({data:this.newElementTypes,autoOpen:"all"});var _3=_1.getChildren(_2||_1.getRoot());for(var i=0;i<_3.length;i++){var _5=_3[i];if(_5.elementType){var _6=_5.elementType,_7=isc.ClassFactory.getClass(_6);if(_7){var _8=_7.getInstanceProperty("editorType");if(_8){_5.editor=_8}
var _9=_7.getTitle(),_10=_2.prefix;if(_10&&_9.startsWith(_10+" ")){_9=_9.replace(_10+" ","")}
_5.title=_9;var _11=_7.getInstanceProperty("classDescription");if(!_5.description)_5.description=_11;_5.editorProperties=_7.getInstanceProperty("editorProperties")}}
if(_5.children){this.createNewElementTypeTree(_1,_5)}}
return _1},isc.A.getTaskIcon=function isc_WorkflowEditor_getTaskIcon(_1){var _2=this.newElementTypeTree.find("elementType",_1);return(_2?_2.icon:null)},isc.A.getTaskTitle=function isc_WorkflowEditor_getTaskTitle(_1){var _2=this.newElementTypeTree.find("elementType",_1);return(_2?_2.title:null)},isc.A.getTaskEditorProperties=function isc_WorkflowEditor_getTaskEditorProperties(_1){var _2=this.newElementTypeTree.find("elementType",_1);return(_2?_2.editorProperties:null)},isc.A.drawWorkflow=function isc_WorkflowEditor_drawWorkflow(){var _1=this.$196a,_2=_1.getRoot();this.clearRoutes();this.nextSegmentId=0;if(this.drawTree(_1,_2)){if(this.$210d)isc.Timer.clear(this.$210d);this.$210d=this.delayCall("drawLinks",[_1])}},isc.A.rebuildWorkflow=function isc_WorkflowEditor_rebuildWorkflow(_1){if(!_1)this.process=this.getProcessLiveObject();if(this.$210d){isc.Timer.clear(this.$210d);delete this.$210d}
this.container.destroyWorkflowComponents();this.container.scrollTo(0,0);this.drawPane.destroyItems();if(this.$196a)this.$196a.destroy();var _2=this.buildProcessTree();this.$196a=isc.Tree.create({root:_2})},isc.A.drawTree=function isc_WorkflowEditor_drawTree(_1,_2,_3){var _4=_1.getChildren(_2),_5=_3,_6=[],_7;if(!_5){_5=this.createSegment();this.container.addMember(_5)}
if(_4.length==0){if(this.canAddElements){_6.add(this.createElementAdd({parentWidget:_2.$196b,autoOpenTaskList:true,segmentId:_5.segmentId,rowId:_5.nextRowId++}));this.drawSeries(_6,_1.getLevel(_2),_5);delete _2.$196b}
return true}
var _8=[],_9=this,_10=function(){if(_8.length>0){for(var i=0;i<_8.length;i++){var _12=_8[i];_9.drawTree(_1,_12,_5)}
_8=[]}};for(var i=0;i<_4.length;i++){var _12=_4[i];if(_12.orphan&&_6.length>0){this.drawSeries(_6,_1.getLevel(_12)-1,_5);_6=[];_10();_5=this.createSegment();this.container.addMember(_5)}
if(_12.$196c){if(!_12.$196d){_8.add(_12);_10()}}else{var _13=this.createElement(_12);_6.add(_13);if(_12.isFolder){if(!_12.$196d){var _14=_1.getChildren(_12);if(_14&&_14.length>0){_8.add(_12)}}}
_7=_12}
if(this.autoWrapSequences&&_6.length>this.autoWrapSequenceCount&&i<_4.length-1){this.drawSeries(_6,_1.getLevel(_12)-1,_5);_6=[];_10();_5=this.createSegment();this.container.addMember(_5)}}
if(_6.length>0){if(this.canAddElements&&_7.element&&!_7.element.nextElement&&_7.element.$1957!=false&&!_7.element.editorPlaceholder){_6.add(this.createElementAdd({tree:_1,previousNode:_7,segmentId:_5.segmentId,rowId:_5.nextRowId++}))}
var _15=_1.getParents(_12),_16=0;for(var i=0;i<_15.length-1;i++){if(!_15[i].$196c)_16++}
this.drawSeries(_6,_16,_5);_6=[]}
_10();return true},isc.A.createSegment=function isc_WorkflowEditor_createSegment(){return this.createAutoChild("elementSegment",{segmentId:this.nextSegmentId++,nextRowId:0,membersMargin:this.lineSpacing})},isc.A.drawSeries=function isc_WorkflowEditor_drawSeries(_1,_2,_3){var _4=this.createElementRow(_2);_4.addMembers(_1);_3.addMember(_4)},isc.A.drawLinks=function isc_WorkflowEditor_drawLinks(_1){delete this.$210d;var _2=this.container,_3={};var _4=_2.getMembers();for(var s=0;s<_4.length;s++){var _6=_4[s],_7=_6.getMembers();for(var i=0;i<_7.length;i++){var _9=_7[i],_10=_9.getMembers(),_11=true;for(var j=0;j<_10.length;j++){var _13=_10[j];if(_13.$1959||isc.isA.LayoutSpacer(_13))continue;if(_11&&_13.$1958.orphan){var _14=(_13.$1958?_13.$1958.elementID:_13.ID),_15=(_13.$1958&&_13.$1958.$196e!=null&&(!_30||_30.$1958.$196e!=_13.$1958.$196e)?_13.$1958.$196e:null),_16=_14||_15;var _17=this.getCanvasLeftCenterPoint(_2,_13);_17[0]=this.unreferencedLinkPointOffset+2;if(!_3[_16])_3[_16]=[];_3[_16].add({startPoint:_17,prompt:this.unreferencedTaskLinkPrompt,orphan:true})}
_11=false;if(j<_10.length-1){this.drawNextElementLink(_13)}else{if(_13.$1958.element.nextElement){var _16=_13.$1958.element.nextElement,_18=this.getCanvasBottom(_2,_13),_19=this.getCanvasRightCenterPoint(_2,_13);if(!_3[_16])_3[_16]=[];_3[_16].add({startPoint:_19,bottom:_18,prompt:this.continuationLinkPrompt})}}
if(_13.$1958.isFolder){var _16=null,_19=this.getCanvasBottomCenterPoint(_2,_13);if(_13.$1958.$196d){_16=_13.$1958.$196d}else{var _20=_1.getChildren(_13.$1958),_21=(_20&&_20.length>0?_20[0]:null),_16=(_21?_21.elementID:null);if(_21&&_21.$196c){var _22=_20.length,_23=this.divergingLinkStartPointSpread,_24=_19[0],_25=_24-Math.round(_23*(_22-1)/2);for(var _26=0;_26<_20.length;_26++){_16=null;var _27=_20[_26];if(_27.$196d){_16=_27.$196d}else{var _28=_1.getChildren(_27);_16=(_28&&_28.length>0?(_28[0].elementID||_28[0].$196e):null)}
if(_16){_19=[_25,_19[1]];_25+=_23;if(!_3[_16])_3[_16]=[];_3[_16].add({startPoint:_19,bottom:_19[1],prompt:_27.$196f,failure:_27.failure})}}
_16=null}}
if(_16){var _29=(_13.$1958.element.canceledElement?this.canceledLinkPrompt:this.failedLinkPrompt);if(!_3[_16])_3[_16]=[];_3[_16].add({startPoint:_19,bottom:_19[1],prompt:_29,failed:true})}}}}}
this.$196g=[];var _4=_2.getMembers();for(var s=0;s<_4.length;s++){var _6=_4[s],_7=_6.getMembers();for(var i=0;i<_7.length;i++){var _9=_7[i],_10=_9.getMembers(),_30=null;for(var j=0;j<_10.length;j++){var _13=_10[j];if(_13.$1959||isc.isA.LayoutSpacer(_13))continue;var _14=(_13.$1958?_13.$1958.elementID:_13.ID),_15=(_13.$1958&&_13.$1958.$196e!=null&&(!_30||_30.$1958.$196e!=_13.$1958.$196e)?_13.$1958.$196e:null);if(!_30){this.$196g.add(this.getCanvasLeftCenterPoint(_2,_13))}
if(_3[_14]||(_15&&_3[_15])){var _31=_3[_14]||_3[_15];for(var _32=0;_32<_31.length;_32++){var _18=_31[_32].bottom;if(_18!=null){this.addHorizontalRouteReservation(_18,_14||_15)}}
if(_30){this.addHorizontalRouteReservation(this.getCanvasTop(_2,_13)-this.lineSpacing,_14||_15)}}
_30=_13}}}
this.assignHorizontalRoutes();var _33={},_34=0,_35=0;for(var _16 in _3){_33[_16]=(_3[_16][0].orphan?this.unreferencedLineColor:(_3[_16][0].failed?this.failureConnectorLineColors[_35++]:this.connectorLineColors[_34++]))}
var _36=[];var _4=_2.getMembers();for(var s=0;s<_4.length;s++){var _6=_4[s],_7=_6.getMembers();for(var i=0;i<_7.length;i++){var _9=_7[i],_10=_9.getMembers(),_30=null;for(var j=0;j<_10.length;j++){var _13=_10[j];if(isc.isA.LayoutSpacer(_13))continue;var _14=(_13.$1958?_13.$1958.elementID:_13.ID),_15=(_13.$1958&&_13.$1958.$196e!=null&&(!_30||_30.$1958.$196e!=_13.$1958.$196e)?_13.$1958.$196e:null);if(_3[_14]||(_15&&_3[_15])){_14=_14||_15;var _37=(_30==null),_31=_3[_14],_38=_33[_14];_36.addList(this.drawElementLink(_13,_14,_37,_31,_38))}else if(!_30&&(!_13.$1958||!_13.$1958.orphan)&&s==0&&i==0){_14=_14||_15;var _17=this.getCanvasLeftCenterPoint(_2,_13);_17[0]=this.unreferencedLinkPointOffset+2;var _31=[{startPoint:_17,prompt:this.startTaskLinkPrompt,pointColor:this.startLinkPointBorderColor,fillColor:this.startLinkPointBackgroundColor}];_36.addList(this.drawElementLink(_13,_14,true,_31))}
_30=_13}}}
_2.addPromptPanes(_36)},isc.A.drawNextElementLink=function isc_WorkflowEditor_drawNextElementLink(_1){var _2=this.container,_3=this.getCanvasRightCenterPoint(_2,_1),_4=[_3[0]+this.elementSpacing,_3[1]];isc.DrawLine.create({drawPane:this.drawPane,lineWidth:this.linkWidth,lineColor:this.linkColor,startPoint:_3,endPoint:_4});var _5=_4[0],_6=_4[1],_7=[_5-this.arrowOffsetX,_6-this.arrowOffsetY],_8=[_5-this.arrowOffsetX,_6+this.arrowOffsetY],_9=[_7,_4,_8],_10;if(this.showSolidArrows){_9.add(_7);_10=this.linkColor}
isc.DrawPath.create({drawPane:this.drawPane,lineWidth:this.linkWidth,lineColor:this.linkColor,fillColor:_10,points:_9})},isc.A.drawElementLink=function isc_WorkflowEditor_drawElementLink(_1,_2,_3,_4,_5){var _6=this.container,_7=this.getCanvasLeftCenterPoint(_6,_1),_8=[];for(var _9=0;_9<_4.length;_9++){var _10=_4[_9].startPoint,_11=_4[_9].bottom,_12=this.divergingLinkPointOffset,_13=_4[_9].prompt,_14=_4[_9].pointColor,_15=_4[_9].fillColor,_16=_4[_9].orphan,_17=(_10[1]==_7[1]);var _18=this.getHorizontalRoute(_11,_2),_19=this.getVerticalRoute(_7[1],_2),_20=null;if(_10[1]==_11){_20=[_10[0],_18]
isc.DrawLine.create({drawPane:this.drawPane,lineWidth:this.linkWidth,lineColor:_5,startPoint:_10,endPoint:_20});var _21=_8[_8.length]=this.createAutoChild("promptDrawPane",{left:_10[0]-_12,top:_10[1],width:_12*2,height:_12,prompt:_13,hoverStyle:this.hoverStyle});isc.DrawCurve.create({drawPane:_21,lineWidth:this.linkWidth,lineColor:_5,fillColor:_5,startPoint:[0,0],endPoint:[_12*2,0],controlPoint1:[_12,_12],controlPoint2:[_12,_12]})}else if(!_17){var _22=[_10[0]+Math.round(this.elementSpacing/2),_10[1]];isc.DrawLine.create({drawPane:this.drawPane,lineWidth:this.linkWidth,lineColor:_5,startPoint:_10,endPoint:_22});_20=[_22[0],_18];if(_13){var _21=_8[_8.length]=this.createAutoChild("promptDrawPane",{left:_10[0],top:_10[1]-_12,width:_12,height:_12*2,prompt:_13,hoverStyle:this.hoverStyle});isc.DrawCurve.create({drawPane:_21,lineWidth:this.linkWidth,lineColor:_5,fillColor:_5,startPoint:[0,0],endPoint:[0,_12*2],controlPoint1:[_12,_12],controlPoint2:[_12,_12]})}
isc.DrawLine.create({drawPane:this.drawPane,lineWidth:this.linkWidth,lineColor:_5,startPoint:_22,endPoint:_20})}
if(!_17){isc.DrawLine.create({drawPane:this.drawPane,lineWidth:this.linkWidth,lineColor:_5,startPoint:_20,endPoint:[_19,_20[1]]});_20=[_19,_20[1]];var _23=_7[1];if(!_3){_23=this.getHorizontalRoute(this.getCanvasTop(_6,_1)-this.lineSpacing,_2)}
isc.DrawLine.create({drawPane:this.drawPane,lineWidth:this.linkWidth,lineColor:_5,startPoint:_20,endPoint:[_19,_23]});_20=[_19,_23]}
if(!_3){isc.DrawLine.create({drawPane:this.drawPane,lineWidth:this.linkWidth,lineColor:_5,startPoint:_20,endPoint:[_7[0]-Math.round(this.elementSpacing/2),_20[1]]});_20=[_7[0]-Math.round(this.elementSpacing/2),_20[1]];isc.DrawLine.create({drawPane:this.drawPane,lineWidth:this.linkWidth,lineColor:_5,startPoint:_20,endPoint:[_20[0],_7[1]]});_20=[_20[0],_7[1]]}
if(_17){_20=_10}
var _24=_7[0],_25=_7[1],_26=[_24-this.arrowOffsetX,_25-this.arrowOffsetY],_27=[_24-this.arrowOffsetX,_25+this.arrowOffsetY],_28=(_17?this.unreferencedLinkPointOffset:this.divergingLinkPointOffset),_14=(_17?_14||this.unreferencedLinkPointBackgroundColor:_5),_15=(_17?_15||_14||this.unreferencedLinkPointBackgroundColor:_5);if(_17&&!_16)_5=this.startLineColor;if(_13&&_3&&_4.length==1){var _21=_8[_8.length]=this.createAutoChild("promptDrawPane",{left:_20[0]-_28-1,top:_20[1]-_28-1,width:_24-_20[0],height:_28*2+2,prompt:_13,hoverStyle:this.hoverStyle});isc.DrawOval.create({drawPane:_21,lineWidth:this.linkWidth,lineColor:_14,fillColor:_15,centerPoint:[_28+1,_28+1],radius:_28});if(_17&&_16){var _29=Math.round(_28/2);isc.DrawLine.create({drawPane:_21,lineWidth:this.linkWidth,lineColor:this.unreferencedLinkPointForegroundColor,prompt:_13,canHover:true,hoverStyle:this.hoverStyle,startPoint:[_28-_29,_28-_29],endPoint:[_28+_29+1,_28+_29+1]});isc.DrawLine.create({drawPane:_21,lineWidth:this.linkWidth,lineColor:this.unreferencedLinkPointForegroundColor,prompt:_13,canHover:true,hoverStyle:this.hoverStyle,startPoint:[_28+_29+1,_28-_29],endPoint:[_28-_29,_28+_29+1]})}}
isc.DrawLine.create({drawPane:this.drawPane,lineWidth:this.linkWidth,lineColor:_5,startPoint:_20,endPoint:_7});if(!_16){var _30=[_26,_7,_27],_31;if(this.showSolidArrows){_30.add(_26);_31=_5}
isc.DrawPath.create({drawPane:this.drawPane,lineWidth:this.linkWidth,lineColor:_5,fillColor:_31,points:_30})}}
return _8},isc.A.clearRoutes=function isc_WorkflowEditor_clearRoutes(){this.$196h={};this.$196i={}},isc.A.addHorizontalRouteReservation=function isc_WorkflowEditor_addHorizontalRouteReservation(_1,_2){if(!this.$196j)this.$196j={};if(!this.$196j[_1])this.$196j[_1]={};this.$196j[_1][_2]=true},isc.A.assignHorizontalRoutes=function isc_WorkflowEditor_assignHorizontalRoutes(){var _1=this.lineSpacing;for(var _2 in this.$196j){var y=~~_2,_4=this.$196j[y];var _5=isc.getKeys(_4).length,_6=Math.floor(_1/_5)-1,_7=y+Math.round(_1/2),_8=_7+Math.round(_6*(_5-1)/2);for(var _9 in _4){var _10=this.$196h[_9];if(!_10){_10=this.$196h[_9]={}}
_10[y]=_8;_8-=_6}}},isc.A.getHorizontalRoute=function isc_WorkflowEditor_getHorizontalRoute(_1,_2){var _3=this.$196h[_2];if(_3){var _4=_3[_1];return _4}},isc.A.getVerticalRoute=function isc_WorkflowEditor_getVerticalRoute(_1,_2){var _3=this.$196i[_2];if(_3!=null){return _3}
var _4=this.$196h[_2],_5=_1,_6=_1;for(var _7 in _4){var _8=~~_7;_5=Math.min(_5,_8);_6=Math.max(_6,_8)}
var _9=this.$196g,_10=Number.MAX_VALUE;for(var i=0;i<_9.length;i++){var _12=_9[i];if(_5<=_12[1]&&_12[1]<=_6){_10=Math.min(_10,_12[0])}}
var _13=(_10<=this.container.layoutMargin?5:10);var x=_10-15;if(x<=3)x=Math.round(_10/2);do{var _15=false;for(var _7 in this.$196i){var _16=this.$196i[_7];if(_16==x){x-=_13;_15=true;break}}}while(_15);this.$196i[_2]=x;return x},isc.A.createElementRow=function isc_WorkflowEditor_createElementRow(_1){var _2=this.createAutoChild("elementRow",{height:this.elementHeight,membersMargin:this.elementSpacing});if(_1){var _3=Math.round(_1*((this.elementWidth-(_1%2==0?0:this.elementSpacing))/2));_2.addMember(isc.LayoutSpacer.create({width:_3}))}
return _2},isc.A.createElement=function isc_WorkflowEditor_createElement(_1){var _2=(_1.title||_1.elementID||_1.name),_3=_1.prompt,_4=(_1.element&&_1.element.getClassName?_1.element.getClassName():null),_5=(_1.element&&_1.element.getClass?_1.element.getClass():null);if(_5&&_5.getInstanceProperty("editorPlaceholder")){var _6=this.createElementAdd();delete _6.$1959;_6.$1958=_1;return _6}
var _7={editor:this,height:this.elementHeight,width:this.elementWidth,title:_2,prompt:_3,taskTitle:this.getTaskTitle(_4),icon:this.getTaskIcon(_4),hoverStyle:this.hoverStyle,$1958:_1,elementType:_4,canEdit:this.canEditElements,editIcon:this.editIcon,editIconSize:this.editIconSize,editIconPrompt:this.editIconPrompt,canRemove:this.canRemoveElements,removeIcon:this.removeIcon,removeIconSize:this.removeIconSize,removeIconPrompt:this.removeIconPrompt};if(!_1.element.editorType)_7.canEdit=false;if(this.elementBackgroundColor)_7.backgroundColor=this.elementBackgroundColor;return this.createAutoChild("element",_7)},isc.A.createElementAdd=function isc_WorkflowEditor_createElementAdd(_1){var _2=isc.addProperties({editor:this,height:this.elementHeight,width:this.elementWidth,title:this.addElementTitle,newElementTypes:this.newElementTypes},_1);if(this.elementBackgroundColor)_2.backgroundColor=this.elementBackgroundColor;return this.createAutoChild("elementAdd",_2)},isc.A.getCanvasRightCenterPoint=function isc_WorkflowEditor_getCanvasRightCenterPoint(_1,_2){var _3=_1.getPageLeft(),_4=_1.getPageTop(),_5=_2.getPageLeft()+_2.getWidth()-_3,_6=_2.getPageTop()+Math.round(_2.getHeight()/2)-_4;return[_5,_6]},isc.A.getCanvasLeftCenterPoint=function isc_WorkflowEditor_getCanvasLeftCenterPoint(_1,_2){var _3=_1.getPageLeft(),_4=_1.getPageTop(),_5=_2.getPageLeft()-_3,_6=_2.getPageTop()+Math.round(_2.getHeight()/2)-_4;return[_5,_6]},isc.A.getCanvasTop=function isc_WorkflowEditor_getCanvasTop(_1,_2){var _3=_1.getPageTop(),_4=_2.getPageTop()-_3;return _4},isc.A.getCanvasBottom=function isc_WorkflowEditor_getCanvasBottom(_1,_2){var _3=_1.getPageTop(),_4=_2.getPageTop()+_2.getHeight()-_3;return _4},isc.A.getCanvasBottomCenterPoint=function isc_WorkflowEditor_getCanvasBottomCenterPoint(_1,_2){var _3=_1.getPageLeft(),_4=_2.getPageLeft()+Math.round(_2.getWidth()/2)-_3,_5=this.getCanvasBottom(_1,_2);return[_4,_5]},isc.A.clearProcess=function isc_WorkflowEditor_clearProcess(){var _1=(!this.process||this.process.getAllElements().length>0?isc.Process.create():this.process);this.setProcess(_1)},isc.A.setProcess=function isc_WorkflowEditor_setProcess(_1){this.process=_1;this.rebuildWorkflow(true);this.drawWorkflow()},isc.A.getProcess=function isc_WorkflowEditor_getProcess(){var _1=this.getProcessEditContext();var _2=_1.getEditNodeTree();var _3=_2.getChildren(_2.root).get(0);_1.destroyAll();return _3.liveObject},isc.A.getProcessProperties=function isc_WorkflowEditor_getProcessProperties(){var _1=this.$196a,_2=_1.getRoot(),_3=_1.getChildren(_2);if(!_3||_3.length==0)return null;var _4=this.serializeProcess();_4=_4.replace("<Process>","<Process xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\">");var _5=isc.XMLTools.parseXML(_4);var _6=isc.XMLTools.toJS(_5,null,isc.DS.get("Process"),true,{propertiesOnly:true});delete _6["xmlns:xsi"];delete _6["xmlns:xsd"];return _6},isc.A.handleChanged=function isc_WorkflowEditor_handleChanged(){if(this.changed){this.changed()}},isc.A.loadProcess=function isc_WorkflowEditor_loadProcess(_1,_2){this.$196k=_1;var _3=this;isc.Process.loadProcess(_1,function(_4){if(_4!=null){_3.setProcess(_4)}
if(_2)_2(_4)})},isc.A.serializeProcess=function isc_WorkflowEditor_serializeProcess(){var _1=this.getProcessEditContext();var _2=_1.serializeAllEditNodes();_1.destroyAll();return _2},isc.A.getProcessLiveObject=function isc_WorkflowEditor_getProcessLiveObject(){var _1=this.getProcessEditContext(),_2=_1.getEditNodeTree(),_3=_2.getChildren(_1.getRootEditNode())[0].liveObject;_1.removeAll();return _3},isc.A.getProcessEditContext=function isc_WorkflowEditor_getProcessEditContext(){var _1=this.$196a,_2=_1.getRoot();var _3=this.$196l();var _4=this.$196m(_3);this.$196n(_3,_4,_2);return _3},isc.A.$196l=function isc_WorkflowEditor__createEditContext(){var _1="$196o",_2=isc.DS.get(_1);if(!_2){isc.DS.create({ID:_1,clientOnly:true,fields:[{name:"process",type:"Process"}]})}
var _3=isc.EditContext.create({rootComponent:{type:_1}});return _3});isc.evalBoundary;isc.B.push(isc.A.$196m=function isc_WorkflowEditor__addProcessNodeToEditContext(_1){var _2=isc.addProperties({_constructor:"Process"},this.process);delete _2.ID;delete _2.sequences;delete _2.elements;var _3={type:"Process",defaults:_2,liveObject:isc.Process.create(_2)};return _1.addNode(_3)},isc.A.$196n=function isc_WorkflowEditor__addProcessTasksToEditContext(_1,_2,_3){var _4=this.$196a,_5=_4.getChildren(_3),_6=[],_7,_8=[],_9,_10,_11=[];if(!_5)return null;for(var i=0;i<_5.length;i++){var _13=_5[i],_14=_13.element;if(_14){var _15=_13.$196e;if(_15&&_15!=_7){if(_7)_8.push({seqId:_7,sequenceNode:_9,previousNode:_10});_7=_15;var _16="ProcessSequence",_17={_constructor:_16};if(!_15.startsWith(this.unnamedSequencePrefix))_17.ID=_15;_9=this.$196p(_16,_17);_9=_1.addNode(_9,_2)}else if(!_15&&_7){var _18=_8.pop();_7=(_18?_18.seqId:null);_9=(_18?_18.sequenceNode:null);_10=(_18?_18.previousNode:null)}
if(_9){var _16=_14.getClassName(),_19=isc.addProperties({},_14);if(_14.getCustomDefaults){isc.addProperties(_19,_14.getCustomDefaults())}
if(_10){_1.removeNodeProperties(_10,["nextElement"])}
var _20=this.$196p(_16,_19);_20=_1.addNode(_20,_9);_10=_20}else{_11.add(_13);_10=null}}}
for(var i=0;i<_11.length;i++){var _13=_11[i],_14=_13.element;var _16=_14.getClassName(),_19=_14.getSerializeableFields();if(_14.getCustomDefaults){isc.addProperties(_19,_14.getCustomDefaults())}
_20=this.$196p(_16,_19)
_1.addNode(_20,_2)}
for(var i=0;i<_5.length;i++){var _13=_5[i],_14=_13.element;if(_14&&_13.isFolder||_13.$196c){this.$196n(_1,_2,_13)}}},isc.A.$196p=function isc_WorkflowEditor__createEditNode(_1,_2,_3){_2=isc.addProperties({_constructor:_1},_2);var _4={type:_1,defaults:_2};if(!_3)_4.liveObject=isc.ClassFactory.newInstance(_1,_2);return _4},isc.A.getProcessElementTypeForAction=function isc_WorkflowEditor_getProcessElementTypeForAction(_1){var _2=this.$1976;if(!_2){_2=this.$1976=isc.Tree.create({data:this.newElementTypes})}
var _3=_1.target,_4=_1.name,_5=window[_3],_6=(_5&&_5.getClassName?this.$1974[_5.getClassName()]:null),_7="Task";var _8=(_6!=null?_6+_4.substring(0,1).toUpperCase()+_4.substring(1)+_7:_4.substring(0,1).toUpperCase()+_4.substring(1)+_7);var _9=_2.find("elementType",_8);if(!_9&&_6){_8=_8.substring(_6.length);_9=_2.find("elementType",_8)}
if(!_9){_8=this.$1975[_8];if(_8){_9=_2.find("elementType",_8)}}
return(_9?_8:null)},isc.A.removeElementClick=function isc_WorkflowEditor_removeElementClick(_1){var _2=this.getProcessTreeNode(_1);if(!_2)return;if(this.onRemoveElementClick(_1)==false)return;var _3=this.warnOnRemoval;if(_3){isc.ask(this.warnOnRemovalMessage,this.getID()+".completeRemoveElementClick(value, "+_1+", "+_2+")")}else{this.completeRemoveElementClick(true,_1,_2)}},isc.A.onRemoveElementClick=function isc_WorkflowEditor_onRemoveElementClick(_1){return true},isc.A.completeRemoveElementClick=function isc_WorkflowEditor_completeRemoveElementClick(_1,_2,_3,_4){if(!_1)return;var _5=this.getPreviousNode(_3),_6=(_5?_5.element:null);if(_6&&(_6.nextElement||_2.nextElement)){_6.nextElement=_2.nextElement}
var _7=this.$196a;if(_7.remove(_3)){if(_2.ID&&!_4)this.dropElementReferences(_2.ID);this.process.removeElement(_2);this.rebuildWorkflow();this.drawWorkflow();this.handleChanged()}},isc.A.editElementClick=function isc_WorkflowEditor_editElementClick(_1){var _2=this.getProcessTreeNode(_1);if(!_2)return;var _3=this;_3.editElement(_1,null,function(_1,_5){if(!_1)return;_5=_3.createPlaceholderElements(_1)||_5;if(_5){_3.rebuildWorkflow();_3.drawWorkflow()}else{_3.updateProcessNodeFromElement(_2,_1);var _4=_3.getDrawnElement(_2);if(_4)_4.updateElementFromNode(_2)}
_3.handleChanged()})},isc.A.editElement=function isc_WorkflowEditor_editElement(_1,_2,_3){if(!_1.editorType){_3(_1);return}
var _4=this.editorWindow=this.createAutoChild("editorWindow",{closeClick:function(){this.destroy();_3()}});var _5=_1.getClassName(),_6=isc.addProperties({},_1),_7=_2;var _8,_9,_10,_11;if(!_2){_11=this.getPreviousElementNodes(_1)}
if(_2||(_11.length==1&&_11[0].element)){var _2=_2||_11[0];if(_11&&_2.element.getClassName().endsWith("Gateway")){_11=this.getPreviousElementNodes(_2.element);_2=null;if(_11.length==1&&_11[0].element){_2=_11[0]}}
if(_2&&_2.element&&_2.element.getOutputSchema){_8=_2.element.getClass();_9=_2.element.getOutputSchema();_10=_2.element.getClassName()}}
var _12;if(_7){_2=_7;while(_2&&_2.element.getClassName()=="XORGateway"){_11=this.getPreviousElementNodes(_2.element);if(!_11||_11.length==0){_2=null;break}
if(_11&&_11.length>1){_2=null;break}
_2=_11[0]}
if(_2&&_2.element.getClassName()=="ServiceTask"){var _13=_2.element.operationType||"fetch";if(_13=="fetch"){_12=_2.element.dataSource}}}
var _14=this.$196a.getAllNodes(),_15=[];for(var i=0;i<_14.length;i++){var e=_14[i].element;if(e!=_1)_15.add(e)}
var _18=this.$196p(_5,_6,true);var _19=isc.addProperties({locatorParent:this,editor:this,ruleScope:this.ruleScope,elementEditNode:_18,lastTaskClass:_8,lastTaskOutputSchema:_9,lastTaskOutputDescription:_10,lastTaskFetchDataSource:_12,allElements:_15,dataSources:this.dataSources,availableComponents:this.availableComponents,targetComponents:this.getTargetComponents(_5),canEditTaskId:this.canEditTaskIds,saveElementEditNode:function(_18){_4.destroy();if(_18)isc.addProperties(_1,_18.defaults);_3(_18?_1:null,this.invalidateEditor)}},this.getTaskEditorProperties(_5));var _20=isc.ClassFactory.newInstance(_1.editorType,_19);_4.addItems([_20]);var _21=this.getTaskTitle(_5)||_20.getEditorTitle();_4.setTitle(_21);_4.show()},isc.A.addElementClick=function isc_WorkflowEditor_addElementClick(_1,_2,_3,_4,_5){var _6=this,_7=this.getProcessTreeNode(_1),_8=isc.ClassFactory.newInstance(_2,_3);_6.editElement(_8,_4,function(_8,_10){if(!_8){if(_5)_5();return}
if(_1&&_1.editorPlaceholder)_8.ID=_1.ID;var _9=_6.createNode(_8);_6.updateProcessNodeFromElement(_9,_8);if(_1&&_1.editorPlaceholder){_6.addElement(_9,_7);_6.completeRemoveElementClick(true,_1,_7,true)}else{_6.addElement(_9,_4)}
var _10=_6.createPlaceholderElements(_8)||_10;if(_5)_5(_9,_10);_6.handleChanged()})},isc.A.createPlaceholderElements=function isc_WorkflowEditor_createPlaceholderElements(_1){var _2;if(_1.getPlaceholders){var _3=_1.getPlaceholders();if(_3){for(var i=0;i<_3.length;i++){var _5=this.getNextPlaceholderId(),_6=this.gatewayPlaceholderTaskType,_7={ID:_5},_8=isc.ClassFactory.newInstance(_6,_7),_9=this.createNode(_8);this.addElement(_9);_1.setPlaceholderId(_3[i],_5);_2=true}}}
return _2},isc.A.getNextPlaceholderId=function isc_WorkflowEditor_getNextPlaceholderId(){var _1=isc.WorkflowEditor.nextPlaceholderId||0;var _2=this.$196a.getAllNodes();var _3=false;var _4;do{_4="placeHolder"+_1;for(var i=0;i<_2.length;i++){var e=_2[i].element;if(!e||e.ID!=_4)continue;_3=true;_1++;break}}while(_3);isc.WorkflowEditor.nextPlaceholderId=_1+1;return _4},isc.A.addElement=function isc_WorkflowEditor_addElement(_1,_2){var _3=this.$196a,_4=_1.element;if(_2){if(!_2.isFolder&&(_2.$196e||!_2.elementID)){if(!_2.$196e){_2.$196e=this.unnamedSequencePrefix+this.nextSeqId++}
_1.$196e=_2.$196e}else{if(!_1.element.ID){_1.elementID=_4.ID=isc.ClassFactory.getNextGlobalID(_4)}
var _5=_2.element.nextElement;if(_5){if(_4.$1957!=false){_4.nextElement=_5}else{_4.defaultElement=_5}}
_2.element.nextElement=_4.ID}
var _6=_3.getParent(_2),_7=_3.getChildren(_6),_8=_7.indexOf(_2);_3.add(_1,_6,_8+1);this.process.addElement(_4,_2.element);var _9=this.getDrawnElement(_2);if(_9){var _10=_9.parentElement,_11=_10.getMemberNumber(_9),_12=this.createElement(_1);;_10.addMember(_12,_11+1);_10.reflowNow();this.drawNextElementLink(_12);this.handleChanged()}}else{var _6=_3.getRoot();_3.add(_1,_6);this.process.addElement(_4);var _10=this.getFirstDrawnRow(),_12=this.createElement(_1);;_10.addMember(_12,0);_10.reflowNow();this.drawNextElementLink(_12);this.handleChanged()}},isc.A.isAvailableElement=function isc_WorkflowEditor_isAvailableElement(_1){if(!_1.elementType)return true;var _2=isc.ClassFactory.getClass(_1.elementType);if(!_2){this.logError("newElementType with invalid elementType: "+_1.elementType+" - class not found");return false}
if(_2&&!_2.isA("ComponentTask"))return true;var _3=false;var _4=this.availableComponents||[];if(isc.isA.Tree(_4))_4=this.availableComponents.getAllNodes();for(var i=0;i<_4.length;i++){var _6=_4[i],_7=window[_6.ID];if(_7&&_2.isApplicableComponent(_7)){_3=true;break}}
return _3},isc.A.getTargetComponents=function isc_WorkflowEditor_getTargetComponents(_1){if(!_1)return null;var _2=isc.ClassFactory.getClass(_1);if(!_2){this.logError("newElementType with invalid elementType: "+_1+" - class not found");return null}
var _3=this.availableComponents||[],_4=_3;if(_2&&_2.isA("ComponentTask")){if(isc.isA.Tree(_3)){_4=this.filterComponentsTree(_3,_2);_4.openAll()}else{_4=[];for(var i=0;i<_3.length;i++){var _6=_3[i];if(this.isApplicableComponent(_6,_2)){_4.add(_6)}}}}
return _4},isc.A.isApplicableComponent=function isc_WorkflowEditor_isApplicableComponent(_1,_2,_3){var _4=_1.ID,_5=window[_4];if(_5){if(_2){return(_2.isApplicableComponent(_5))}
var _6=_5.getClass();for(var i=0;i<_3.length;i++){if(_6.isA(_3[i])){return true}}}
return false},isc.A.filterComponentsTree=function isc_WorkflowEditor_filterComponentsTree(_1,_2,_3){var _4=_1.duplicate(),_5=_1.getRoot(),_6=_4.getRoot();return this.$197r(_1,_5,_4,_6,_2,_3)},isc.A.$197r=function isc_WorkflowEditor__filterComponentsTree(_1,_2,_3,_4,_5,_6){var _7=_1.getChildren(_2);if(!_7){_2.isFolder=false;return}
for(var i=0;i<_7.length;i++){var _9=_7[i],_10=_1.getCleanNodeData(_9);delete _10.children;_10.enabled=(_9.canSelect!=false&&this.isApplicableComponent(_9,_5,_6));_3.add(_10,_4);this.$197r(_1,_9,_3,_10,_5,_6)}
return _3},isc.A.getFirstDrawnRow=function isc_WorkflowEditor_getFirstDrawnRow(){var _1=this.container;var _2=_1.getMembers();for(var s=0;s<_2.length;s++){var _4=_2[s];var _5=_4.getMembers();if(_5.length>0){return _5[0]}}
return null},isc.A.getDrawnElement=function isc_WorkflowEditor_getDrawnElement(_1){var _2=this.container,_3=_2.getMembers();for(var s=0;s<_3.length;s++){var _5=_3[s];var _6=_5.getMembers();for(var i=0;i<_6.length;i++){var _8=_6[i],_9=_8.getMembers();for(var j=0;j<_9.length;j++){var _11=_9[j];if(_11.$1959||isc.isA.LayoutSpacer(_11))continue;if(_11.$1958==_1){return _11}}}}},isc.A.getProcessTreeNode=function isc_WorkflowEditor_getProcessTreeNode(_1){var _2=this.$196a,_3=_2.getRoot();return this.$197w(_2,_3,_1)},isc.A.$197w=function isc_WorkflowEditor__getProcessTreeNode(_1,_2,_3){var _4=_1.getChildren(_2);if(!_4||_4.length==0)return null;for(var i=0;i<_4.length;i++){var _6=_4[i];if(_6.element==_3)return _6;_6=this.$197w(_1,_6,_3);if(_6)return _6}
return null},isc.A.getPreviousNode=function isc_WorkflowEditor_getPreviousNode(_1){var _2=this.$196a,_3=_2.getParent(_1);return this.$197x(_2,_3,_1)},isc.A.$197x=function isc_WorkflowEditor__getPreviousNode(_1,_2,_3){var _4=_1.getChildren(_2);if(!_4||_4.length==0)return null;for(var i=0;i<_4.length;i++){if(_4[i]==_3)return(i>0?_4[i-1]:null)}
for(var i=0;i<_4.length;i++){var _6=this.$197x(_1,_4[i],_3);if(_6)return _6}
return null},isc.A.dropElementReferences=function isc_WorkflowEditor_dropElementReferences(_1){var _2=this.$196a,_3=_2.getRoot();this.$197y(_2,_3,_1)},isc.A.$197y=function isc_WorkflowEditor__dropElementReferences(_1,_2,_3){var _4=_1.getChildren(_2);if(!_4||_4.length==0)return null;for(var i=0;i<_4.length;i++){var _6=_4[i].element;if(_6.dropElementReferences){_6.dropElementReferences(_3)}else{if(_6.nextElement==_3)_6.nextElement=null;if(_6.failureElement==_3)_6.failureElement=null;if(_6.cancelElement==_3)_6.cancelElement=null}}},isc.A.buildProcessTree=function isc_WorkflowEditor_buildProcessTree(){if(!this.process)return null;this.nextNodeId=null;var _1=this.process,_2={},_3=[],_4={};var _5={editor:this,process:_1,parentNode:_2,elementNodes:_3,idsSeen:_4};if(_1.executionStack==null){_1.executionStack=[]}
var _6=_1.traceElement,_7=_1.traceContext;_1.traceElement=this.processTraceElement;_1.traceContext=_5;this.traceProcess();this.addSubElements(_5);if(this.markUnreferencedTasks){_5.parentNode=_2;var _8=_1.getAllElements();for(var i=0;i<_8.length;i++){var _10=_8[i];if(_10.ID!=null&&!_4[_10.ID]){_5.elementNodes=[];this.traceProcess(_10.ID,_5);this.addSubElements(_5);if(_5.elementNodes.length>0){_5.elementNodes[0].orphan=true}
_3.addList(_5.elementNodes)}}}
this.nextSeqId=_5.nextSeqId||0;_1.traceElement=_6;_1.traceContext=_7;_1.reset();return _2},isc.A.addSubElements=function isc_WorkflowEditor_addSubElements(_1){var _2=_1.process,_3=_1.parentNode,_4=_1.elementNodes,_5=_1.idsSeen;if(!_4)return;do{var _6=_4.length;var _7=_4.findAll("isFolder",true)||[];for(var i=0;i<_7.length;i++){var _9=_7[i];if(!_9.isFolder||_9.$196d||_9.children)continue;var _10=_9.element;if(!_10)continue;if(isc.isAn.DecisionGateway(_10)){var _11=[];if(_10.decisionList){var _12=_10.decisionList;for(var i=0;i<_12.length;i++){var _13=_12[i],_14=_13.targetTask;var _15=_2.getElement(_14);if(_15){var _16=_13.criteria,_17=this.addElementToProcessNode(null,_9);_17.$196c=true;_17.$196f=this.getCriteriaDescription(_16);_4.add(_17);if(_5[_14]){_17.$196d=_15.ID}else{var _18=this.addElementToProcessNode(_15,_17);_4.add(_18);_5[_14]=true;_11.add({criteriaNode:_17,divergentNode:_18})}}}}
if(_10.defaultElement){var _15=_2.getElement(_10.defaultElement);if(_15){var _17=this.addElementToProcessNode(null,_9);_17.$196c=true;_17.$196f="default";_17.failure=true;_4.add(_17);if(_5[_10.defaultElement]){_17.$196d=_15.ID}else{var _18=this.addElementToProcessNode(_15,_17);_4.add(_18);_5[_10.defaultElement]=true;_11.add({criteriaNode:_17,divergentNode:_18})}}}
for(var j=0;j<_11.length;j++){var _20=_11[j],_17=_20.criteriaNode,_18=_20.divergentNode,_15=_18.element;_17.children=[];_4.remove(_18);delete _5[_15.ID];_1.parentNode=_17;this.traceProcess(_15.ID,_1)}}else{var _21=(_10.failureElement?_10.failureElement:_10.cancelElement);var _15=_2.getElement(_21);if(_15){if(_5[_15.ID]){_9.$196d=_15.ID}else{_1.parentNode=_9;this.traceProcess(_15.ID,_1)}}}}}while(_4.length>_6)},isc.A.traceProcess=function isc_WorkflowEditor_traceProcess(_1,_2){var _3=this.process;if(_1){_3.setNextElement(_1)}
while(_3.$39n(true)){var _4=_3.$87h();if(_2&&_2.$196q){delete _2.$196q;break}
if(isc.isA.DecisionGateway(_4)){break}}
if(_2)delete _2.currentSequence},isc.A.processTraceElement=function isc_WorkflowEditor_processTraceElement(_1,_2){if(!_1)return;if(!_2.idsSeen)_2.idsSeen={};if(_2.$196q||(_1.ID&&_2.idsSeen[_1.ID])){_2.$196q=true;return}
if(!_2.parentNode)_2.parentNode={};if(!_2.elementNodes)_2.elementNodes=[];if(isc.isA.ProcessSequence(_1)){if(_2.nextSeqId==null)_2.nextSeqId=0;if(_2.sequenceStack==null)_2.sequenceStack=[];var _3=_1.ID||_2.editor.unnamedSequencePrefix+_2.nextSeqId++;if(_2.currentSequence)_2.sequenceStack.push(_3);_2.currentSequence=_3;if(_1.ID){_2.idsSeen[_1.ID]=true}
return}
var _4=_2.editor.addElementToProcessNode(_1,_2.parentNode),_5=(_2.elementNodes.length>0?_2.elementNodes[_2.elementNodes.length-1]:null);if(_2.currentSequence){_4.$196e=_2.currentSequence}
_2.elementNodes.add(_4);if(_2.currentSequence&&_1.nextElement){_2.currentSequence=_2.sequenceStack.pop()}
if(isc.isA.DecisionGateway(_1)||isc.isAn.XORGateway(_1)||isc.isAn.UserConfirmationGateway(_1)||_1.failureElement||_1.cancelElement)
{_4.isFolder=true}
if(_1.ID){_2.idsSeen[_1.ID]=true}},isc.A.getCriteriaDescription=function isc_WorkflowEditor_getCriteriaDescription(_1){var _2=isc.XORGateway.$87n(_1);var _3=isc.DataSource.create({addGlobalId:false,fields:_2});return isc.DataSource.getAdvancedCriteriaDescription(_1,_3)},isc.A.updateProcessNodeFromElement=function isc_WorkflowEditor_updateProcessNodeFromElement(_1,_2){var _3=(_2?_2.ID:null);if(_1.elementID!=_3){_1.elementID=_3}
if(_2&&_2.getElementDescription){_1.title=_2.getElementDescription()}else{_1.title=_3}
if(_2&&_2.description&&_2.description!=_1.title){_1.prompt=_2.description}},isc.A.createNode=function isc_WorkflowEditor_createNode(_1){if(this.nextNodeId==null)this.nextNodeId=0;var _2={id:this.nextNodeId++,element:_1};if(_1&&(isc.isA.DecisionGateway(_1)||isc.isAn.XORGateway(_1)||isc.isAn.UserConfirmationGateway(_1)||_1.failureElement||_1.cancelElement))
{_2.isFolder=true}
return _2},isc.A.addElementToProcessNode=function isc_WorkflowEditor_addElementToProcessNode(_1,_2){var _3=this.createNode(_1);this.updateProcessNodeFromElement(_3,_1);if(!_2.children)_2.children=[];_2.children.add(_3);return _3},isc.A.getPreviousElementNodes=function isc_WorkflowEditor_getPreviousElementNodes(_1){var _2=this.$196a,_3=_2.getRoot();return this.$196v(_1,_2,_3)},isc.A.$196v=function isc_WorkflowEditor__getPreviousElementNodes(_1,_2,_3){var _4=_2.getChildren(_3),_5=[];for(var i=0;i<_4.length;i++){var _7=_4[i];if(_7.element&&_7.element==_1&&i==0){if(_3!=_2.getRoot()){_5.add(_3)}}else if(_7.element&&_7.element==_1&&i>0){if(!_1.ID||!_4[i-1].element||_4[i-1].element.nextElement!=_1.ID){_5.add(_4[i-1])}}else if(_1.ID&&_7.element&&(_7.element.nextElement==_1.ID||_7.$196d==_1.ID))
{_5.add(_7)}
if(_7.children&&_7.children.length>0){_5.addList(this.$196v(_1,_2,_7))}}
return _5},isc.A.getElementByID=function isc_WorkflowEditor_getElementByID(_1){var _2=this.container,_3=_2.getMembers();if(isc.isA.String(_1))_1=Number.parseInt(_1);for(var s=0;s<_3.length;s++){var _5=_3[s];var _6=_5.getMembers();for(var i=0;i<_6.length;i++){var _8=_6[i],_9=_8.getMembers();for(var j=0;j<_9.length;j++){var _11=_9[j];if(_11.$1959||isc.isA.LayoutSpacer(_11))continue;if(_11.$1958&&_11.$1958.id==_1){return _11}}}}},isc.A.getAddElement=function isc_WorkflowEditor_getAddElement(_1,_2){var _3=this.container,_4=_3.getMembers();if(isc.isA.String(_1))_1=Number.parseInt(_1);if(isc.isA.String(_2))_2=Number.parseInt(_2);for(var s=0;s<_4.length;s++){var _6=_4[s];if(_6.segmentId==_1){var _7=_6.getMembers();for(var i=0;i<_7.length;i++){var _9=_7[i];if(_9.rowId==_2){var _10=_9.getMembers();for(var j=0;j<_10.length;j++){var _12=_10[j];if(_12.$1959)return _12}}}}}});isc.B._maxIndex=isc.C+75;isc.WorkflowEditor.registerStringMethods({changed:null});isc.defineClass("WorkflowEditorElement","VLayout");isc.A=isc.WorkflowEditorElement.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.align="center";isc.A.styleName="processElement";isc.A.canEdit=true;isc.A.editIcon="[SKIN]/actions/edit.png";isc.A.editIconSize=16;isc.A.editIconPrompt="Edit Task";isc.A.canRemove=true;isc.A.removeIcon="[SKIN]/actions/remove.png";isc.A.removeIconSize=16;isc.A.removeIconPrompt="Delete Task";isc.A.headerDefaults={_constructor:"HLayout",styleName:"processElementHeader",height:26,width:"100%",layoutMargin:2,membersMargin:5};isc.A.headerIconDefaults={_constructor:"Img",width:18,height:18,imageType:"normal",layoutAlign:"center",padding:2};isc.A.headerTitleDefaults={_constructor:"Label",styleName:"processElementHeaderLabel",height:20,width:"*",overflow:"hidden",layoutAlign:"center",wrap:false};isc.B.push(isc.A.init=function isc_WorkflowEditorElement_init(){this.Super("init",arguments);if(this.elementType){var _1=this.addAutoChild("header");if(this.icon){_1.addMember(this.createAutoChild("headerIcon",{src:this.icon}))}
var _2=this.createAutoChild("headerTitle",{contents:this.taskTitle||this.elementType});_1.addMember(_2);if(this.canEdit){this.editButton=isc.ImgButton.create({width:this.editIconSize,height:this.editIconSize,layoutAlign:"center",src:this.editIcon,prompt:this.editIconPrompt,hoverWrap:false,hoverAutoFitWidth:false,hoverStyle:this.hoverStyle,showDown:false,showRollOver:false,showFocused:false,click:function(){var _3=this.parentElement.parentElement.parentElement,_4=_3.$1958,_5=_3.creator;_5.editElementClick(_4.element)}})}
if(this.canRemove){this.removeButton=isc.ImgButton.create({width:this.removeIconSize,height:this.removeIconSize,layoutAlign:"center",src:this.removeIcon,prompt:this.removeIconPrompt,hoverWrap:false,hoverAutoFitWidth:false,hoverStyle:this.hoverStyle,showDown:false,showRollOver:false,showFocused:false,click:function(){var _3=this.parentElement.parentElement.parentElement,_4=_3.$1958,_5=_3.creator;_5.removeElementClick(_4.element)}})}
if(this.canEdit||this.canRemove){this.iconLayout=isc.HLayout.create({height:Math.max(this.editIconSize,this.removeIconSize),width:(this.canEdit?this.editIconSize:0)+5+(this.canRemove?this.removeIconSize:0),layoutAlign:"center",visibility:"hidden",membersMargin:5});if(this.canEdit)this.iconLayout.addMember(this.editButton);if(this.canRemove)this.iconLayout.addMember(this.removeButton);this.header.addMember(this.iconLayout)}}
var _6={maxWidth:this.getInnerWidth()-10,overflow:"hidden",align:"center",contents:this.title,hoverWrap:false,hoverAutoFitWidth:false,hoverStyle:this.hoverStyle,prompt:this.prompt};if(!this.elementType)_6.height=25;this.addMember(isc.Label.create(_6));if(!this.elementType&&this.createCanvas){this.canvas=this.createCanvas();this.addMember(this.canvas)}},isc.A.getCanvas=function isc_WorkflowEditorElement_getCanvas(){return this.canvas},isc.A.setContents=function isc_WorkflowEditorElement_setContents(_1){this.getMember(0).setContents(_1)},isc.A.mouseOver=function isc_WorkflowEditorElement_mouseOver(){if(this.iconLayout)this.iconLayout.show()},isc.A.mouseOut=function isc_WorkflowEditorElement_mouseOut(){if(this.iconLayout)this.iconLayout.hide()});isc.B._maxIndex=isc.C+5;isc.defineClass("ProcessElementEditor","VLayout");isc.A=isc.ProcessElementEditor.getPrototype();isc.A.contributeToRuleContext=false;isc.A.width=300;isc.A.height=150;isc.A.minWidth=300;isc.A.minHeight=150;isc.A.padding=5;isc.A.membersMargin=10;isc.A.RULESCOPE_NODE_ID="1";isc.A.LASTTASK_NODE_ID="2";isc.A.taskScopeRuleScopeNodeTitle="Rule Scope";isc.A.taskScopeLastTaskOutputNodeTitle="Last task output: ${description}";isc.A.idEditorDefaults={_constructor:isc.DynamicForm,wrapItemTitles:false,autoFocus:true,fields:[{name:"ID",type:"text",title:"ID"}],itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.descriptionEditorDefaults={_constructor:isc.DynamicForm,wrapItemTitles:false,fields:[{name:"description",type:"ProcessElementDescriptionItem",title:"Task Description",width:"*"}],itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}},updateAutoDescription:function(){this.getField("description").updateAutoDescription()}};isc.A.okButtonDefaults={_constructor:"IButton",autoParent:"editButtons",title:"OK",click:function(){this.parentElement.creator.saveEdits()}};isc.A.cancelButtonDefaults={_constructor:"IButton",autoParent:"editButtons",title:"Cancel",click:function(){this.parentElement.creator.cancelEditing()}};isc.A.editButtonsDefaults={_constructor:"HLayout",height:30,align:"right",membersMargin:5};isc.A=isc.ProcessElementEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.editedFields=["ID","description"];isc.B.push(isc.A.initWidget=function isc_ProcessElementEditor_initWidget(){this.Super("initWidget",arguments);if(!this.elementEditNode&&this.processElementType){this.elementEditNode={type:this.processElementType,defaults:{}}}
this.elementEditNodeDefaults=(this.elementEditNode&&this.elementEditNode.defaults?this.elementEditNode.defaults:{});if(this.ruleScope){var _1=this.ruleScope;this.$167n=(isc.isA.String(_1)?window[_1]:this.ruleScope)}},isc.A.destroy=function isc_ProcessElementEditor_destroy(){if(this.$171s&&this.$172r){var _1=this.$196x||this.$171s;for(var i=0;i<_1.length;i++){var _3=_1[i];if(_3.$197d){_3.destroy()}}}
this.Super("destroy",arguments)},isc.A.getEditorTitle=function isc_ProcessElementEditor_getEditorTitle(){return this.editorTitle},isc.A.setElementEditNode=function isc_ProcessElementEditor_setElementEditNode(_1){this.elementEditNode=_1},isc.A.saveEdits=function isc_ProcessElementEditor_saveEdits(){if(this.validate()){var _1=this.getEditedElementEditNode();this.completeEditing(_1)}},isc.A.cancelEditing=function isc_ProcessElementEditor_cancelEditing(){this.completeEditing(null)},isc.A.valuesChanged=function isc_ProcessElementEditor_valuesChanged(){},isc.A.validate=function isc_ProcessElementEditor_validate(){return true},isc.A.getEditedElementEditNode=function isc_ProcessElementEditor_getEditedElementEditNode(){var _1=this.getEditedElementDefaults();return isc.addProperties({},this.elementEditNode,{defaults:_1})},isc.A.getEditedElementDefaults=function isc_ProcessElementEditor_getEditedElementDefaults(){var _1=this.elementEditNodeDefaults,_2=this.getIdEditorValue(),_3=this.getDescriptionEditorValue(),_4={},_5;for(var _6 in _1){if(!this.editedFields.contains(_6)){_4[_6]=_1[_6]}}
if(_2!=_5)_4.ID=_2;if(_3!=_5)_4.description=_3;return _4},isc.A.completeEditing=function isc_ProcessElementEditor_completeEditing(_1){if(this.saveElementEditNode)this.fireCallback(this.saveElementEditNode,["editNode"],[_1])},isc.A.addIdEditor=function isc_ProcessElementEditor_addIdEditor(){this.addAutoChild("idEditor",{visibility:(this.canEditTaskId?"inherit":"hidden")})},isc.A.getIdEditorValue=function isc_ProcessElementEditor_getIdEditorValue(){return this.idEditor.getValue("ID")},isc.A.addDescriptionEditor=function isc_ProcessElementEditor_addDescriptionEditor(){this.addAutoChild("descriptionEditor",{elementEditor:this});this.observe(this,"valuesChanged",function(){this.descriptionEditor.updateAutoDescription()})},isc.A.getDescriptionEditorValue=function isc_ProcessElementEditor_getDescriptionEditorValue(){return this.descriptionEditor.getValue("description")},isc.A.addEditButtons=function isc_ProcessElementEditor_addEditButtons(){this.addAutoChild("editButtons");this.addAutoChild("cancelButton");this.addAutoChild("okButton")},isc.A.getRuleScopeDataSources=function isc_ProcessElementEditor_getRuleScopeDataSources(){if(!this.$171s){this.$171s=this.getCriteriaScopeData(this.$167n);this.$172r=true}
return this.$171s},isc.A.getCriteriaDataSources=function isc_ProcessElementEditor_getCriteriaDataSources(){if(!this.$196x){this.$196x=this.getRuleScopeDataSources();var _1=this.$196y();if(_1){this.$196x=this.$196x.duplicate();var _2=this.$196x.length;if(isc.isA.ServiceTask(this.lastTaskClass))_2=0;this.$196x.addAt(_1,_2)}}
return this.$196x},isc.A.getTargetableElementsValueMap=function isc_ProcessElementEditor_getTargetableElementsValueMap(_1){var _2=this.allElements,_3={};if(_1){_3[isc.Process.gatewayPlaceholderSelection]="[Placeholder]"}
if(_2){var _4=_2.duplicate().sortByProperty("ID",true);for(var i=0;i<_4.length;i++){var e=_4[i];if(e&&e.ID)_3[e.ID]=e.ID+" - "+e.getElementDescription()}}
return _3},isc.A.getScopeTreeData=function isc_ProcessElementEditor_getScopeTreeData(){var _1=[];var _2=this.$196z(this.$167n.getRuleContext(),this.RULESCOPE_NODE_ID);if(_2&&_2.length>0){_1[_1.length]={id:this.RULESCOPE_NODE_ID,title:this.taskScopeRuleScopeNodeTitle,canDrag:false};_1.addList(_2)}
if(this.lastTaskOutputSchema){var _3=this.lastTaskOutputDescription,_4=this.taskScopeLastTaskOutputNodeTitle.evalDynamicString(this,{description:_3});_1[_1.length]={id:this.LASTTASK_NODE_ID,title:_4};_1.addList(this.$1960(this.LASTTASK_NODE_ID))}
return isc.Tree.create({modelType:"parent",data:_1})},isc.A.$196z=function isc_ProcessElementEditor__getRuleScopeTreeData(_1,_2){var _3=this.getRuleScopeDataSources(),_4=this.$167n,_5=isc.Canvas.getRuleScopeDataSourceOwners(_4),_6=[],_7=0;for(var i=0;i<_3.length;i++){var _9=_3[i];if(isc.isA.String(_9))_9=isc.DataSource.get(_9);if(_9==null){this.logWarn("$196z() - unable to locate dataSource:"+_9);continue}
var _10=_9.getID(),_11=_9.getFieldNames(),_12=_2+"_"+_7++,_13=_12;var _14=_6;var _15=(_9.criteriaBasePath?"":"<i>"),_16=(_9.criteriaBasePath?"":"</i>"),_17=_9.pluralTitle||_9.title||_10,_18=_15+_17+_16+" Fields",_19=_5[_9.ID],_20=(_19?isc.Canvas.getRuleScopeSourceFromComponent(_19):null);if(_19&&_20)_18+=" ("+_20+" in <i>"+_19.getID()+"</i>)";var _21={id:_12,parentId:_2,name:_10,title:_18,type:"text",enabled:true};var _22=[];for(var j=0;j<_11.length;j++){var _24=_10+"."+_11[j],_25=_9.fields[_11[j]],_26=_25.title;_12=_13+"_"+_7++;var _27={id:_12,parentId:_13,name:_24,title:_26,type:_25.type};if(_9.criteriaBasePath){_27.criteriaPath=_25.criteriaPath||_24.replace(_10,_9.criteriaBasePath)}
if(_1){_27.value=isc.DataSource.getPathValue(_1,_24)}
_22[_22.length]=_27}
if(_22.length>0){_14[_14.length]=_21;_14.addList(_22)}}
return _6},isc.A.getCriteriaScopeData=function isc_ProcessElementEditor_getCriteriaScopeData(_1){var _2=isc.Canvas.getAllRuleScopeDataSources(_1);return _2},isc.A.$1960=function isc_ProcessElementEditor__getLastTaskSchemaData(_1){var _2=this.lastTaskOutputSchema;if(isc.isA.String(_2))_2=isc.DataSource.get(_2);var _3=_2.getFieldNames(),_4=0,_5=[];for(var j=0;j<_3.length;j++){var _7=_3[j],_8=_2.fields[_7],_9=_8.title,_10=_1+"_"+_4++;var _11={id:_10,parentId:_1,name:_7,title:_9,type:_8.type};_5[_5.length]=_11}
return _5},isc.A.$196y=function isc_ProcessElementEditor__makeLastTaskOutputDataSource(){if(!this.lastTaskOutputSchema)return null;var _1=this.lastTaskOutputDescription,_2=this.taskScopeLastTaskOutputNodeTitle.evalDynamicString(this,{description:_1}),_3="$1961";var _4={addGlobalId:false,$197d:true,ID:_3,clientOnly:true,criteriaBasePath:"$last",title:_2,pluralTitle:_2};var _5=this.$1960(this.LASTTASK_NODE_ID),_6=[];for(var i=0;i<_5.length;i++){var _8=_5[i];var _9={name:_8.name,type:_8.type};_6.push(_9)}
_4.fields=_6;return isc.DS.create(_4)},isc.A.$1964=function isc_ProcessElementEditor__encodeAdvancedCriteriaExpressions(_1){var _2=_1.operator;if(_2=="and"||_2=="or"||_2=="not"){var _3=_1.criteria;if(!isc.isAn.Array(_3))_3=[_3];for(var i=0;i<_3.length;i++){this.$1964(_3[i])}}if(_1.value!=null){this.$1966(_1)}
return _1},isc.A.$1966=function isc_ProcessElementEditor__encodeDynamicExpression(_1){var _2=_1.value;if(isc.isA.String(_2)&&(_2.startsWith("$inputRecord")||_2.startsWith("$input")||_2.startsWith("$last")||_2.startsWith("$ruleScope")||_2.startsWith("$scope")))
{_1.valuePath=_2.replace("$ruleScope","").replace("$scope","");delete _1.value}},isc.A.$1965=function isc_ProcessElementEditor__decodeAdvancedCriteriaExpressions(_1){if(!_1)return null;var _2=_1.operator;if(_2=="and"||_2=="or"||_2=="not"){var _3=_1.criteria;if(!isc.isAn.Array(_3))_3=[_3];for(var i=0;i<_3.length;i++){this.$1965(_3[i])}}if(_1.valuePath!=null){this.$1967(_1)}
return _1},isc.A.$1967=function isc_ProcessElementEditor__decodeDynamicExpression(_1){var _2=_1.valuePath;if(_2){if(!_2.startsWith("$")){_1.value="$ruleScope."+_2}else{_1.value=_2}
delete _1.valuePath}
return _1});isc.B._maxIndex=isc.C+28;isc.ProcessElementEditor.registerStringMethods({saveElementEditNode:"editNode"});isc.defineClass("UserTaskEditor","ProcessElementEditor");isc.A=isc.UserTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="UserTask";isc.A.editorTitle="User Task";isc.A.topEditorDefaults={_constructor:"DynamicForm",wrapItemTitles:false};isc.A.editedFields=["ID","description","wizard","saveToServer"];isc.B.push(isc.A.initWidget=function isc_UserTaskEditor_initWidget(){this.Super("initWidget",arguments);var _1=[{name:"wizard",type:"boolean",title:"Wizard"},{name:"saveToServer",type:"boolean",title:"Save to server",defaultValue:false}];this.addIdEditor();this.addAutoChild("topEditor",{fields:_1});this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.setEditorValues=function isc_UserTaskEditor_setEditorValues(){var _1=this.elementEditNodeDefaults;this.idEditor.setValues(_1);this.topEditor.setValues(_1);this.descriptionEditor.setValues(_1)},isc.A.validate=function isc_UserTaskEditor_validate(){var _1=this.idEditor.validate()&&this.topEditor.validate()&&this.descriptionEditor.validate();return _1});isc.B._maxIndex=isc.C+3;isc.defineClass("StateTaskEditor","ProcessElementEditor");isc.A=isc.StateTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width=300;isc.A.height=200;isc.A.minWidth=300;isc.A.minHeight=200;isc.A.processElementType="StateTask";isc.A.editorTitle="State Task";isc.A.topEditorDefaults={_constructor:"DynamicForm",wrapItemTitles:false};isc.A.editedFields=["ID","description","inputField","outputField","type","value"];isc.B.push(isc.A.initWidget=function isc_StateTaskEditor_initWidget(){this.Super("initWidget",arguments);var _1=[{name:"inputField",type:"text",title:"Input field"},{name:"outputField",type:"text",title:"Output field"},{name:"type",type:"select",title:"Type",allowEmptyValue:true,valueMap:["string","boolean","decimal","integer","record","array"]},{name:"value",type:"text",title:"Value"}];this.addIdEditor();this.addAutoChild("topEditor",{fields:_1});this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.setEditorValues=function isc_StateTaskEditor_setEditorValues(){var _1=this.elementEditNodeDefaults;this.idEditor.setValues(_1);this.topEditor.setValues(_1);this.descriptionEditor.setValues(_1)},isc.A.validate=function isc_StateTaskEditor_validate(){var _1=this.idEditor.validate()&&this.topEditor.validate()&&this.descriptionEditor.validate();return _1},isc.A.getEditedElementEditNode=function isc_StateTaskEditor_getEditedElementEditNode(){var _1=this.elementEditNodeDefaults,_2=this.topEditor.getValues(),_3=this.getEditedElementDefaults();for(var _4 in _1){if(!this.editedFields.contains(_4)){_3[_4]=_1[_4]}}
_3.inputField=_2.inputField;_3.outputField=_2.outputField;_3.type=_2.type;_3.value=_2.value;return isc.addProperties({},this.elementEditNode,{defaults:_3})});isc.B._maxIndex=isc.C+4;isc.defineClass("ServiceTaskEditor","ProcessElementEditor");isc.A=isc.ServiceTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width=600;isc.A.height=400;isc.A.minWidth=600;isc.A.minHeight=400;isc.A.processElementType="ServiceTask";isc.A.invalidateEditor=true;isc.A.editorTitle="DataSource Task";isc.A.editorTitleFixedOperationType="DataSource ${operationType} Task";isc.A.addInstructions="Drag available fields from the tree on the left to the grid on the right to specify what data should be stored. Or click the pencil icon to enter a fixed value.";isc.A.removeInstructions="Select a source for the unique ID of the record to be deleted.";isc.A.fetchInstructions="Define criteria for the DataSource fetch.";isc.A.exportInstructions="Define criteria for the DataSource export.";isc.A.overwriteBindingsMessage="Overwrite all existing bindings? Otherwise, new bindings will be merged.";isc.A.missingPrimaryKeyMessage="The field ${fieldName} must have a binding because it is used to determine which record to udpate.";isc.A.missingIdSourceMessage="An ID source must be selected to identify the record to remove.";isc.A.fixedValueWindowTitle="Fixed value for field '${fieldName}'";isc.A.bindingValuePrompt="Click the pencil icon to enter a fixed value";isc.A.hiddenErrorsDefaults={_constructor:isc.HTMLFlow,width:"100%",padding:5,isGroup:true,groupTitle:"Hidden errors",visibility:"hidden"};isc.A.dataSourcePickerDefaults={name:"dataSource",type:"ComboBoxItem",title:"DataSource",required:true,addUnknownValues:false};isc.A.operationTypePickerDefaults={name:"operationType",type:"RadioGroupItem",title:"Operation Type",defaultValue:"fetch",vertical:false,valueMap:{"fetch":"Fetch","add":"Add","update":"Update","remove":"Remove","export":"Export"},required:true};isc.A.topEditorDefaults={_constructor:"DynamicForm",wrapItemTitles:false,autoFocus:true,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.bindingContainerDefaults={_constructor:"BindingContainer",height:"*"};isc.A.bindingValuesAddPaneDefaults={_constructor:"BindingValuesPane",valuesChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.bindingValuesUpdatePaneDefaults={_constructor:"BindingValuesPane",includeSequencePK:true,valuesChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.bindingCriteriaPaneDefaults={_constructor:"BindingCriteriaPane",valuesChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.exportPaneDefaults={_constructor:isc.VLayout,autoParent:"bindingLayout"};isc.A.exportCriteriaDefaults={_constructor:"BindingCriteriaPane",valuesChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.exportSettingsDefaults={_constructor:"DynamicForm",width:300,fields:[{name:"exportFormat",title:"Export Format",type:"select",width:"*",defaultToFirstOption:true,valueMap:{"csv":"CSV","xml":"XML","json":"JSON","xls":"XLS (Excel97)","ooxml":"OOXML (Excel2007)"}}],itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.failureElementPickerDefaults={name:"failureElement",type:"SelectItem",title:"If operation <b>fails</b>, next task",showHintInField:true,hint:"terminate workflow",width:300,allowEmptyValue:true};isc.A.navigationEditorLayoutDefaults={_constructor:"HLayout",align:"center",height:1};isc.A.navigationEditorDefaults={_constructor:"DynamicForm",autoParent:"navigationEditorLayout",wrapItemTitles:false};isc.A.editedFields=["ID","description","dataSource","operationType","values","criteria","exportFormat","failureElement"];isc.B.push(isc.A.initWidget=function isc_ServiceTaskEditor_initWidget(){this.Super("initWidget",arguments);var _1=this;var _2=[];if(this.dataSources){_2.add(isc.addProperties({},this.dataSourcePickerDefaults,this.dataSourcePickerProperties,{valueMap:this.dataSources,changed:this.dataSourceChanged}))}
if(this.showOperationTypePicker!=false){_2.add(isc.addProperties({},this.operationTypePickerDefaults,this.operationTypePickerProperties,{changed:this.operationTypeChanged}))}
var _3=this.getScopeTreeData();this.addAutoChild("hiddenErrors");this.addIdEditor();this.addAutoChild("topEditor",{fields:_2,visibility:(_2.length>0?"inherit":"hidden")});this.bindingValuesAddPane=this.createAutoChild("bindingValuesAddPane",{scopeTreeData:_3,bindingValuePrompt:this.bindingValuePrompt,fixedValueWindowTitle:this.fixedValueWindowTitle,overwriteBindingsMessage:this.overwriteBindingsMessage});this.bindingValuesUpdatePane=this.createAutoChild("bindingValuesUpdatePane",{scopeTreeData:_3,bindingValuePrompt:this.bindingValuePrompt,fixedValueWindowTitle:this.fixedValueWindowTitle,overwriteBindingsMessage:this.overwriteBindingsMessage});this.bindingCriteriaPane=this.createAutoChild("bindingCriteriaPane",{ruleScope:this.ruleScope,criteriaDataSources:this.getCriteriaDataSources()});this.removeKeyPane=this.createAutoChild("bindingValuesUpdatePane",{scopeTreeData:_3,showBindings:false});this.exportPane=this.createAutoChild("exportPane");this.exportCriteria=this.createAutoChild("exportCriteria",{ruleScope:this.ruleScope,criteriaDataSources:this.getCriteriaDataSources()});this.exportSettings=this.createAutoChild("exportSettings");this.exportPane.addMembers(this.exportCriteria,this.exportSettings);var _4=[{name:"addValues",pane:this.bindingValuesAddPane,instructions:this.addInstructions},{name:"updateValues",pane:this.bindingValuesUpdatePane,instructions:this.addInstructions},{name:"criteria",pane:this.bindingCriteriaPane,instructions:this.fetchInstructions},{name:"remove",pane:this.removeKeyPane,instructions:this.removeInstructions},{name:"export",pane:this.exportPane,instructions:this.exportInstructions}];var _5=this.addAutoChild("bindingContainer",{bindingPanes:_4});var _2=[],_6=this.getTargetableElementsValueMap();_2.add(isc.addProperties({},this.failureElementPickerDefaults,this.failureElementPickerProperties,{valueMap:_6}));this.addAutoChild("navigationEditorLayout");this.addAutoChild("navigationEditor",{fields:_2});this.addDescriptionEditor();this.addEditButtons();this.validateHiddenProperties();this.setEditorValues()},isc.A.setEditorValues=function isc_ServiceTaskEditor_setEditorValues(){var _1=this.elementEditNodeDefaults;this.idEditor.setValues(_1);this.topEditor.setValues(_1);this.navigationEditor.setValues(_1);this.descriptionEditor.setValues(_1);var _2=this.topEditor.getValue("operationType");var _3=this.topEditor.getValue("dataSource");this.bindingValuesAddPane.setDataSource(_3);this.bindingValuesUpdatePane.setDataSource(_3);if(_2=="add"){this.bindingValuesAddPane.setValues(this.elementEditNodeDefaults.values)}
if(_2=="update"){this.bindingValuesUpdatePane.setValues(this.elementEditNodeDefaults.values)}
this.bindingCriteriaPane.setDataSource(_3);this.exportCriteria.setDataSource(_3);if(this.elementEditNode.defaults.criteria){var _4=isc.clone(this.elementEditNodeDefaults.criteria);this.$1964(_4);this.bindingCriteriaPane.setCriteria(_4);var _4=isc.clone(this.elementEditNodeDefaults.criteria);this.$1964(_4);this.exportCriteria.setCriteria(_4)}
this.removeKeyPane.setDataSource(_3);if(_2=="remove"){this.removeKeyPane.setValues(this.elementEditNodeDefaults.values)}
this.exportSettings.setValues(_1);this.updateOperationTypeFields()},isc.A.validateHiddenProperties=function isc_ServiceTaskEditor_validateHiddenProperties(){var _1=[];if(!this.dataSources&&!this.elementEditNodeDefaults.dataSource){_1.add("elementEditNode defaults do not include a dataSource value and editor.dataSources is not set.")}
if(_1.length>0){this.hiddenErrors.setContents(_1.join("<br>"));this.hiddenErrors.show();this.okButton.disable()}
return(_1.length==0)},isc.A.validate=function isc_ServiceTaskEditor_validate(){var _1=this.validateHiddenProperties()&&this.idEditor.validate()&&this.topEditor.validate()&&this.exportSettings.validate()&&this.navigationEditor.validate()&&this.descriptionEditor.validate();if(_1){var _2=this.topEditor.getValue("operationType");if(_2=="update"){var _3=this.topEditor.getValue("dataSource"),_4=isc.DS.get(_3),_5=_4.getPrimaryKeyFieldName(),_6=this.bindingValuesUpdatePane.getValues();_1=(_6!=null&&_6[_5]!=null);if(!_1){var _7=this.missingPrimaryKeyMessage.evalDynamicString(this,{fieldName:_5});isc.warn(_7)}}else if(_2=="remove"){var _6=this.removeKeyPane.getValues();if(!_6||isc.isAn.emptyObject(_6)){_1=false;isc.warn(this.missingIdSourceMessage)}}}
return _1},isc.A.getEditedElementDefaults=function isc_ServiceTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.topEditor.getValues(),_3=this.exportSettings.getValues(),_4=this.navigationEditor.getValues();_1.dataSource=_2.dataSource;_1.operationType=_2.operationType;_1.values=this.getDefaultsForValues();_1.failureElement=_4.failureElement;var _5=_2.operationType;var _6;if(_5=="fetch"){_6=this.bindingCriteriaPane.getCriteria()}else if(_5=="export"){_6=this.exportCriteria.getCriteria()}
if(_6){this.$1965(_6);_1.criteria=isc.DS.simplifyAdvancedCriteria(_6,true)}
if(_5=="export"&&_3.exportFormat!=null){_1.exportFormat=_3.exportFormat}
return _1},isc.A.getDefaultsForValues=function isc_ServiceTaskEditor_getDefaultsForValues(){var _1;var _2=this.topEditor.getValue("operationType");if(_2=="add"){_1=this.bindingValuesAddPane.getValues()}else if(_2=="update"){_1=this.bindingValuesUpdatePane.getValues()}else if(_2=="remove"){_1=this.removeKeyPane.getValues()}
return _1},isc.A.getEditorTitle=function isc_ServiceTaskEditor_getEditorTitle(){var _1=this.elementEditNodeDefaults;if(this.isDrawn()){var _2=this.topEditor.getValue("operationType");_1={operationType:_2}}
return(this.showOperationTypePicker?this.editorTitle:this.editorTitleFixedOperationType.evalDynamicString(this,_1))},isc.A.dataSourceChanged=function isc_ServiceTaskEditor_dataSourceChanged(_1,_2,_3){var _4=_1.creator.topEditor.getValue("dataSource");_1.creator.bindingValuesAddPane.setDataSource(_4);_1.creator.bindingValuesUpdatePane.setDataSource(_4);_1.creator.bindingCriteriaPane.setDataSource(_4);_1.creator.exportCriteria.setDataSource(_4);_1.creator.removeKeyPane.setDataSource(_4)},isc.A.operationTypeChanged=function isc_ServiceTaskEditor_operationTypeChanged(_1,_2,_3){_1.creator.updateOperationTypeFields()},isc.A.updateOperationTypeFields=function isc_ServiceTaskEditor_updateOperationTypeFields(){var _1=this.topEditor.getValue("operationType");if(_1=="add"){this.bindingContainer.setCurrentBindingPane("addValues")}else if(_1=="update"){this.bindingContainer.setCurrentBindingPane("updateValues")}else if(_1=="remove"){this.bindingContainer.setCurrentBindingPane("remove")}else if(_1=="fetch"){this.bindingContainer.setCurrentBindingPane("criteria")}else if(_1=="export"){this.bindingContainer.setCurrentBindingPane("export")}
var _2=this.getParentElements();for(var i=0;i<_2.length;i++){if(isc.isA.Window(_2[i])){_2[i].setTitle(this.getEditorTitle());break}}},isc.A.createDescription=function isc_ServiceTaskEditor_createDescription(_1){var _2=this.$198m;if(!_2){this.$198m=_2=isc.ClassFactory.newInstance(this.processElementType,_1)}else{this.$198m.addProperties(_1)}
var _3=_2.getElementDescription();return _3});isc.B._maxIndex=isc.C+11;isc.defineClass("XORGatewayEditor","ProcessElementEditor");isc.A=isc.XORGatewayEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width=600;isc.A.minWidth=600;isc.A.processElementType="XORGateway";isc.A.invalidateEditor=true;isc.A.editorTitle="Single Decision";isc.A.instructions="Define criteria to choose between two possible next tasks.";isc.A.missingCriteriaMessage="Criteria must be selected.";isc.A.instructionsDefaults={_constructor:isc.HTMLFlow,autoParent:"bindingLayout",width:"100%",padding:5};isc.A.filterBuilderDefaults={_constructor:"FilterBuilder",autoParent:"bindingLayout",height:"*",border:"1px solid gray",showModeSwitcher:true,initWidget:function(){this.$198l=true;this.Super("initWidget",arguments);this.$198l=false},draw:function(){this.$198l=true;this.Super("draw",arguments);this.$198l=false},filterChanged:function(){if(!this.$198l&&this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.nextElementPickerDefaults={name:"nextElement",type:"SelectItem",title:"If criteria match, next task",width:300,allowEmptyValue:true,showHintInField:true,hint:"Next task in sequence (not yet created)"};isc.A.failureElementPickerDefaults={name:"failureElement",type:"SelectItem",title:"If criteria <b>do not</b> match, next task",width:300,allowEmptyValue:true,defaultValue:isc.Process.gatewayPlaceholderSelection};isc.A.navigationEditorLayoutDefaults={_constructor:"HLayout",align:"center"};isc.A.navigationEditorDefaults={_constructor:"DynamicForm",autoParent:"navigationEditorLayout",wrapItemTitles:false};isc.A.bindingLayoutDefaults={_constructor:"VLayout",width:"100%"};isc.A.editedFields=["ID","description","criteria","nextElement","failureElement"];isc.B.push(isc.A.initWidget=function isc_XORGatewayEditor_initWidget(){this.Super("initWidget",arguments);var _1=[];_1.add(isc.addProperties({},this.nextElementPickerDefaults,this.nextElementPickerProperties,{valueMap:this.getTargetableElementsValueMap()}));_1.add(isc.addProperties({},this.failureElementPickerDefaults,this.failureElementPickerProperties,{valueMap:this.getTargetableElementsValueMap(true)}));this.addIdEditor();var _2=this.addAutoChild("bindingLayout");this.addAutoChild("instructions",{contents:this.instructions});var _3={targetRuleScope:this.ruleScope,allowRuleScopeValues:true,createRuleCriteria:true,targetComponent:{ID:"_none_"},$171s:this.getCriteriaDataSources()};this.addAutoChild("filterBuilder",_3);this.addAutoChild("navigationEditorLayout");this.addAutoChild("navigationEditor",{fields:_1});this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.setEditorValues=function isc_XORGatewayEditor_setEditorValues(){var _1=this.elementEditNodeDefaults;this.idEditor.setValues(_1);this.navigationEditor.setValues(_1);this.descriptionEditor.setValues(_1);if(this.elementEditNodeDefaults.criteria){var _2=isc.clone(this.elementEditNodeDefaults.criteria);this.$1964(_2);this.filterBuilder.setCriteria(_2)}},isc.A.validate=function isc_XORGatewayEditor_validate(){var _1=this.idEditor.validate()&&this.navigationEditor.validate()&&this.descriptionEditor.validate();if(_1){var _2=this.filterBuilder.getCriteria();if(!_2.criteria||_2.criteria.isEmpty()){_1=false;isc.warn(this.missingCriteriaMessage)}}
return _1},isc.A.getEditedElementDefaults=function isc_XORGatewayEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.navigationEditor.getValues();_1.nextElement=_2.nextElement;_1.failureElement=_2.failureElement;var _3=this.filterBuilder.getCriteria();this.$1965(_3);_1.criteria=isc.DS.simplifyAdvancedCriteria(_3,true);return _1},isc.A.createDescription=function isc_XORGatewayEditor_createDescription(_1){var _2=this.$198m;if(!_2){this.$198m=_2=isc.ClassFactory.newInstance(this.processElementType,_1)}else{this.$198m.addProperties(_1)}
var _3=_2.getElementDescription();return _3});isc.B._maxIndex=isc.C+5;isc.defineClass("UserConfirmationGatewayEditor","ProcessElementEditor");isc.A=isc.UserConfirmationGatewayEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width=600;isc.A.minWidth=600;isc.A.processElementType="UserConfirmationGateway";isc.A.invalidateEditor=true;isc.A.editorTitle="User Confirmation";isc.A.messageEditorDefaults={_constructor:isc.DynamicForm,wrapItemTitles:false,fixedColWidths:true,numCols:3,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.messageFieldDefaults={name:"message",type:"TextArea",title:"Message",width:"*",height:50,colSpan:2,required:true};isc.A.nextElementPickerDefaults={name:"nextElement",type:"SelectItem",title:"If user confirms, next task",width:300,allowEmptyValue:true,showHintInField:true,hint:"Next task in sequence (not yet created)"};isc.A.failureElementPickerDefaults={name:"failureElement",type:"SelectItem",title:"If user <b>does not</b> confirm, next task",width:300,allowEmptyValue:true,defaultValue:isc.Process.gatewayPlaceholderSelection};isc.A.navigationEditorLayoutDefaults={_constructor:"HLayout",align:"center"};isc.A.navigationEditorDefaults={_constructor:"DynamicForm",autoParent:"navigationEditorLayout",wrapItemTitles:false};isc.A.bindingLayoutDefaults={_constructor:"VLayout",width:"100%"};isc.A.editedFields=["ID","description","message","nextElement","failureElement"];isc.B.push(isc.A.initWidget=function isc_UserConfirmationGatewayEditor_initWidget(){this.Super("initWidget",arguments);var _1=[];_1.add(isc.addProperties({},this.nextElementPickerDefaults,this.nextElementPickerProperties,{valueMap:this.getTargetableElementsValueMap()}));_1.add(isc.addProperties({},this.failureElementPickerDefaults,this.failureElementPickerProperties,{valueMap:this.getTargetableElementsValueMap(true)}));this.addIdEditor();this.addMessageEditor();this.addAutoChild("navigationEditorLayout");this.addAutoChild("navigationEditor",{fields:_1});this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.addMessageEditor=function isc_UserConfirmationGatewayEditor_addMessageEditor(){var _1=[isc.addProperties({},this.messageFieldDefaults)];this.addAutoChild("messageEditor",{fields:_1})},isc.A.setEditorValues=function isc_UserConfirmationGatewayEditor_setEditorValues(){var _1=this.elementEditNodeDefaults;this.idEditor.setValues(_1);this.navigationEditor.setValues(_1);this.descriptionEditor.setValues(_1);this.messageEditor.setValues(_1)},isc.A.validate=function isc_UserConfirmationGatewayEditor_validate(){var _1=this.idEditor.validate()&&this.messageEditor.validate()&&this.navigationEditor.validate()&&this.descriptionEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_UserConfirmationGatewayEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.navigationEditor.getValues(),_3=this.messageEditor.getValues();_1.message=_3.message;_1.nextElement=_2.nextElement;_1.failureElement=_2.failureElement;return _1},isc.A.createDescription=function isc_UserConfirmationGatewayEditor_createDescription(_1){var _2=this.$198m;if(!_2){this.$198m=_2=isc.ClassFactory.newInstance(this.processElementType,_1)}else{this.$198m.addProperties(_1)}
var _3=_2.getElementDescription();return _3});isc.B._maxIndex=isc.C+6;isc.defineClass("DecisionGatewayEditor","ProcessElementEditor");isc.A=isc.DecisionGatewayEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width=600;isc.A.height=600;isc.A.minWidth=600;isc.A.minHeight=600;isc.A.processElementType="DecisionGateway";isc.A.invalidateEditor=true;isc.A.editorTitle="Multi Decision";isc.A.instructions="Pick tasks and the criteria that should cause that task to be done next. Pick a fallback task at the bottom, used if no criteria match.";isc.A.instructionsDefaults={_constructor:isc.HTMLFlow,autoParent:"bindingLayout",width:"100%",padding:5};isc.A.decisionListEditorDefaults={_constructor:isc.StackedListEditor,autoParent:"bindingLayout",height:"100%",width:"100%",newItemTitle:"[No criteria entered yet]",getItemTitle:function(_1){return _1.targetTask},addButtonTitle:"Add another option",itemEditorConstructor:"TaskDecisionEditor",getItemEditorProperties:function(_1){return{targetableElementsValueMap:this.targetableElementsValueMap,targetRuleScope:this.ruleScope,$171s:this.$171s,taskDecision:_1}},getItemEditorValue:function(_1,_2){return _1.getValue()}};isc.A.defaultElementPickerDefaults={name:"defaultElement",type:"SelectItem",title:"If no criteria match",width:300,allowEmptyValue:true};isc.A.navigationEditorLayoutDefaults={_constructor:"HLayout",height:1,align:"center"};isc.A.navigationEditorDefaults={_constructor:"DynamicForm",autoParent:"navigationEditorLayout",wrapItemTitles:false};isc.A.bindingLayoutDefaults={_constructor:"VLayout",width:"100%"};isc.A.editedFields=["ID","description","decisionList","defaultElement"];isc.B.push(isc.A.initWidget=function isc_DecisionGatewayEditor_initWidget(){this.Super("initWidget",arguments);var _1=[],_2=this.getTargetableElementsValueMap(true);_1.add(isc.addProperties({},this.defaultElementPickerDefaults,this.defaultElementPickerProperties,{valueMap:_2}));this.addIdEditor();var _3=this.addAutoChild("bindingLayout");this.addAutoChild("instructions",{contents:this.instructions});var _4={ruleScope:this.ruleScope,$171s:this.getCriteriaDataSources(),targetableElementsValueMap:this.getTargetableElementsValueMap(true),removeIcon:this.editor.removeIcon}
this.addAutoChild("decisionListEditor",_4);this.addAutoChild("navigationEditorLayout");this.addAutoChild("navigationEditor",{fields:_1});this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.setEditorValues=function isc_DecisionGatewayEditor_setEditorValues(){var _1=this.elementEditNodeDefaults;this.idEditor.setValues(_1);this.navigationEditor.setValues(_1);this.descriptionEditor.setValues(_1);if(_1.decisionList){var _2=[],_3=_1.decisionList;for(var i=0;i<_3.length;i++){var _5=isc.clone(_3[i].criteria),_6={targetTask:_3[i].targetTask};_6.criteria=this.$1964(_5);_2.add(_6)}
this.decisionListEditor.setItems(_2)}},isc.A.validate=function isc_DecisionGatewayEditor_validate(){return this.idEditor.validate()&&this.decisionListEditor.validate()&&this.navigationEditor.validate()&&this.descriptionEditor.validate()},isc.A.getEditedElementDefaults=function isc_DecisionGatewayEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.navigationEditor.getValues();_1.defaultElement=_2.defaultElement;var _3=this.decisionListEditor.getItems();for(var i=0;i<_3.length;i++){var _5=this.$1965(_3[i].criteria);_3[i].criteria=isc.DS.simplifyAdvancedCriteria(_5,true)}
_1.decisionList=_3;return _1},isc.A.createDescription=function isc_DecisionGatewayEditor_createDescription(_1){var _2=this.$198m;if(!_2){this.$198m=_2=isc.ClassFactory.newInstance(this.processElementType,_1)}else{this.$198m.addProperties(_1)}
var _3=_2.getElementDescription();return _3});isc.B._maxIndex=isc.C+5;isc.defineClass("ComponentTaskEditor","ProcessElementEditor");isc.A=isc.ComponentTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width=400;isc.A.minWidth=400;isc.A.processElementType=null;isc.A.selectionComponentBaseClasses=["ListGrid","TileGrid"];isc.A.editorTitle=null;isc.A.componentIdEditorDefaults={_constructor:isc.DynamicForm,wrapItemTitles:false,autoFocus:true,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}},setFocus:function(_1,_2){var _3=(_1?this.getFocusSubItem():null);this.Super("setFocus",arguments);var _4=(_1?this.getFocusSubItem():null);if(!_3&&_4&&_4.showPicker){if(_4.getValue()==null)_4.showPicker()}}};isc.A.componentIdPickerDefaults={name:"componentId",type:"ComboBoxItem",title:"Component",required:true,valueField:"ID",displayField:"ID",pickListHeight:700,pickListFields:[{name:"ID",autoFitWidth:true,treeField:true},{name:"title",width:"*",showHover:true,formatCellValue:function(_1,_2,_3,_4,_5){return _1||_2.className}}],pickListProperties:{showHeader:false},autoOpenTree:"all"};isc.A.editedFields=["ID","description","componentId"];isc.B.push(isc.A.destroy=function isc_ComponentTaskEditor_destroy(){this.Super("destroy",arguments);this.destroyComponentPickerDataSources()},isc.A.getEditorTitle=function isc_ComponentTaskEditor_getEditorTitle(){return isc.DS.getAutoTitle(this.processElementType)},isc.A.addComponentIdEditor=function isc_ComponentTaskEditor_addComponentIdEditor(_1){var _2=isc.ClassFactory.newInstance(this.processElementType),_3=_2.getComponentBaseClasses();var _4=[this.getFormFieldForAvailableComponents("componentIdPicker",this.targetComponents,_3,{changed:function(){this.form.creator.componentIdChanged()}},_1)];this.addAutoChild("componentIdEditor",{fields:_4})},isc.A.setEditorValues=function isc_ComponentTaskEditor_setEditorValues(){var _1=this.elementEditNodeDefaults;this.idEditor.setValues(_1);var _2=this.componentIdEditor.getValue("componentId");this.componentIdEditor.setValues(_1);if(_2!=null)this.componentIdEditor.setValue("componentId",_2);this.descriptionEditor.setValues(_1)},isc.A.validate=function isc_ComponentTaskEditor_validate(){var _1=this.idEditor.validate()&&this.componentIdEditor.validate()&&this.descriptionEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_ComponentTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.componentIdEditor.getValues();_1.componentId=_2.componentId;return _1},isc.A.getDefaultComponentBindings=function isc_ComponentTaskEditor_getDefaultComponentBindings(_1){if(!this.lastTaskFetchDataSource)return _1;var _2=this.getComponentDataSource();if(!_2||_2!=isc.DS.get(this.lastTaskFetchDataSource)){return _1}
var _3=_2.getFieldNames(),_4={};for(var i=0;i<_3.length;i++){var _6=_3[i];_4[_6]="$last."+_6}
return _4},isc.A.componentIdChanged=function isc_ComponentTaskEditor_componentIdChanged(){},isc.A.getComponent=function isc_ComponentTaskEditor_getComponent(){var _1=this.componentIdEditor.getValue("componentId");if(!_1)return null;return window[_1]},isc.A.getComponentDataSource=function isc_ComponentTaskEditor_getComponentDataSource(){var _1=this.getComponent();if(!_1)return null;var _2=_1.dataSource;return isc.DS.get(_2)},isc.A.getFormFieldForAvailableComponents=function isc_ComponentTaskEditor_getFormFieldForAvailableComponents(_1,_2,_3,_4,_5){_2=_2||[];_3=(_3?(isc.isAn.Array(_3)?_3:[_3]):null);if(_5==null&&_3&&_3.length==1&&_3[0]=="Canvas"){_5=true}
if(!_5&&isc.isA.Tree(_2)){_2=_2.getCleanNodeData(_2.getAllNodes());for(var i=0;i<_2.length;i++){var _7=_2[i];delete _7.isFolder;delete _7.children}}
if(!isc.isA.Tree(_2)){_2.sortByProperty("ID",true)}
var _8=_2;if(_3){var _9=this.editor;if(isc.isA.Tree(_2)){_8=_9.filterComponentsTree(_2,null,_3);_8.openAll()}else{_8=[];for(var i=0;i<_2.length;i++){var _7=_2[i];if(_9.isApplicableComponent(_7,null,_3)){_8.add(_7)}}}}
var _10=this[_1+"Defaults"];var _11=this.createComponentPickerDataSource(_1,_10,_8);var _12=null;if(this.lastTaskFetchDataSource){_12={dataArrived:function(){if(this.getValue()==null){var _13=this.getClientPickListData();if(_13&&_13.getLength()>0){var _14=_13[0];this.setValue(_14.ID);this.form.creator.setEditorValues();if(this.form.creator.valuesChanged){this.form.creator.valuesChanged()}}}}}}else if(_8&&!isc.isA.Tree(_8)&&_8.getLength()==1){_12={defaultToFirstOption:true,dataArrived:function(){if(!this.$198n){this.form.creator.setEditorValues();this.$198n=true;if(this.form.creator.valuesChanged){this.form.creator.valuesChanged()}}}}}else if(_8&&isc.isA.Tree(_8)){var _15=(isc.isA.Tree(_8)?_8.getAllNodes().findAll("enabled",true):_8);if(_15&&_15.getLength()==1){_12={dataArrived:function(){if(!this.$198n){this.setValue(_15[0].ID);this.form.creator.setEditorValues();this.$198n=true;if(this.form.creator.valuesChanged){this.form.creator.valuesChanged()}}}}}}
var _16=isc.addProperties({},_10,{optionDataSource:_11,emptyPickListMessage:"No appropriate components exist",dataSetType:(isc.isA.Tree(_8)?"tree":"list"),addUnknownValues:false},_4,_12);return _16},isc.A.createComponentPickerDataSource=function isc_ComponentTaskEditor_createComponentPickerDataSource(_1,_2,_3){var _4=this.getID()+"_"+_1+"$198o";var _5=[],_6={};if(_2.valueField){_5.add({name:_2.valueField,primaryKey:true});_6[_2.valueField]=true;if(isc.isA.Tree(_3)){_5.add({name:"parentId",foreignKey:_2.valueField})}}
if(_2.displayField&&!_6[_2.displayField]){_5.add({name:_2.displayField});_6[_2.displayField]=true}
var _7=isc.DS.create({ID:_4,clientOnly:true,fields:_5,cacheData:(isc.isA.Tree(_3)?_3.getAllNodes():_3)});if(!this.$198p)this.$198p=[];this.$198p.add(_7);return _7},isc.A.destroyComponentPickerDataSources=function isc_ComponentTaskEditor_destroyComponentPickerDataSources(){if(this.$198p){var _1=this.$198p;for(var i=0;i<_1.length;i++){_1[i].destroy()}}},isc.A.getSelectionComponentBaseClasses=function isc_ComponentTaskEditor_getSelectionComponentBaseClasses(){return(isc.isAn.Array(this.selectionComponentBaseClasses)?this.selectionComponentBaseClasses:[this.selectionComponentBaseClasses])});isc.B._maxIndex=isc.C+14;isc.defineClass("GridFetchDataTaskEditor","ComponentTaskEditor");isc.A=isc.GridFetchDataTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="GridFetchDataTask";isc.A.criteriaNotCompleteMessage="Criteria is missing or not complete";isc.A.filterBuilderDefaults={_constructor:"FilterBuilder",showModeSwitcher:true,initWidget:function(){this.$198l=true;this.Super("initWidget",arguments);this.$198l=false},draw:function(){this.$198l=true;this.Super("draw",arguments);this.$198l=false},filterChanged:function(){if(!this.$198l&&this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.criteriaErrorDefaults={_constructor:isc.HTMLFlow,width:"100%",visibility:"hidden"};isc.A.editedFields=["ID","description","componentId","criteria"];isc.B.push(isc.A.initWidget=function isc_GridFetchDataTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.addAutoChild("criteriaError");var _1={targetRuleScope:this.ruleScope,allowRuleScopeValues:true,targetComponent:{ID:"_none_"},$171s:this.getCriteriaDataSources()};this.addAutoChild("filterBuilder",_1);this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.setEditorValues=function isc_GridFetchDataTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);var _1=this.getComponentDataSource();this.filterBuilder.setDataSource(_1);if(this.elementEditNodeDefaults.criteria){var _2=isc.clone(this.elementEditNodeDefaults.criteria);this.$1964(_2);this.filterBuilder.setCriteria(_2)}
if(_1)this.filterBuilder.show();else this.filterBuilder.hide()},isc.A.validate=function isc_GridFetchDataTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.filterBuilder.validate(),_2=null;if(_1){var _3=this.filterBuilder.getCriteria(),_4=(!_3.criteria||_3.criteria.isEmpty()),_5=_4&&!this.filterBuilder.getCriteria(true).criteria.isEmpty();if(_4||_5){_1=false;_2=this.criteriaNotCompleteMessage}}
if(!_1&&_2){var _6=this.componentIdEditor.getField("componentId");var _7=isc.Canvas.imgHTML(_6.errorIconSrc,_6.errorIconWidth,_6.errorIconHeight);this.criteriaError.setContents(_7+"&nbsp;"+_2);this.criteriaError.show()}else{this.criteriaError.hide()}
return _1},isc.A.getEditedElementDefaults=function isc_GridFetchDataTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments);var _2=this.filterBuilder.getCriteria();this.$1965(_2);_1.criteria=isc.DS.simplifyAdvancedCriteria(_2,true);return _1},isc.A.componentIdChanged=function isc_GridFetchDataTaskEditor_componentIdChanged(){var _1=this.getComponentDataSource();this.filterBuilder.setDataSource(_1);if(_1)this.filterBuilder.show();else this.filterBuilder.hide()},isc.A.createDescription=function isc_GridFetchDataTaskEditor_createDescription(_1){var _2=this.$198m;if(!_2){this.$198m=_2=isc.ClassFactory.newInstance(this.processElementType,_1)}else{this.$198m.addProperties(_1)}
var _3=_2.getElementDescription();return _3});isc.B._maxIndex=isc.C+6;isc.defineClass("GridFetchRelatedDataTaskEditor","ComponentTaskEditor");isc.A=isc.GridFetchRelatedDataTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="GridFetchRelatedDataTask";isc.A.dataSourcePickerDefaults={name:"dataSource",type:"ComboBoxItem",title:"DataSource",required:true};isc.A.recordSourceComponentPickerDefaults={name:"recordSourceComponent",type:"ComboBoxItem",title:"Record Source",required:true,valueField:"ID",displayField:"ID",pickListWidth:250,pickListFields:[{name:"ID",autoFitWidth:true,treeField:true},{name:"title",width:"*",showHover:true,formatCellValue:function(_1,_2,_3,_4,_5){return _1||_2.className}}],pickListProperties:{showHeader:false},autoOpenTree:"all"};isc.A.relatedEditorDefaults={_constructor:"DynamicForm",wrapItemTitles:false,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.editedFields=["ID","description","componentId","dataSource","recordSourceComponent"];isc.B.push(isc.A.initWidget=function isc_GridFetchRelatedDataTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();var _1=[isc.addProperties({},this.dataSourcePickerDefaults,this.dataSourcePickerProperties,{valueMap:this.dataSources,changed:this.dataSourceChanged}),this.getFormFieldForAvailableComponents("recordSourceComponentPicker",this.availableComponents,"DataBoundComponent")];this.addAutoChild("relatedEditor",{fields:_1});this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.setEditorValues=function isc_GridFetchRelatedDataTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);this.relatedEditor.setValues(this.elementEditNodeDefaults)},isc.A.validate=function isc_GridFetchRelatedDataTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.relatedEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_GridFetchRelatedDataTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.relatedEditor.getValues();_1.dataSource=_2.dataSource;_1.recordSourceComponent=_2.recordSourceComponent;return _1},isc.A.createDescription=function isc_GridFetchRelatedDataTaskEditor_createDescription(_1){return"Fetch '"+_1.componentId+"' data from related record in '"+_1.recordSourceComponent+"'"});isc.B._maxIndex=isc.C+5;isc.defineClass("GridStartEditingTaskEditor","ComponentTaskEditor");isc.A=isc.GridStartEditingTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width=600;isc.A.minWidth=600;isc.A.height=400;isc.A.minHeight=400;isc.A.processElementType="GridStartEditingTask";isc.A.valuesInstructions="Drag available fields from the tree on the left to the grid on the right to specify initial values for the new record. Or click the pencil icon to enter a fixed value.";isc.A.overwriteBindingsMessage="Overwrite all existing bindings? Otherwise, new bindings will be merged.";isc.A.fixedValueWindowTitle="Fixed value for field '${fieldName}'";isc.A.bindingValuePrompt="Click the pencil icon to enter a fixed value";isc.A.bindingContainerDefaults={_constructor:"BindingContainer",height:"*"};isc.A.bindingValuesPaneDefaults={_constructor:"BindingValuesPane",valuesChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.editedFields=["ID","description","componentId","initialValues"];isc.B.push(isc.A.initWidget=function isc_GridStartEditingTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.bindingValuesPane=this.createAutoChild("bindingValuesPane",{scopeTreeData:this.getScopeTreeData(),bindingValuePrompt:this.bindingValuePrompt,fixedValueWindowTitle:this.fixedValueWindowTitle,overwriteBindingsMessage:this.overwriteBindingsMessage});var _1=[{name:"values",pane:this.bindingValuesPane,instructions:this.valuesInstructions,currentPane:true}];var _2=this.addAutoChild("bindingContainer",{bindingPanes:_1});this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.setEditorValues=function isc_GridStartEditingTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);var _1=this.getComponentDataSource();this.bindingValuesPane.setDataSource(_1);this.bindingValuesPane.setValues(this.getDefaultComponentBindings(this.elementEditNodeDefaults.initialValues));this.bindingContainer.showPane(_1!=null)},isc.A.getEditedElementDefaults=function isc_GridStartEditingTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments);_1.initialValues=this.bindingValuesPane.getValues();return _1},isc.A.componentIdChanged=function isc_GridStartEditingTaskEditor_componentIdChanged(){var _1=this.getComponentDataSource();this.bindingValuesPane.setDataSource(_1);this.bindingContainer.showPane(_1!=null)},isc.A.createDescription=function isc_GridStartEditingTaskEditor_createDescription(_1){return"Edit '"+_1.componentId+"' new record"});isc.B._maxIndex=isc.C+5;isc.defineClass("GridRemoveSelectedDataTaskEditor","ComponentTaskEditor");isc.A=isc.GridRemoveSelectedDataTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="GridRemoveSelectedDataTask";isc.B.push(isc.A.initWidget=function isc_GridRemoveSelectedDataTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.createDescription=function isc_GridRemoveSelectedDataTaskEditor_createDescription(_1){return"Remove '"+_1.componentId+"' selected records"});isc.B._maxIndex=isc.C+2;isc.defineClass("GridSaveAllEditsTaskEditor","ComponentTaskEditor");isc.A=isc.GridSaveAllEditsTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="GridSaveAllEditsTask";isc.B.push(isc.A.initWidget=function isc_GridSaveAllEditsTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.createDescription=function isc_GridSaveAllEditsTaskEditor_createDescription(_1){return"Save all '"+_1.componentId+"' edits"});isc.B._maxIndex=isc.C+2;isc.defineClass("GridExportDataTaskEditor","ComponentTaskEditor");isc.A=isc.GridExportDataTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="GridExportDataTask";isc.B.push(isc.A.initWidget=function isc_GridExportDataTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.createDescription=function isc_GridExportDataTaskEditor_createDescription(_1){return"Export '"+_1.componentId+"' data (Server)"});isc.B._maxIndex=isc.C+2;isc.defineClass("GridExportClientDataTaskEditor","ComponentTaskEditor");isc.A=isc.GridExportClientDataTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="GridExportClientDataTask";isc.B.push(isc.A.initWidget=function isc_GridExportClientDataTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.createDescription=function isc_GridExportClientDataTaskEditor_createDescription(_1){return"Export '"+_1.componentId+"' data (Client)"});isc.B._maxIndex=isc.C+2;isc.defineClass("GridSetEditValueTaskEditor","ComponentTaskEditor");isc.A=isc.GridSetEditValueTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="GridSetEditValueTask";isc.A.targetEditorDefaults={_constructor:isc.DynamicForm,wrapItemTitles:false,fixedColWidths:true,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.targetFieldPickerDefaults={name:"targetField",type:"ComboBoxItem",title:"Target Field",required:true,allowUnknownValues:false};isc.A.valueFieldDefaults={name:"value",type:"DynamicValueItem",title:"Value",required:true,allowRuleScopeValues:true,fieldName:"value"};isc.A.editedFields=["ID","description","componentId","targetField","value"];isc.B.push(isc.A.initWidget=function isc_GridSetEditValueTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.addTargetEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.addTargetEditor=function isc_GridSetEditValueTaskEditor_addTargetEditor(){var _1=this.getTargetComponentFieldNames();var _2=[isc.addProperties({},this.targetFieldPickerDefaults,{valueMap:_1,changed:function(){this.form.creator.targetFieldChanged()}}),isc.addProperties({},this.valueFieldDefaults,{targetRuleScope:this.$167n,$171s:this.getRuleScopeDataSources()})];this.addAutoChild("targetEditor",{fields:_2})},isc.A.setEditorValues=function isc_GridSetEditValueTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);var _1=this.getTargetComponentFieldNames();this.targetEditor.getField("targetField").setValueMap(_1);var _2=this.getComponentDataSource(),_3=this.elementEditNodeDefaults.targetField,_4=(_3?_2.getField(_3).title:null),_5=this.targetEditor.getField("value");_5.targetComponent=this.getComponent();_5.dataSource=this.getComponentDataSource();_5.setField(_3,_4);this.targetEditor.setValues(this.elementEditNodeDefaults)},isc.A.validate=function isc_GridSetEditValueTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.targetEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_GridSetEditValueTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.targetEditor.getValues();_1.targetField=_2.targetField;_1.value=_2.value;return _1},isc.A.getTargetComponentFieldNames=function isc_GridSetEditValueTaskEditor_getTargetComponentFieldNames(){var _1=this.getComponentDataSource();return(_1?_1.getFieldNames():[])},isc.A.componentIdChanged=function isc_GridSetEditValueTaskEditor_componentIdChanged(){var _1=this.getTargetComponentFieldNames();this.targetEditor.getField("targetField").setValueMap(_1);var _2=this.targetEditor.getField("value");_2.dataSource=this.getComponentDataSource();_2.setField(null);this.targetEditor.setValue("targetField",null);this.targetEditor.setValue("value",null)},isc.A.targetFieldChanged=function isc_GridSetEditValueTaskEditor_targetFieldChanged(){var _1=this.targetEditor.getValue("targetField"),_2=this.targetEditor.getField("value");var _3=this.getComponentDataSource(),_4=(_1?_3.getField(_1).title:null);_2.dataSource=_3;_2.setField(_1,_4);this.targetEditor.setValue("value",null)},isc.A.createDescription=function isc_GridSetEditValueTaskEditor_createDescription(_1){return"Set '"+_1.componentId+"."+_1.targetField+"' edit value"});isc.B._maxIndex=isc.C+9;isc.defineClass("FormSaveDataTaskEditor","ComponentTaskEditor");isc.A=isc.FormSaveDataTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width=500;isc.A.minWidth=500;isc.A.processElementType="FormSaveDataTask";isc.A.failureElementPickerDefaults={name:"failureElement",type:"SelectItem",title:"If save <b>fails</b>, next task",showHintInField:true,hint:"terminate workflow",width:300,allowEmptyValue:true};isc.A.navigationEditorLayoutDefaults={_constructor:"HLayout",align:"center",height:1};isc.A.navigationEditorDefaults={_constructor:"DynamicForm",autoParent:"navigationEditorLayout",wrapItemTitles:false};isc.A.editedFields=["ID","description","componentId","failureElement"];isc.B.push(isc.A.initWidget=function isc_FormSaveDataTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();var _1=[],_2=this.getTargetableElementsValueMap();_1.add(isc.addProperties({},this.failureElementPickerDefaults,this.failureElementPickerProperties,{valueMap:_2}));this.addAutoChild("navigationEditorLayout");this.addAutoChild("navigationEditor",{fields:_1});this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.setEditorValues=function isc_FormSaveDataTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);var _1=this.elementEditNodeDefaults;this.navigationEditor.setValues(_1)},isc.A.validate=function isc_FormSaveDataTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.navigationEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_FormSaveDataTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.navigationEditor.getValues();_1.failureElement=_2.failureElement;return _1},isc.A.createDescription=function isc_FormSaveDataTaskEditor_createDescription(_1){return"Save '"+_1.componentId+"' data"});isc.B._maxIndex=isc.C+5;isc.defineClass("FormEditNewRecordTaskEditor","ComponentTaskEditor");isc.A=isc.FormEditNewRecordTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width=600;isc.A.minWidth=600;isc.A.height=400;isc.A.minHeight=400;isc.A.processElementType="FormEditNewRecordTask";isc.A.valuesInstructions="Drag available fields from the tree on the left to the grid on the right to specify what data should be stored. Or click the pencil icon to enter a fixed value.";isc.A.overwriteBindingsMessage="Overwrite all existing bindings? Otherwise, new bindings will be merged.";isc.A.fixedValueWindowTitle="Fixed value for field '${fieldName}'";isc.A.bindingValuePrompt="Click the pencil icon to enter a fixed value";isc.A.bindingContainerDefaults={_constructor:"BindingContainer",height:"*"};isc.A.bindingValuesPaneDefaults={_constructor:"BindingValuesPane",valuesChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.editedFields=["ID","description","componentId","initialValues"];isc.B.push(isc.A.initWidget=function isc_FormEditNewRecordTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.bindingValuesPane=this.createAutoChild("bindingValuesPane",{scopeTreeData:this.getScopeTreeData(),bindingValuePrompt:this.bindingValuePrompt,fixedValueWindowTitle:this.fixedValueWindowTitle,overwriteBindingsMessage:this.overwriteBindingsMessage});var _1=[{name:"values",pane:this.bindingValuesPane,instructions:this.valuesInstructions,currentPane:true}];var _2=this.addAutoChild("bindingContainer",{bindingPanes:_1});this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.setEditorValues=function isc_FormEditNewRecordTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);var _1=this.getComponentDataSource();this.bindingValuesPane.setDataSource(_1);this.bindingValuesPane.setValues(this.getDefaultComponentBindings(this.elementEditNodeDefaults.initialValues));this.bindingContainer.showPane(_1!=null)},isc.A.getEditedElementDefaults=function isc_FormEditNewRecordTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments);_1.initialValues=this.bindingValuesPane.getValues();return _1},isc.A.componentIdChanged=function isc_FormEditNewRecordTaskEditor_componentIdChanged(){var _1=this.getComponentDataSource();this.bindingValuesPane.setDataSource(_1);this.bindingContainer.showPane(_1!=null)},isc.A.createDescription=function isc_FormEditNewRecordTaskEditor_createDescription(_1){return"Edit '"+_1.componentId+"' new record"});isc.B._maxIndex=isc.C+5;isc.defineClass("FormEditRecordTaskEditor","ComponentTaskEditor");isc.A=isc.FormEditRecordTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="FormEditRecordTask";isc.A.recordSourceComponentPickerDefaults={name:"recordSourceComponent",type:"ComboBoxItem",title:"Record Source",required:true,valueField:"ID",displayField:"ID",pickListWidth:250,pickListFields:[{name:"ID",autoFitWidth:true,treeField:true},{name:"title",width:"*",showHover:true,formatCellValue:function(_1,_2,_3,_4,_5){return _1||_2.className}}],pickListProperties:{showHeader:false},autoOpenTree:"all"};isc.A.relatedEditorDefaults={_constructor:"DynamicForm",wrapItemTitles:false,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.editedFields=["ID","description","componentId","recordSourceComponent"];isc.B.push(isc.A.initWidget=function isc_FormEditRecordTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();var _1=[this.getFormFieldForAvailableComponents("recordSourceComponentPicker",this.availableComponents,"DataBoundComponent")];this.addAutoChild("relatedEditor",{fields:_1});this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.setEditorValues=function isc_FormEditRecordTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);this.relatedEditor.setValues(this.elementEditNodeDefaults)},isc.A.validate=function isc_FormEditRecordTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.relatedEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_FormEditRecordTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.relatedEditor.getValues();_1.recordSourceComponent=_2.recordSourceComponent;return _1},isc.A.createDescription=function isc_FormEditRecordTaskEditor_createDescription(_1){return"Edit '"+_1.componentId+"' from '"+_1.recordSourceComponent+"' record"});isc.B._maxIndex=isc.C+5;isc.defineClass("FormEditSelectedTaskEditor","ComponentTaskEditor");isc.A=isc.FormEditSelectedTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="FormEditSelectedTask";isc.A.selectionComponentPickerDefaults={name:"selectionComponentId",type:"ComboBoxItem",title:"Select From",required:true,valueField:"ID",displayField:"ID",pickListWidth:250,pickListFields:[{name:"ID",autoFitWidth:true,treeField:true},{name:"title",width:"*",showHover:true,formatCellValue:function(_1,_2,_3,_4,_5){return _1||_2.className}}],pickListProperties:{showHeader:false},autoOpenTree:"all"};isc.A.selectedEditorDefaults={_constructor:"DynamicForm",wrapItemTitles:false,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.editedFields=["ID","description","componentId","selectionComponentId"];isc.B.push(isc.A.initWidget=function isc_FormEditSelectedTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();var _1=[this.getFormFieldForAvailableComponents("selectionComponentPicker",this.availableComponents,this.getSelectionComponentBaseClasses())];this.addAutoChild("selectedEditor",{fields:_1});this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.setEditorValues=function isc_FormEditSelectedTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);this.selectedEditor.setValues(this.elementEditNodeDefaults)},isc.A.validate=function isc_FormEditSelectedTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.selectedEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_FormEditSelectedTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.selectedEditor.getValues();_1.selectionComponentId=_2.selectionComponentId;return _1},isc.A.createDescription=function isc_FormEditSelectedTaskEditor_createDescription(_1){return"Edit '"+_1.componentId+"' from '"+_1.selectionComponentId+"' selected record"});isc.B._maxIndex=isc.C+5;isc.defineClass("FormHideFieldTaskEditor","ComponentTaskEditor");isc.A=isc.FormHideFieldTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="FormHideFieldTask";isc.A.targetEditorDefaults={_constructor:isc.DynamicForm,wrapItemTitles:false,fixedColWidths:true,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.targetFieldPickerDefaults={name:"targetField",type:"ComboBoxItem",title:"Target Field",required:true,allowUnknownValues:false};isc.A.hideDefaults={name:"hide",type:"RadioGroupItem",title:"Field should be",defaultValue:true,vertical:false,valueMap:{true:"Hidden",false:"Visible"},required:true};isc.A.editedFields=["ID","description","componentId","targetField","hide"];isc.B.push(isc.A.initWidget=function isc_FormHideFieldTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.addTargetEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.addTargetEditor=function isc_FormHideFieldTaskEditor_addTargetEditor(){var _1=this.getTargetComponentFieldNames();var _2=[isc.addProperties({},this.targetFieldPickerDefaults,{valueMap:_1}),isc.addProperties({},this.hideDefaults)];this.addAutoChild("targetEditor",{fields:_2})},isc.A.setEditorValues=function isc_FormHideFieldTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);var _1=this.getTargetComponentFieldNames();this.targetEditor.getField("targetField").setValueMap(_1);this.targetEditor.setValues(this.elementEditNodeDefaults)},isc.A.validate=function isc_FormHideFieldTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.targetEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_FormHideFieldTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.targetEditor.getValues();_1.targetField=_2.targetField;_1.hide=_2.hide;return _1},isc.A.getTargetComponentFieldNames=function isc_FormHideFieldTaskEditor_getTargetComponentFieldNames(){var _1=this.getComponent(),_2=[];if(!_1)return _2;var _3=_1.getFields();for(var i=0;i<_3.length;i++){_2.add(_3[i].name)}
if(_2.length==0){var _5=this.getComponentDataSource();if(_5)_2=_5.getFieldNames()}
return _2},isc.A.componentIdChanged=function isc_FormHideFieldTaskEditor_componentIdChanged(){var _1=this.getTargetComponentFieldNames();this.targetEditor.getField("targetField").setValueMap(_1);this.targetEditor.setValue("targetField",null)},isc.A.createDescription=function isc_FormHideFieldTaskEditor_createDescription(_1){var _2=_1.hide;if(isc.isA.String(_2))_2=(_2=="true");return(_2?"Hide":"Show")+" "+_1.componentId+"."+_1.targetField});isc.B._maxIndex=isc.C+8;isc.defineClass("FormDisableFieldTaskEditor","ComponentTaskEditor");isc.A=isc.FormDisableFieldTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="FormDisableFieldTask";isc.A.targetEditorDefaults={_constructor:isc.DynamicForm,wrapItemTitles:false,fixedColWidths:true,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.targetFieldPickerDefaults={name:"targetField",type:"ComboBoxItem",title:"Target Field",required:true,allowUnknownValues:false};isc.A.disableDefaults={name:"disable",type:"RadioGroupItem",title:"Field should be",defaultValue:true,vertical:false,valueMap:{true:"Disabled",false:"Enabled"},required:true};isc.A.editedFields=["ID","description","componentId","targetField","disable"];isc.B.push(isc.A.initWidget=function isc_FormDisableFieldTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.addTargetEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.addTargetEditor=function isc_FormDisableFieldTaskEditor_addTargetEditor(){var _1=this.getTargetComponentFieldNames();var _2=[isc.addProperties({},this.targetFieldPickerDefaults,{valueMap:_1}),isc.addProperties({},this.disableDefaults)];this.addAutoChild("targetEditor",{fields:_2})},isc.A.setEditorValues=function isc_FormDisableFieldTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);var _1=this.getTargetComponentFieldNames();this.targetEditor.getField("targetField").setValueMap(_1);this.targetEditor.setValues(this.elementEditNodeDefaults)},isc.A.validate=function isc_FormDisableFieldTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.targetEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_FormDisableFieldTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.targetEditor.getValues();_1.targetField=_2.targetField;_1.disable=_2.disable;return _1},isc.A.getTargetComponentFieldNames=function isc_FormDisableFieldTaskEditor_getTargetComponentFieldNames(){var _1=this.getComponent(),_2=[];if(!_1)return _2;var _3=_1.getFields();for(var i=0;i<_3.length;i++){_2.add(_3[i].name)}
if(_2.length==0){var _5=this.getComponentDataSource();if(_5)_2=_5.getFieldNames()}
return _2},isc.A.componentIdChanged=function isc_FormDisableFieldTaskEditor_componentIdChanged(){var _1=this.getTargetComponentFieldNames();this.targetEditor.getField("targetField").setValueMap(_1);this.targetEditor.setValue("targetField",null)},isc.A.createDescription=function isc_FormDisableFieldTaskEditor_createDescription(_1){var _2=_1.disable;if(isc.isA.String(_2))_2=(_2=="true");return(_2?"Disable":"Enable")+" '"+_1.componentId+"."+_1.targetField+"'"});isc.B._maxIndex=isc.C+8;isc.defineClass("FormSetFieldValueTaskEditor","ComponentTaskEditor");isc.A=isc.FormSetFieldValueTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="FormSetFieldValueTask";isc.A.targetEditorDefaults={_constructor:isc.DynamicForm,wrapItemTitles:false,fixedColWidths:true,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.targetFieldPickerDefaults={name:"targetField",type:"ComboBoxItem",title:"Target Field",required:true,allowUnknownValues:false};isc.A.valueFieldDefaults={name:"value",type:"DynamicValueItem",title:"Value",required:true,allowRuleScopeValues:true,fieldName:"value"};isc.A.editedFields=["ID","description","componentId","targetField","value"];isc.B.push(isc.A.initWidget=function isc_FormSetFieldValueTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.addTargetEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.addTargetEditor=function isc_FormSetFieldValueTaskEditor_addTargetEditor(){var _1=this.getTargetComponentFieldNames();var _2=[isc.addProperties({},this.targetFieldPickerDefaults,{valueMap:_1,changed:function(){this.form.creator.targetFieldChanged()}}),isc.addProperties({},this.valueFieldDefaults,{targetRuleScope:this.$167n,$171s:this.getRuleScopeDataSources()})];this.addAutoChild("targetEditor",{fields:_2})},isc.A.setEditorValues=function isc_FormSetFieldValueTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);var _1=this.getTargetComponentFieldNames();this.targetEditor.getField("targetField").setValueMap(_1);var _2=this.getComponentDataSource(),_3=this.elementEditNodeDefaults.targetField,_4=(_3?_2.getField(_3).title:null),_5=this.targetEditor.getField("value");_5.targetComponent=this.getComponent();_5.dataSource=this.getComponentDataSource();_5.setField(_3,_4);this.targetEditor.setValues(this.elementEditNodeDefaults)},isc.A.validate=function isc_FormSetFieldValueTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.targetEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_FormSetFieldValueTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.targetEditor.getValues();_1.targetField=_2.targetField;_1.value=_2.value;return _1},isc.A.getComponentDataSource=function isc_FormSetFieldValueTaskEditor_getComponentDataSource(){var _1=this.componentIdEditor.getValue("componentId");if(!_1)return null;var _2=window[_1];if(!_2)return null;var _3=_2.dataSource;return isc.DS.get(_3)},isc.A.getTargetComponentFieldNames=function isc_FormSetFieldValueTaskEditor_getTargetComponentFieldNames(){var _1=this.getComponentDataSource();return(_1?_1.getFieldNames():[])},isc.A.componentIdChanged=function isc_FormSetFieldValueTaskEditor_componentIdChanged(){var _1=this.getTargetComponentFieldNames();this.targetEditor.getField("targetField").setValueMap(_1);var _2=this.targetEditor.getField("value");_2.dataSource=this.getComponentDataSource();_2.setFieldName(null);this.targetEditor.setValue("targetField",null);this.targetEditor.setValue("value",null)},isc.A.targetFieldChanged=function isc_FormSetFieldValueTaskEditor_targetFieldChanged(){var _1=this.targetEditor.getValue("targetField"),_2=this.targetEditor.getField("value");var _3=this.getComponentDataSource(),_4=(_1?_3.getField(_1).title:null);_2.dataSource=_3;_2.setField(_1,_4);this.targetEditor.setValue("value",null)},isc.A.createDescription=function isc_FormSetFieldValueTaskEditor_createDescription(_1){return"Set '"+_1.componentId+"."+_1.targetField+"' value"});isc.B._maxIndex=isc.C+10;isc.defineClass("FormSetValuesTaskEditor","ComponentTaskEditor");isc.A=isc.FormSetValuesTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width=600;isc.A.minWidth=600;isc.A.height=400;isc.A.minHeight=400;isc.A.processElementType="FormSetValuesTask";isc.A.valuesInstructions="Drag available fields from the tree on the left to the grid on the right to specify initial values for the new record. Or click the pencil icon to enter a fixed value.";isc.A.overwriteBindingsMessage="Overwrite all existing bindings? Otherwise, new bindings will be merged.";isc.A.fixedValueWindowTitle="Fixed value for field '${fieldName}'";isc.A.bindingValuePrompt="Click the pencil icon to enter a fixed value";isc.A.bindingContainerDefaults={_constructor:"BindingContainer",height:"*"};isc.A.bindingValuesPaneDefaults={_constructor:"BindingValuesPane",valuesChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.editedFields=["ID","description","componentId","values"];isc.B.push(isc.A.initWidget=function isc_FormSetValuesTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.bindingValuesPane=this.createAutoChild("bindingValuesPane",{scopeTreeData:this.getScopeTreeData(),bindingValuePrompt:this.bindingValuePrompt,fixedValueWindowTitle:this.fixedValueWindowTitle,overwriteBindingsMessage:this.overwriteBindingsMessage});var _1=[{name:"values",pane:this.bindingValuesPane,instructions:this.valuesInstructions,currentPane:true}];var _2=this.addAutoChild("bindingContainer",{bindingPanes:_1});this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.setEditorValues=function isc_FormSetValuesTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);var _1=this.getComponentDataSource();this.bindingValuesPane.setDataSource(_1);this.bindingValuesPane.setValues(this.getDefaultComponentBindings(this.elementEditNodeDefaults.values));this.bindingContainer.showPane(_1!=null)},isc.A.getEditedElementDefaults=function isc_FormSetValuesTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments);_1.values=this.bindingValuesPane.getValues();return _1},isc.A.componentIdChanged=function isc_FormSetValuesTaskEditor_componentIdChanged(){var _1=this.getComponentDataSource();this.bindingValuesPane.setDataSource(_1);this.bindingContainer.showPane(_1!=null)},isc.A.createDescription=function isc_FormSetValuesTaskEditor_createDescription(_1){return"Set '"+_1.componentId+"' values "});isc.B._maxIndex=isc.C+5;isc.defineClass("FormClearValuesTaskEditor","ComponentTaskEditor");isc.A=isc.FormClearValuesTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="FormClearValuesTask";isc.B.push(isc.A.initWidget=function isc_FormClearValuesTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.createDescription=function isc_FormClearValuesTaskEditor_createDescription(_1){return"Clear '"+_1.componentId+"' values"});isc.B._maxIndex=isc.C+2;isc.defineClass("FormResetValuesTaskEditor","ComponentTaskEditor");isc.A=isc.FormResetValuesTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="FormResetValuesTask";isc.B.push(isc.A.initWidget=function isc_FormResetValuesTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.createDescription=function isc_FormResetValuesTaskEditor_createDescription(_1){return"Reset '"+_1.componentId+"' values"});isc.B._maxIndex=isc.C+2;isc.defineClass("FormValidateValuesTaskEditor","ComponentTaskEditor");isc.A=isc.FormValidateValuesTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="FormValidateValuesTask";isc.B.push(isc.A.initWidget=function isc_FormValidateValuesTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.createDescription=function isc_FormValidateValuesTaskEditor_createDescription(_1){return"Validate '"+_1.componentId+"' values"});isc.B._maxIndex=isc.C+2;isc.defineClass("SetLabelTextTaskEditor","ComponentTaskEditor");isc.A=isc.SetLabelTextTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="SetLabelTextTask";isc.A.valueEditorDefaults={_constructor:isc.DynamicForm,wrapItemTitles:false,fixedColWidths:true,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.valueFieldDefaults={name:"value",type:"DynamicValueItem",title:"Value",required:true,allowRuleScopeValues:true,fieldName:"value"};isc.A.editedFields=["ID","description","componentId","value"];isc.B.push(isc.A.initWidget=function isc_SetLabelTextTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor(true);this.addValueEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.addValueEditor=function isc_SetLabelTextTaskEditor_addValueEditor(){var _1=[isc.addProperties({},this.valueFieldDefaults,{targetRuleScope:this.$167n,$171s:this.getRuleScopeDataSources()})];this.addAutoChild("valueEditor",{fields:_1})},isc.A.setEditorValues=function isc_SetLabelTextTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);this.valueEditor.setValues(this.elementEditNodeDefaults)},isc.A.validate=function isc_SetLabelTextTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.valueEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_SetLabelTextTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.valueEditor.getValue("value");_1.value=_2;return _1},isc.A.createDescription=function isc_SetLabelTextTaskEditor_createDescription(_1){return"Set '"+_1.componentId+"' text"});isc.B._maxIndex=isc.C+6;isc.defineClass("SetButtonTitleTaskEditor","ComponentTaskEditor");isc.A=isc.SetButtonTitleTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="SetButtonTitleTask";isc.A.valueEditorDefaults={_constructor:isc.DynamicForm,wrapItemTitles:false,fixedColWidths:true,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.valueFieldDefaults={name:"title",type:"DynamicValueItem",title:"Title",required:true,allowRuleScopeValues:true,fieldName:"value"};isc.A.editedFields=["ID","description","componentId","value"];isc.B.push(isc.A.initWidget=function isc_SetButtonTitleTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor(true);this.addValueEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.addValueEditor=function isc_SetButtonTitleTaskEditor_addValueEditor(){var _1=[isc.addProperties({},this.valueFieldDefaults,{targetRuleScope:this.$167n,$171s:this.getRuleScopeDataSources()})];this.addAutoChild("valueEditor",{fields:_1})},isc.A.setEditorValues=function isc_SetButtonTitleTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);this.valueEditor.setValues(this.elementEditNodeDefaults)},isc.A.validate=function isc_SetButtonTitleTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.valueEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_SetButtonTitleTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.valueEditor.getValue("title");_1.title=_2;return _1},isc.A.createDescription=function isc_SetButtonTitleTaskEditor_createDescription(_1){return"Set '"+_1.componentId+"' title"});isc.B._maxIndex=isc.C+6;isc.defineClass("ShowComponentTaskEditor","ComponentTaskEditor");isc.A=isc.ShowComponentTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="ShowComponentTask";isc.B.push(isc.A.initWidget=function isc_ShowComponentTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.createDescription=function isc_ShowComponentTaskEditor_createDescription(_1){return"Show "+_1.componentId});isc.B._maxIndex=isc.C+2;isc.defineClass("HideComponentTaskEditor","ComponentTaskEditor");isc.A=isc.HideComponentTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="HideComponentTask";isc.B.push(isc.A.initWidget=function isc_HideComponentTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.createDescription=function isc_HideComponentTaskEditor_createDescription(_1){return"Hide "+_1.componentId});isc.B._maxIndex=isc.C+2;isc.defineClass("ShowNotificationTaskEditor","ProcessElementEditor");isc.A=isc.ShowNotificationTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width=500;isc.A.height=200;isc.A.minWidth=500;isc.A.minHeight=200;isc.A.processElementType="ShowNotificationTask";isc.A.editorTitle="Show Notification Task";isc.A.messageEditorDefaults={_constructor:isc.DynamicForm,wrapItemTitles:false,fixedColWidths:true,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.notifyTypePickerDefaults={name:"notifyType",type:"RadioGroupItem",title:"Notify Type",defaultValue:"message",vertical:false,valueMap:{"message":"Normal","warn":"Warning","error":"Error"},required:true};isc.A.positionPickerDefaults={name:"position",type:"selectItem",title:"Screen Edge",defaultValue:"T",valueMap:{"L":"Left","T":"Top","R":"Right","B":"Bottom"}};isc.A.messageFieldDefaults={name:"message",type:"TextArea",title:"Message",width:"*",required:true};isc.A.autoDismissFieldDefaults={name:"autoDismiss",type:"boolean",title:"Auto dismiss",labelAsTitle:true,defaultValue:true};isc.A.editedFields=["ID","description","message","notifyType","position","autoDismiss"];isc.A.$207k={"message":"","warn":"warning","error":"error"};isc.B.push(isc.A.initWidget=function isc_ShowNotificationTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addMessageEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.addMessageEditor=function isc_ShowNotificationTaskEditor_addMessageEditor(){var _1=[isc.addProperties({},this.notifyTypePickerDefaults,this.notifyTypePickerProperties),isc.addProperties({},this.messageFieldDefaults,this.messageFieldProperties),isc.addProperties({},this.autoDismissFieldDefaults,this.autoDismissFieldProperties),isc.addProperties({},this.positionPickerDefaults,this.positionPickerProperties)];this.addAutoChild("messageEditor",{fields:_1})},isc.A.setEditorValues=function isc_ShowNotificationTaskEditor_setEditorValues(){var _1=this.elementEditNodeDefaults;this.idEditor.setValues(_1);this.descriptionEditor.setValues(_1);this.messageEditor.setValues(this.elementEditNodeDefaults)},isc.A.validate=function isc_ShowNotificationTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.messageEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_ShowNotificationTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.messageEditor.getValue("message"),_3=this.messageEditor.getValue("notifyType"),_4=this.messageEditor.getValue("position"),_5=this.messageEditor.getValue("autoDismiss");_1.message=_2;_1.notifyType=_3;_1.position=_4;_1.autoDismiss=_5;return _1},isc.A.createDescription=function isc_ShowNotificationTaskEditor_createDescription(_1){var _2=_1.message||"",_3=_1.notifyType||"message";return"Show "+this.$207k[_3]+" notification:<br>"+_2});isc.B._maxIndex=isc.C+6;isc.defineClass("ShowMessageTaskEditor","ProcessElementEditor");isc.A=isc.ShowMessageTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width=500;isc.A.height=200;isc.A.minWidth=500;isc.A.minHeight=200;isc.A.processElementType="ShowMessageTask";isc.A.editorTitle="Show Message Task";isc.A.messageEditorDefaults={_constructor:isc.DynamicForm,wrapItemTitles:false,fixedColWidths:true,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.messageTypePickerDefaults={name:"type",type:"RadioGroupItem",title:"Message Type",defaultValue:"normal",vertical:false,valueMap:{"normal":"Normal","warning":"Warning","error":"Error"},required:true};isc.A.messageFieldDefaults={name:"message",type:"TextArea",title:"Message",width:"*",required:true};isc.A.editedFields=["ID","description","type","message"];isc.A.$207j={"normal":"","warning":"warning","error":"error"};isc.B.push(isc.A.initWidget=function isc_ShowMessageTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addMessageEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.addMessageEditor=function isc_ShowMessageTaskEditor_addMessageEditor(){var _1=[isc.addProperties({},this.messageTypePickerDefaults,this.messageTypePickerProperties,{changed:this.operationTypeChanged}),isc.addProperties({},this.messageFieldDefaults,this.messageFieldProperties)];this.addAutoChild("messageEditor",{fields:_1})},isc.A.setEditorValues=function isc_ShowMessageTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);this.messageEditor.setValues(this.elementEditNodeDefaults)},isc.A.validate=function isc_ShowMessageTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.messageEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_ShowMessageTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.messageEditor.getValue("type"),_3=this.messageEditor.getValue("message");_1.type=_2;_1.message=_3;return _1},isc.A.createDescription=function isc_ShowMessageTaskEditor_createDescription(_1){var _2=_1.message||"",_3=_1.type||"normal";return"Show "+this.$207j[_3]+" notification:<br>"+_2});isc.B._maxIndex=isc.C+6;isc.defineClass("AskForValueTaskEditor","UserConfirmationGatewayEditor");isc.A=isc.AskForValueTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="AskForValueTask";isc.A.editorTitle="Ask For Value Task";isc.A.hasDefaultValueFieldDefaults={name:"hasDefaultValue",type:"boolean",title:"Provide a default value of: ",defaultValue:false};isc.A.defaultValueFieldDefaults={name:"defaultValue",type:"text",showTitle:false,width:"*",disabled:true};isc.A.editedFields=["ID","description","message","nextElement","failureElement","defaultValue"];isc.B.push(isc.A.addMessageEditor=function isc_AskForValueTaskEditor_addMessageEditor(){var _1=[isc.addProperties({},this.messageFieldDefaults),isc.addProperties({},this.hasDefaultValueFieldDefaults),isc.addProperties({},this.defaultValueFieldDefaults)];this.addAutoChild("messageEditor",{fields:_1});var _2=this;this.observe(this,"valuesChanged",function(){if(_2.messageEditor.getValue("hasDefaultValue")){_2.messageEditor.getField("defaultValue").enable();_2.messageEditor.getField("defaultValue").setRequired(true)}else{_2.messageEditor.getField("defaultValue").disable();_2.messageEditor.getField("defaultValue").setRequired(false)}})},isc.A.getEditedElementDefaults=function isc_AskForValueTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.messageEditor.getValues();_1.defaultValue=(_2.hasDefaultValue?_2.defaultValue:null);return _1},isc.A.createDescription=function isc_AskForValueTaskEditor_createDescription(_1){return"Ask user for value"});isc.B._maxIndex=isc.C+3;isc.defineClass("SetSectionTitleTaskEditor","ComponentTaskEditor");isc.A=isc.SetSectionTitleTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="SetSectionTitleTask";isc.A.sectionPickerFormatWithTitleValue="Section with title '${title}'";isc.A.sectionPickerFormatWithNameValue="Section with name '${name}'";isc.A.valuesEditorDefaults={_constructor:isc.DynamicForm,wrapItemTitles:false,fixedColWidths:true,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.sectionPickerDefaults={name:"section",type:"SelectItem",title:"Section",required:true,valueField:"name",displayField:"title",pickListWidth:250,pickListFields:[{name:"name",autoFitWidth:true},{name:"title",width:"*",showHover:true}],pickListProperties:{showHeader:false},formatValue:function(_1,_2,_3,_4){var _5=_4.getSelectedRecord();if(_5!=null){var _6=_3.creator,_7=_6.sectionPickerFormatWithNameValue;if(_5.autoAssigned){_7=_6.sectionPickerFormatWithTitleValue}
var _8=_7.evalDynamicString(this,{name:_5.name,title:_5.title});return _8}else{return _1}}};isc.A.valueFieldDefaults={name:"title",type:"DynamicValueItem",title:"Title",required:true,allowRuleScopeValues:true,fieldName:"title"};isc.A.editedFields=["ID","description","componentId","title"];isc.B.push(isc.A.initWidget=function isc_SetSectionTitleTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor(true);this.addValuesEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.addValuesEditor=function isc_SetSectionTitleTaskEditor_addValuesEditor(){var _1=[isc.addProperties({},this.sectionPickerDefaults,this.sectionPickerProperties,{getClientPickListData:function(){return this.form.sections}}),isc.addProperties({},this.valueFieldDefaults,this.valueFieldProperties,{targetRuleScope:this.$167n,$171s:this.getRuleScopeDataSources()})];this.addAutoChild("valuesEditor",{fields:_1,sections:this.getSections()})},isc.A.setEditorValues=function isc_SetSectionTitleTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);this.componentIdChanged();var _1=this.elementEditNodeDefaults;this.valuesEditor.setValues(_1);if(_1.targetSectionName){this.valuesEditor.setValue("section",_1.targetSectionName)}else{var _2=_1.targetSectionTitle,_3=this.getSections(),_4;for(var i=0;i<_3.length;i++){if(_3[i].title==_2){_4=_3[i].name;break}}
if(_4)this.valuesEditor.setValue("section",_4);else this.valuesEditor.clearValue("section")}},isc.A.validate=function isc_SetSectionTitleTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.valuesEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_SetSectionTitleTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.valuesEditor.getValues();_1.title=_2.title;var _3=this.valuesEditor.getField("section"),_4=_3.getSelectedRecord();if(_4){_1.targetSectionName=(_4.autoAssigned?null:_4.name);_1.targetSectionTitle=(_4.autoAssigned?_4.title:null)}
return _1},isc.A.getSections=function isc_SetSectionTitleTaskEditor_getSections(){var _1=this.componentIdEditor.getValue("componentId");if(!_1)return[];var _2=window[_1];if(!_2)return[];var _3=_2.getSectionNames(),_4=[];for(var i=0;i<_3.length;i++){var _6=_2.getSectionConfig(_3[i]);var _7=(_6.name==_6.ID);if(!_7){_7=/^section\d+$/.test(_6.name)}
_4.add({name:_6.name,title:_6.title,autoAssigned:_7})}
return _4},isc.A.componentIdChanged=function isc_SetSectionTitleTaskEditor_componentIdChanged(){this.valuesEditor.sections=this.getSections();this.valuesEditor.clearValue("section")},isc.A.createDescription=function isc_SetSectionTitleTaskEditor_createDescription(_1){var _2=_1.targetSectionName||_1.targetSectionTitle;return"Set '"+_1.componentId+"' section '"+_2+"' title"});isc.B._maxIndex=isc.C+8;isc.defineClass("ShowNextToComponentTaskEditor","ComponentTaskEditor");isc.A=isc.ShowNextToComponentTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="ShowNextToComponentTask";isc.A.nextToComponentPickerDefaults={name:"nextToComponentId",type:"ComboBoxItem",title:"Next To",required:true,valueField:"ID",displayField:"ID",pickListWidth:250,pickListFields:[{name:"ID",autoFitWidth:true,treeField:true},{name:"title",width:"*",showHover:true,formatCellValue:function(_1,_2,_3,_4,_5){return _1||_2.className}}],pickListProperties:{showHeader:false},autoOpenTree:"all"};isc.A.otherEditorDefaults={_constructor:"DynamicForm",wrapItemTitles:false,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.editedFields=["ID","description","componentId","nextToComponentId"];isc.B.push(isc.A.initWidget=function isc_ShowNextToComponentTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor();var _1=[this.getFormFieldForAvailableComponents("nextToComponentPicker",this.availableComponents,"Canvas")];this.addAutoChild("otherEditor",{fields:_1});this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.setEditorValues=function isc_ShowNextToComponentTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);this.otherEditor.setValues(this.elementEditNodeDefaults)},isc.A.validate=function isc_ShowNextToComponentTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.otherEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_ShowNextToComponentTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.otherEditor.getValues();_1.nextToComponentId=_2.nextToComponentId;return _1},isc.A.createDescription=function isc_ShowNextToComponentTaskEditor_createDescription(_1){return"Show '"+_1.componentId+"' next to '"+_1.nextToComponentId+"'"});isc.B._maxIndex=isc.C+5;isc.defineClass("NavigateListPaneTaskEditor","ComponentTaskEditor");isc.A=isc.NavigateListPaneTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="NavigateListPaneTask";isc.A.valuesEditorDefaults={_constructor:isc.DynamicForm,wrapItemTitles:false,fixedColWidths:true,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.valueFieldDefaults={name:"title",type:"DynamicValueItem",title:"Title",allowRuleScopeValues:true,fieldName:"title"};isc.A.editedFields=["ID","description","componentId","title"];isc.B.push(isc.A.initWidget=function isc_NavigateListPaneTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor(true);this.addValuesEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.addValuesEditor=function isc_NavigateListPaneTaskEditor_addValuesEditor(){var _1=[isc.addProperties({},this.valueFieldDefaults,this.valueFieldProperties,{targetRuleScope:this.$167n,$171s:this.getRuleScopeDataSources()})];this.addAutoChild("valuesEditor",{fields:_1})},isc.A.setEditorValues=function isc_NavigateListPaneTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);this.componentIdChanged();var _1=this.elementEditNodeDefaults;this.valuesEditor.setValues(_1)},isc.A.validate=function isc_NavigateListPaneTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.valuesEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_NavigateListPaneTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.valuesEditor.getValues();_1.title=_2.title;return _1},isc.A.createDescription=function isc_NavigateListPaneTaskEditor_createDescription(_1){var _2=_1.targetSectionName||_1.targetSectionTitle;return"Navigate List Pane of '"+_1.componentId+"'"});isc.B._maxIndex=isc.C+6;isc.defineClass("NavigateDetailPaneTaskEditor","ComponentTaskEditor");isc.A=isc.NavigateDetailPaneTaskEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.processElementType="NavigateDetailPaneTask";isc.A.valuesEditorDefaults={_constructor:isc.DynamicForm,wrapItemTitles:false,fixedColWidths:true,itemChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.valueFieldDefaults={name:"title",type:"DynamicValueItem",title:"Title",allowRuleScopeValues:true,fieldName:"title"};isc.A.editedFields=["ID","description","componentId","title"];isc.B.push(isc.A.initWidget=function isc_NavigateDetailPaneTaskEditor_initWidget(){this.Super("initWidget",arguments);this.addIdEditor();this.addComponentIdEditor(true);this.addValuesEditor();this.addDescriptionEditor();this.addEditButtons();this.setEditorValues()},isc.A.addValuesEditor=function isc_NavigateDetailPaneTaskEditor_addValuesEditor(){var _1=[isc.addProperties({},this.valueFieldDefaults,this.valueFieldProperties,{targetRuleScope:this.$167n,$171s:this.getRuleScopeDataSources()})];this.addAutoChild("valuesEditor",{fields:_1})},isc.A.setEditorValues=function isc_NavigateDetailPaneTaskEditor_setEditorValues(){this.Super("setEditorValues",arguments);this.componentIdChanged();var _1=this.elementEditNodeDefaults;this.valuesEditor.setValues(_1)},isc.A.validate=function isc_NavigateDetailPaneTaskEditor_validate(){var _1=this.Super("validate",arguments)&&this.valuesEditor.validate();return _1},isc.A.getEditedElementDefaults=function isc_NavigateDetailPaneTaskEditor_getEditedElementDefaults(){var _1=this.Super("getEditedElementDefaults",arguments),_2=this.valuesEditor.getValues();_1.title=_2.title;return _1},isc.A.createDescription=function isc_NavigateDetailPaneTaskEditor_createDescription(_1){var _2=_1.targetSectionName||_1.targetSectionTitle;return"Navigate Detail Pane of '"+_1.componentId+"'"});isc.B._maxIndex=isc.C+6;isc.defineClass("ProcessElementDescriptionItem","BlurbItem");isc.A=isc.ProcessElementDescriptionItem.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.showTitle=true;isc.A.icons=[{src:"[SKINIMG]actions/edit.png",prompt:"Enter a custom description",hspace:2,height:16,width:16,click:function(_1,_2,_3){_2.editDescription()}}];isc.A.valueDialogDefaults={_constructor:"ProcessElementValueDialog",height:185,width:600,title:"Custom Description"};isc.A.$206x=" [auto-generated]";isc.B.push(isc.A.editDescription=function isc_ProcessElementDescriptionItem_editDescription(){var _1=this,_2=_1.getValue(),_3;if(this.form.elementEditor.createDescription){var _4=this.form.elementEditor.getEditedElementDefaults();_3=this.form.elementEditor.createDescription(_4)}
var _5={type:"TextAreaItem",icons:[{src:"[SKINIMG]actions/refresh.png",prompt:"Reset to default description",click:"form.creator.resetToDefaultValue()"}]};var _6=this.createAutoChild("valueDialog",{valueFieldProperties:_5,value:_2,callback:function(_7){if(_7!=_2){_1.setValue(_7);_1.$198k=(_7!=_3)}
this.markForDestroy()},resetToDefaultValue:function(){this.valueEditor.setValue("value",_3)}});_6.show()},isc.A.updateAutoDescription=function isc_ProcessElementDescriptionItem_updateAutoDescription(){if(!this.$198k&&this.form.elementEditor.createDescription){var _1=this.form.elementEditor.getEditedElementDefaults();this.setValue(this.form.elementEditor.createDescription(_1))}},isc.A.mapDisplayToValue=function isc_ProcessElementDescriptionItem_mapDisplayToValue(_1){return _1.replace(this.$206x,"")},isc.A.mapValueToDisplay=function isc_ProcessElementDescriptionItem_mapValueToDisplay(_1){if(_1!=null&&this.form.elementEditor.createDescription){var _2=this.form.elementEditor.getEditedElementDefaults();var _3=this.form.elementEditor.createDescription(_2);if(_1!=_3){this.$198k=true}else{_1+=this.$206x;this.$198k=false}}
return _1});isc.B._maxIndex=isc.C+4;isc.defineClass("BindingContainer","VLayout");isc.A=isc.BindingContainer.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width="100%";isc.A.height="100%";isc.A.instructionsDefaults={_constructor:isc.HTMLFlow,width:"100%",padding:5};isc.A.deckDefaults={_constructor:isc.Deck,width:"100%",height:"100%"};isc.B.push(isc.A.initWidget=function isc_BindingContainer_initWidget(){this.Super("initWidget",arguments);this.addAutoChild("instructions");this.addAutoChild("deck");if(this.bindingPanes)this.setBindingPanes(this.bindingPanes)},isc.A.setBindingPanes=function isc_BindingContainer_setBindingPanes(_1){var _2=[],_3={},_4;for(var i=0;i<_1.length;i++){var _6=_1[i],_7=_6.name;_2.add(_6.pane);_3[_7]=_6;if(_6.currentPane)_4=_7}
this.paneMap=_3;this.deck.setPanes(_2);if(_4)this.setCurrentBindingPane(_4)},isc.A.setCurrentBindingPane=function isc_BindingContainer_setCurrentBindingPane(_1){this.instructions.setContents(this.paneMap[_1].instructions);this.deck.setCurrentPane(this.paneMap[_1].pane)},isc.A.showPane=function isc_BindingContainer_showPane(_1){if(_1){this.instructions.show();this.deck.show()}else{this.instructions.hide();this.deck.hide()}});isc.B._maxIndex=isc.C+4;isc.defineClass("ProcessElementValueDialog","Window");isc.A=isc.ProcessElementValueDialog.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width=400;isc.A.autoCenter=true;isc.A.isModal=true;isc.A.showModalMask=true;isc.A.bodyProperties={layoutMargin:5,membersMargin:5};isc.A.showMinimizeButton=false;isc.A.showMaximizeButton=false;isc.A.showCloseButton=false;isc.A.contributeToRuleContext=false;isc.A.valueEditorDefaults={_constructor:isc.DynamicForm,height:"*",wrapItemTitles:false,autoFocus:true};isc.A.valueFieldDefaults={name:"value",title:"Value",required:true,width:"*",labelAsTitle:true};isc.A.okButtonDefaults={_constructor:"IButton",autoParent:"editButtons",title:"OK",click:function(){this.parentElement.creator.saveEdits()}};isc.A.cancelButtonDefaults={_constructor:"IButton",autoParent:"editButtons",title:"Cancel",click:function(){this.parentElement.creator.cancelEditing()}};isc.A.editButtonsDefaults={_constructor:"HLayout",height:30,padding:2,align:"right",membersMargin:5};isc.B.push(isc.A.init=function isc_ProcessElementValueDialog_init(){this.Super("init",arguments);var _1=[isc.addProperties({},this.valueFieldDefaults,this.valueFieldProperties)];var _2={};_2.value=this.value||"";var _3=isc.addProperties({},{fields:_1,values:_2});if(this.dataSource)_3.dataSource=this.dataSource;this.valueEditor=this.createAutoChild("valueEditor",_3);var _4=this.createAutoChild("editButtons",{layoutAlign:"right"});_4.addMember(this.createAutoChild("cancelButton",{click:function(){this.creator.okClick()}}));_4.addMember(this.createAutoChild("okButton",{click:function(){this.creator.okClick()}}));this.addItems([this.valueEditor,_4])},isc.A.cancelClick=function isc_ProcessElementValueDialog_cancelClick(){this.returnValue(this.value)},isc.A.okClick=function isc_ProcessElementValueDialog_okClick(){this.returnValue(this.valueEditor.getValue("value"))});isc.B._maxIndex=isc.C+3;isc.defineClass("BindingValuesPane","HLayout");isc.A=isc.BindingValuesPane.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width="100%";isc.A.height="100%";isc.A.scopeTreeDefaults={_constructor:"TreeGrid",width:"40%",defaultFields:[{name:"title",title:"Task Scope"}],selectionType:"single",canDragRecordsOut:true,dragDataAction:"copy",draw:function(){this.Super("draw",arguments);var _1=this.data.getChildren(this.data.getRoot());this.data.openFolders(_1)},recordDoubleClick:function(_1,_2,_3,_4,_5,_6,_7){if(_2.isFolder)this.bindRecord(_2)},bindRecord:function(_1){this.creator.bindingGrid.bindRecord(_1)}};isc.A.addToBindingDefaults={_constructor:isc.Img,src:"[SKINIMG]actions/next.png",width:32,height:32,imageType:"normal",imageWidth:16,imageHeight:16,padding:8,layoutAlign:"center",disabled:true,showDisabled:false,click:function(){var _1=this.creator.scopeTree,_2=_1.getSelectedRecord();var _3=this.creator.bindingGrid,_4=_3.getSelectedRecord();_3.bind(_2,_4)}};isc.A.bindingGridDefaults={_constructor:"ListGrid",width:"*",defaultFields:[{name:"name",title:"Name",width:125,formatCellValue(value,record,rowNum,colNum,grid){return value+(record.title?" ("+record.title+")":"")}},{name:"type",title:"Type",width:75},{name:"binding",title:"Binding",width:"*",showHover:true,hoverHTML:function(_1,_2,_3,_4,_5){return _5.bindingValuePrompt},valueIconOrientation:"right",valueIconClick:function(_1,_2,_3,_4,_5,_6){var _7=(_2.fixedValue?_5:null);_1.editFixedValue(_1.targetDataSource,_2.name,_7,function(_8){if(_8!=_7){_2.binding=_8;_2.fixedValue=true;_1.refreshRow(_3)}})},formatCellValue(value,record,rowNum,colNum,grid){if(!value)return"";if(isc.isA.String(value)){if(value.startsWith("$ruleScope")||value.startsWith("$scope")){return value.replace("$ruleScope.","").replace("$scope.","")}else if(value.startsWith("$last")){return value.replace("$last","lastTaskResult")}}
var ds=isc.DS.get(grid.targetDataSource),field=ds.getField(record.name),formatRecord={};formatRecord[record.name]=value;return grid.applyCellTypeFormatters(value,formatRecord,field,rowNum,colNum,false)}}],getValueIcon:function(_1,_2,_3){return(_1.name=="binding"?"[SKINIMG]actions/edit.png":null)},canAcceptDroppedRecords:true,willAcceptDrop:function(){var _1=this.Super("willAcceptDrop",arguments);if(_1){var _2=this.ns.EH.dragTarget.getDragData(),_3=_2[0];if(_3.isFolder){this.selectAllRecords()}else{var _4=this.getEventRecordNum();this.selectSingleRecord(_4)}}
return _1},dropOver:function(){this.saveSelection()},dropOut:function(){this.restoreSelection()},recordDrop:function(_1,_2,_3,_4){this.restoreSelection();if(_1&&_1.length>0&&_2){this.bind(_1[0],_2)}},saveSelection:function(){this.$1963=this.getSelectedRecords()},restoreSelection:function(){this.deselectAllRecords();this.selectRecords(this.$1963)},contextMenu:{data:[{title:"Clear binding",click:"target.clearBinding();"}]},bind:function(_1,_2){if(_1.isFolder){this.bindRecord(_1)}else{this.bindField(_1,_2)}},bindRecord:function(_1){var _2=this.data,_3=false;for(var i=0;i<_2.length;i++){if(_2[i].binding!=null){_3=true;break}}
var _5=this;var _6=function(_8){if(_8){for(var i=0;i<_2.length;i++){if(_2[i].binding!=null){_2[i].binding=null;_2[i].fixedValue=null;_5.refreshRow(i)}}}
var _7=_1.children;_5.bindRecordFields(_7)};if(_3){isc.ask(this.creator.overwriteBindingsMessage,function(_8){_6(_8)})}else{_6(false)}},bindRecordFields:function(_1){var _2=this.data,_3=false;for(var i=0;i<_1.length;i++){var _5=_1[i],_6=_5.name;var _7=_6.lastIndexOf(".");if(_7>0){_6=_6.substring(_7+1)}
var _8=_2.findIndex("name",_6);if(_8>=0){var _9=this.getRecord(_8);if(_5.criteriaPath||_5.name.contains(".")){_9.binding="$ruleScope."+(_5.criteriaPath||_5.name)}else{_9.binding="$last."+_5.name}
_9.fixedValue=null;this.refreshRow(_8);_3=true}}
if(_3)this.fireValuesChanged()},bindField:function(_1,_2){if(_1.criteriaPath||_1.name.contains(".")){_2.binding="$ruleScope."+(_1.criteriaPath||_1.name);this.refreshRow(this.getRecordIndex(_2))}else{_2.binding="$last."+_1.name}
this.fireValuesChanged()},clearBinding:function(){var _1=this.getSelectedRecord();if(_1){if(_1.binding!=null){_1.binding=null;_1.fixedValue=null;this.refreshRow(this.getRecordIndex(_1));this.fireValuesChanged()}}},fireValuesChanged:function(){if(this.creator.valuesChanged){this.creator.valuesChanged()}},editorWindowDefaults:{_constructor:"Window",width:400,autoCenter:true,isModal:true,showModalMask:true,bodyProperties:{layoutMargin:5,membersMargin:5},showMinimizeButton:false,showMaximizeButton:false,showCloseButton:false,contributeToRuleContext:false},valueEditorDefaults:{_constructor:isc.DynamicForm,height:"*",wrapItemTitles:false,autoFocus:true},valueFieldDefaults:{title:"Value",required:true,width:"*",labelAsTitle:true},okButtonDefaults:{_constructor:"IButton",autoParent:"editButtons",title:"OK",click:function(){this.parentElement.creator.saveEdits()}},cancelButtonDefaults:{_constructor:"IButton",autoParent:"editButtons",title:"Cancel",click:function(){this.parentElement.creator.cancelEditing()}},editButtonsDefaults:{_constructor:"HLayout",height:30,padding:2,align:"right",membersMargin:5},editFixedValue:function(_1,_2,_3,_4){var _5=this.createAutoChild("editorWindow",{closeClick:function(){this.close();_4(_3)}});var _6=this.fixedValueWindowTitle.evalDynamicString(this,{fieldName:_2});_5.setTitle(_6);var _7=[isc.addProperties({},this.valueFieldDefaults,{name:_2})];var _8={};_8[_2]=_3;var _9=this.createAutoChild("valueEditor",{dataSource:_1,fields:_7,values:_8});var _10=this.createAutoChild("editButtons",{layoutAlign:"right"});_10.addMember(this.createAutoChild("cancelButton",{click:function(){_5.close();_4(_3)}}));_10.addMember(this.createAutoChild("okButton",{click:function(){var _11=_9.getValue(_2);_5.close();_4(_11)}}));_5.addItems([_9,_10]);_5.show()}};isc.B.push(isc.A.initWidget=function isc_BindingValuesPane_initWidget(){this.Super("initWidget",arguments);var _1=this;var _2={data:this.scopeTreeData,selectionUpdated:function(){_1.updateAddToBindingState()}};if(this.showBindings==false){isc.addProperties(_2,{width:"100%",selectionUpdated:function(){if(_1.valuesChanged){_1.valuesChanged()}}})}
this.addAutoChild("scopeTree",_2);if(this.showBindings!=false){this.addAutoChild("addToBinding");this.addAutoChild("bindingGrid",{bindingValuePrompt:this.bindingValuePrompt,fixedValueWindowTitle:this.fixedValueWindowTitle,overwriteBindingsMessage:this.overwriteBindingsMessage,selectionUpdated:function(){_1.updateAddToBindingState()}})}
if(this.dataSource)this.setDataSource(this.dataSource);if(this.values)this.setValues(this.values)},isc.A.setDataSource=function isc_BindingValuesPane_setDataSource(_1){this.dataSource=_1;if(this.bindingGrid){this.bindingGrid.targetDataSource=_1;this.updateBindingFields()}},isc.A.setValues=function isc_BindingValuesPane_setValues(_1){this.values=_1;if(this.showBindings!=false){this.showElementBindingValues(_1)}else{var _2=this.scopeTree,_3=_2.data,_4=isc.DS.get(this.dataSource),_5=(_4?_4.getPrimaryKeyFieldName():null),_6=(_5?_1[_5]:null);if(_6&&(_6.startsWith("$ruleScope.")||_6.startsWith("$scope."))){_6=_6.replace("$ruleScope.","").replace("$scope.","")}
var _7=(_5?_3.find("name",_6):null);if(_7){_2.selectSingleRecord(_7);var _8=_3.getParentPath(_7);_3.openFolders([_8]);isc.Timer.setTimeout(function(){var _9=_2.getRecordIndex(_7);_2.scrollToRow(_9)})}else{this.scopeTree.deselectAllRecords()}}},isc.A.getValues=function isc_BindingValuesPane_getValues(){var _1;if(this.showBindings!=false){var _2=this.bindingGrid,_3=_2.data;for(var i=0;i<_3.length;i++){if(_3[i].binding!=null){if(!_1)_1={};_1[_3[i].name]=_3[i].binding}}}else{var _5=this.scopeTree,_6=_5.getSelectedRecord(),_7=isc.DS.get(this.dataSource);if(_7){var _8=_7.getPrimaryKeyFieldName();if(_6){_1={};_1[_8]="$ruleScope."+_6.name}}}
return _1},isc.A.updateBindingFields=function isc_BindingValuesPane_updateBindingFields(){var _1=[],_2=this.dataSource,_3=isc.DS.get(_2);if(_3){var _4=_3.getPrimaryKeyFieldName();var _5=_3.getFieldNames();for(var i=0;i<_5.length;i++){var _7=_5[i],_8=_3.getField(_7);if(_4&&!this.includeSequencePK&&_8.name==_4&&_8.type=="sequence"){continue}
_1[_1.length]={name:_7,title:_8.title,type:_8.type}}}
this.bindingGrid.setData(_1)},isc.A.showElementBindingValues=function isc_BindingValuesPane_showElementBindingValues(_1){if(!this.bindingGrid)return;var _2=this.bindingGrid,_3=_2.data;for(var _4 in _1){var _5=_3.find("name",_4);if(_5){_5.binding=_1[_4];if(isc.isA.String(_1[_4])&&!_1[_4].startsWith("$")){_5.fixedValue=true}}}},isc.A.updateAddToBindingState=function isc_BindingValuesPane_updateAddToBindingState(){if(this.addToBinding){this.addToBinding.setDisabled(!this.scopeTree.anySelected()||!this.bindingGrid.anySelected())}});isc.B._maxIndex=isc.C+7;isc.defineClass("BindingCriteriaPane","VLayout");isc.A=isc.BindingCriteriaPane.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width="100%";isc.A.height="100%";isc.A.filterBuilderDefaults={_constructor:"FilterBuilder",height:"*",border:"1px solid gray",showModeSwitcher:true,initWidget:function(){this.$198l=true;this.Super("initWidget",arguments);this.$198l=false},draw:function(){this.$198l=true;this.Super("draw",arguments);this.$198l=false},filterChanged:function(){if(!this.$198l&&this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.B.push(isc.A.initWidget=function isc_BindingCriteriaPane_initWidget(){this.Super("initWidget",arguments);var _1={targetRuleScope:this.ruleScope,allowRuleScopeValues:true,$171s:this.criteriaDataSources};this.addAutoChild("filterBuilder",_1);if(this.dataSource)this.setDataSource(this.dataSource)},isc.A.setDataSource=function isc_BindingCriteriaPane_setDataSource(_1){if(this.filterBuilder.dataSource!=_1){this.filterBuilder.setDataSource(_1)}},isc.A.setCriteria=function isc_BindingCriteriaPane_setCriteria(_1){this.criteria=_1;this.filterBuilder.setCriteria(_1)},isc.A.getCriteria=function isc_BindingCriteriaPane_getCriteria(){return this.filterBuilder.getCriteria()});isc.B._maxIndex=isc.C+4;isc.defineClass("TaskDecisionEditor","VStack");isc.A=isc.TaskDecisionEditor.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.height=100;isc.A.padding=5;isc.A.criteriaNotCompleteMessage="Criteria is not complete";isc.A.criteriaMissingMessage="Target is selected but no criteria is defined";isc.A.targetTaskPickerDefaults={name:"targetTask",type:"SelectItem",title:"If criteria match, next task",width:300,allowEmptyValue:true,defaultValue:isc.Process.gatewayPlaceholderSelection,changed:function(_1,_2,_3){var _4=_1.creator;_4.creator.handleTitleChanged(_4,_3)}};isc.A.targetEditorLayoutDefaults={_constructor:"HLayout",height:1,align:"center"};isc.A.targetEditorDefaults={_constructor:"DynamicForm",autoParent:"targetEditorLayout",wrapItemTitles:false};isc.A.filterBuilderDefaults={_constructor:"FilterBuilder",showModeSwitcher:true,initWidget:function(){this.$198l=true;this.Super("initWidget",arguments);this.$198l=false},draw:function(){this.$198l=true;this.Super("draw",arguments);this.$198l=false},filterChanged:function(){if(!this.$198l&&this.creator.valuesChanged){this.creator.valuesChanged()}}};isc.A.criteriaErrorDefaults={_constructor:isc.HTMLFlow,width:"100%",visibility:"hidden"};isc.B.push(isc.A.initWidget=function isc_TaskDecisionEditor_initWidget(){this.Super("initWidget",arguments);var _1=[isc.addProperties({},this.targetTaskPickerDefaults,this.targetTaskPickerProperties,{valueMap:this.targetableElementsValueMap})];this.addAutoChild("targetEditorLayout");this.addAutoChild("targetEditor",{fields:_1});this.addAutoChild("criteriaError");var _2={targetRuleScope:this.targetRuleScope,allowRuleScopeValues:true,createRuleCriteria:true,targetComponent:{ID:"_none_"},$171s:this.$171s};this.addAutoChild("filterBuilder",_2);if(this.taskDecision)this.setValue(this.taskDecision)},isc.A.getValue=function isc_TaskDecisionEditor_getValue(){var _1=this.targetEditor.getValue("targetTask"),_2=this.filterBuilder.getCriteria();if(!_2.criteria||_2.criteria.isEmpty())_2=null;return(_1&&_2?{targetTask:_1,criteria:_2}:null)},isc.A.setValue=function isc_TaskDecisionEditor_setValue(_1){this.targetEditor.setValues(_1);if(_1.criteria){this.filterBuilder.setCriteria(_1.criteria)}else this.filterBuilder.clearCriteria()},isc.A.validate=function isc_TaskDecisionEditor_validate(){var _1=this.targetEditor.validate()&&this.filterBuilder.validate(),_2=null;if(_1){var _3=this.filterBuilder.getCriteria(),_4=(!_3.criteria||_3.criteria.isEmpty()),_5=_4&&!this.filterBuilder.getCriteria(true).criteria.isEmpty(),_6=(this.targetEditor.getValue("targetTask")==null||this.targetEditor.getValue("targetTask")=="");if(_5){_1=false;_2=this.criteriaNotCompleteMessage}else if(_4&&!_6){_1=false;_2=this.criteriaMissingMessage}else if(!_4&&_6){this.targetEditor.setError("targetTask",isc.Validator.requiredField);this.targetEditor.markForRedraw();_1=false}}
if(!_1&&_2){var _7=this.targetEditor.getField("targetTask");var _8=isc.Canvas.imgHTML(_7.errorIconSrc,_7.errorIconWidth,_7.errorIconHeight);this.criteriaError.setContents(_8+"&nbsp;"+_2);this.criteriaError.show()}else{this.criteriaError.hide()}
return _1});isc.B._maxIndex=isc.C+4;isc.defineClass("DynamicValueItem","CanvasItem");isc.A=isc.DynamicValueItem.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width="*";isc.A.rowSpan="*";isc.A.multiDSFieldFormat="separated";isc.A.dynamicValuePrefix="Dynamic: ";isc.A.dynamicValueButtonPrompt="Select dynamic value";isc.A.dynamicValueWindowTitle="Choose dynamic value for field ${fieldTitle}";isc.A.shouldSaveValue=true;isc.A.valueEditorDefaults={_constructor:isc.DynamicForm,cellPadding:0,numCols:1,itemChanged:function(){this.creator.itemChanged()}};isc.A.valueFieldDefaults={required:true,showTitle:false,labelAsTitle:true,useTextField:true,width:"*"};isc.A.valuePathDefaults={name:"valuePath",type:"staticText",showTitle:false,height:isc.TextItem.getInstanceProperty("height"),wrap:false,clipValue:true,visible:false,valueSuffix:"</nobr>",formatValue:function(_1,_2,_3,_4){if(_3.creator&&_3.creator.creator&&_3.creator.creator.targetComponent){var _5=_3.creator.creator.targetComponent.ID+".values.";if(_1!=null&&_1.startsWith(_5))_1=_1.replace(_5,"")}
return(_1!=null?this.valuePrefix+_1+this.valueSuffix:null)}};isc.A.dynamicValueIconDefaults={icons:[{src:"[SKINIMG]actions/dynamic.png",prompt:this.dynamicValueButtonPrompt,hspace:2,height:16,width:16,click:function(_1,_2,_3){_1.creator.dynamicValueClick()}}]};isc.A.dynamicValueWindowConstructor="DynamicValuePicker";isc.A.dynamicValueWindowDefaults={okButtonClick:function(_1){this.creator.dynamicValueSelected(_1);this.destroy()},closeClick:function(){var _1=this.Super("closeClick",arguments);this.destroy();return _1}};isc.B.push(isc.A.setField=function isc_DynamicValueItem_setField(_1,_2){if(this.fieldName!=_1){this.fieldName=_1;this.fieldTitle=_2;this.updateCanvas()}},isc.A.updateCanvas=function isc_DynamicValueItem_updateCanvas(_1){var _2={name:this.fieldName},_3={valuePrefix:"<nobr>"+this.dynamicValuePrefix};if(this.allowRuleScopeValues){isc.addProperties(_2,this.dynamicValueIconDefaults,{targetRuleScope:this.targetRuleScope});isc.addProperties(_3,this.dynamicValueIconDefaults)}
var _4=[isc.addProperties({},this.valueFieldDefaults,_2)];if(this.allowRuleScopeValues){_4.add(isc.addProperties({},this.valuePathDefaults,_3))}
var _5={};if(this.allowRuleScopeValues&&_1&&isc.isA.String(_1)&&(_1.startsWith("$ruleScope")||_1.startsWith("$scope"))){_1=_1.replace("$ruleScope.","").replace("$scope.","");_5.valuePath=_1;_4[0].visible=false;_4[1].visible=true}else{_5[this.fieldName]=_1;_4[0].visible=true;if(this.allowRuleScopeValues)_4[1].visible=false}
var _6=this.createAutoChild("valueEditor",{dataSource:this.dataSource,fields:_4,values:_5});this.setCanvas(_6)},isc.A.showValue=function isc_DynamicValueItem_showValue(_1,_2){if(this.canvas){this.updateCanvas(_2)}},isc.A.itemChanged=function isc_DynamicValueItem_itemChanged(){var _1=this.canvas.getValue(this.fieldName);var _2=this.canvas.getField("valuePath");if(_2.isVisible()){_1="$ruleScope."+this.canvas.getValue("valuePath")}
this.storeValue(_1)},isc.A.dynamicValueSelected=function isc_DynamicValueItem_dynamicValueSelected(_1){this.updateCanvas(_1!=null?"$ruleScope."+_1:null);this.itemChanged()},isc.A.dynamicValueClick=function isc_DynamicValueItem_dynamicValueClick(){var _1=this.canvas.getValue("valuePath");var _2=this.createDynamicValuePicker(_1);_2.show()},isc.A.createDynamicValuePicker=function isc_DynamicValueItem_createDynamicValuePicker(_1){var _2=this.createAutoChild("dynamicValueWindow",{title:this.dynamicValueWindowTitle.evalDynamicString(this,{fieldTitle:this.fieldTitle}),ruleScopeDataSources:this.$171s,targetRuleScope:this.targetRuleScope,targetComponent:this.targetComponent,multiDSFieldFormat:this.multiDSFieldFormat,selectedValue:_1});return _2});isc.B._maxIndex=isc.C+7;isc.defineClass("DynamicValuePicker","Window");isc.A=isc.DynamicValuePicker.getPrototype();isc.A.autoSize=true;isc.A.width=600;isc.A.autoCenter=true;isc.A.isModal=true;isc.A.bodyProperties={layoutMargin:5,membersMargin:5};isc.A.multiDSFieldFormat="separated";isc.A.clearValueText="&lt;Use static value instead&gt;";isc.A=isc.DynamicValuePicker.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.ruleScopeGridConstructor=isc.ListGrid;isc.A.ruleScopeGridDefaults={height:400,width:"100%",autoFetchData:true,dataFetchMode:"local",selectionType:"single",initWidget:function(){this.fields=[{name:"name",type:"text",title:"Path",hidden:(this.pathField!="name")},{name:"title",type:"text",title:"Path",hidden:(this.pathField!="title")},{name:"value",type:"text",title:"Current value",hidden:true}];this.Super("initWidget",arguments)},formatCellValue:function(_1,_2,_3,_4){if(_1==null&&_4==0)return this.clearValueText;return(_2.enabled==false||this.multiDSFieldFormat=="qualified"?_1:"&nbsp;&nbsp;"+_1)},recordDoubleClick:function(){this.creator.handleOkButtonClick()}};isc.B.push(isc.A.initWidget=function isc_DynamicValuePicker_initWidget(){this.Super("initWidget",arguments);var _1=isc.Canvas.getMultiDSFieldDataSource(this.targetRuleScope,this.ruleScopeDataSources,this.targetComponent,null,this.multiDSFieldFormat);if(this.selectedValue!=null){_1.testData.addAt({name:null},0)}
var _2=(this.multiDSFieldFormat=="separated"?"title":"name");var _3=this,_4=this.createAutoChild("ruleScopeGrid",{dataSource:_1,pathField:_2,clearValueText:this.clearValueText}),_5=isc.IButton.create({title:"OK",click:function(){_3.handleOkButtonClick()}}),_6=isc.IButton.create({title:"Cancel",click:function(){_3.handleCloseClick()}});this.addItems([_4,isc.HLayout.create({height:1,layoutAlign:"right",membersMargin:5,members:[_6,_5]})]);this.observe(_4,"dataArrived","observer.$171r()");this.ruleScopeGrid=_4;this.ruleScopeDS=_1},isc.A.handleOkButtonClick=function isc_DynamicValuePicker_handleOkButtonClick(){var _1=this.ruleScopeGrid.getSelectedRecord();if(_1&&this.okButtonClick){this.close();this.okButtonClick(_1.criteriaPath||_1.name)}else{this.closeClick()}},isc.A.destroy=function isc_DynamicValuePicker_destroy(){if(this.ruleScopeDS){this.ruleScopeDS.destroy()}
this.Super("destroy",arguments)},isc.A.$171r=function isc_DynamicValuePicker__selectDynamicValuePath(){if(!this.selectedValue)return;var _1=this.ruleScopeGrid,_2=this.ruleScopeGrid.data,_3=this.selectedValue;if(_2){var _4=_1.data.find("name",_3);if(!_4)_4=_1.data.find("criteriaPath",_3);if(_4)_1.selectSingleRecord(_4);this.selectedValuePath=null}});isc.B._maxIndex=isc.C+4;isc._nonDebugModules=(isc._nonDebugModules!=null?isc._nonDebugModules:[]);isc._nonDebugModules.push('Workflow');isc.checkForDebugAndNonDebugModules();isc._moduleEnd=isc._Workflow_end=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc.Log&&isc.Log.logIsInfoEnabled('loadTime'))isc.Log.logInfo('Workflow module init time: '+(isc._moduleEnd-isc._moduleStart)+'ms','loadTime');delete isc.definingFramework;if(isc.Page)isc.Page.handleEvent(null,"moduleLoaded",{moduleName:'Workflow',loadTime:(isc._moduleEnd-isc._moduleStart)});}else{if(window.isc&&isc.Log&&isc.Log.logWarn)isc.Log.logWarn("Duplicate load of module 'Workflow'.");}
